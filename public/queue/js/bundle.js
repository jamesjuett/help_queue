!function(e){var t={};function n(s){if(t[s])return t[s].exports;var i=t[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(s,i,function(t){return e[t]}.bind(null,i));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=50)}([function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var s=n(6).Symbol;e.exports=s},function(e,t,n){var s=n(7),i=n(14),o="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||i(e)&&s(e)==o}},function(e,t,n){var s=n(1),i=n(5),o=n(15),r=n(2),a=1/0,u=s?s.prototype:void 0,p=u?u.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(r(t))return p?p.call(t):"";var n=t+"";return"0"==n&&1/t==-a?"-0":n}},function(e,t,n){var s=n(3);e.exports=function(e){return null==e?"":s(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,s=null==e?0:e.length,i=Array(s);++n<s;)i[n]=t(e[n],n,e);return i}},function(e,t,n){var s=n(36),i="object"==typeof self&&self&&self.Object===Object&&self,o=s||i||Function("return this")();e.exports=o},function(e,t,n){var s=n(1),i=n(34),o=n(33),r="[object Null]",a="[object Undefined]",u=s?s.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?a:r:u&&u in Object(e)?i(e):o(e)}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var s=n(0),i=n(2),o=NaN,r=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,p=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return o;if(s(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=s(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=u.test(e);return n||p.test(e)?c(e.slice(2),n?2:8):a.test(e)?o:+e}},function(e,t,n){var s=n(9),i=1/0,o=1.7976931348623157e308;e.exports=function(e){return e?(e=s(e))===i||e===-i?(e<0?-1:1)*o:e==e?e:0:0===e?e:0}},function(e,t,n){var s=n(10);e.exports=function(e){var t=s(e),n=t%1;return t==t?n?t-n:t:0}},function(e,t){e.exports=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}},function(e,t,n){var s=n(12),i=n(3),o=n(11),r=n(4);e.exports=function(e,t,n){e=r(e),t=i(t);var a=e.length,u=n=void 0===n?a:s(o(n),0,a);return(n-=t.length)>=0&&e.slice(n,u)==t}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},function(e,t,n){var s=n(16)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=s},function(e,t,n){var s=n(17),i=n(4),o=/[&<>"']/g,r=RegExp(o.source);e.exports=function(e){return(e=i(e))&&r.test(e)?e.replace(o,s):e}},function(e,t){e.exports=function(e,t){var n=-1,s=e.length;for(t||(t=Array(s));++n<s;)t[n]=e[n];return t}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t){e.exports=function(e,t,n,s){for(var i=n-1,o=e.length;++i<o;)if(s(e[i],t))return i;return-1}},function(e,t){e.exports=function(e,t,n){for(var s=n-1,i=e.length;++s<i;)if(e[s]===t)return s;return-1}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,n,s){for(var i=e.length,o=n+(s?1:-1);s?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},function(e,t,n){var s=n(24),i=n(23),o=n(22);e.exports=function(e,t,n){return t==t?o(e,t,n):s(e,i,n)}},function(e,t,n){var s=n(5),i=n(25),o=n(21),r=n(20),a=n(19),u=Array.prototype.splice;e.exports=function(e,t,n,p){var c=p?o:i,l=-1,d=t.length,h=e;for(e===t&&(t=a(t)),n&&(h=s(e,r(n)));++l<d;)for(var f=0,m=t[l],v=n?n(m):m;(f=c(h,v,f,p))>-1;)h!==e&&u.call(h,f,1),u.call(e,f,1);return e}},function(e,t,n){var s=n(26);e.exports=function(e,t){return e&&e.length&&t&&t.length?s(e,t):e}},function(e,t){var n=800,s=16,i=Date.now;e.exports=function(e){var t=0,o=0;return function(){var r=i(),a=s-(r-o);if(o=r,a>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){var s=n(6)["__core-js_shared__"];e.exports=s},function(e,t,n){var s=n(31),i=function(){var e=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var s=n(1),i=Object.prototype,o=i.hasOwnProperty,r=i.toString,a=s?s.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var s=!0}catch(e){}var i=r.call(e);return s&&(t?e[a]=n:delete e[a]),i}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(35))},function(e,t,n){var s=n(7),i=n(0),o="[object AsyncFunction]",r="[object Function]",a="[object GeneratorFunction]",u="[object Proxy]";e.exports=function(e){if(!i(e))return!1;var t=s(e);return t==r||t==a||t==o||t==u}},function(e,t,n){var s=n(37),i=n(32),o=n(0),r=n(30),a=/^\[object .+?Constructor\]$/,u=Function.prototype,p=Object.prototype,c=u.toString,l=p.hasOwnProperty,d=RegExp("^"+c.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(s(e)?d:a).test(r(e))}},function(e,t,n){var s=n(38),i=n(29);e.exports=function(e,t){var n=i(e,t);return s(n)?n:void 0}},function(e,t,n){var s=n(39),i=function(){try{var e=s(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t,n){var s=n(41),i=n(40),o=n(8),r=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:s(t),writable:!0})}:o;e.exports=r},function(e,t,n){var s=n(42),i=n(28)(s);e.exports=i},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var s=n(44),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,r=-1,a=i(o.length-t,0),u=Array(a);++r<a;)u[r]=o[t+r];r=-1;for(var p=Array(t+1);++r<t;)p[r]=o[r];return p[t]=n(u),s(e,this,p)}}},function(e,t,n){var s=n(8),i=n(45),o=n(43);e.exports=function(e,t){return o(i(e,t,s),e+"")}},function(e,t,n){var s=n(46)(n(27));e.exports=s},function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(47));function o(e,t){var n=e._act[t.category];n?n.call(e,t):e._act._default?e._act._default.call(e,t):assert(!1)}t.addListener=function(e,t,n){e.observable.addListener(t,n)},t.messageResponse=function(e){return function(t,n,s){t._act||(t._act={}),t._act[e||n]=t[n]}};var r=function(){function e(e){this.silent=!1,this.universalObservers=[],this.observers={},this.source=e}return e.prototype.send=function(e,t){if(!this.silent){var n={category:e,data:t,source:this.source},s=this.observers[n.category];if(s)for(var i=0;i<s.length;++i)o(s[i],n);for(i=0;i<this.universalObservers.length;++i)o(this.universalObservers[i],n)}},e.prototype.addListener=function(e,t){if(t)if(Array.isArray(t))for(var n=0;n<t.length;++n)this.addListener(e,t[n]);else this.observers[t]||(this.observers[t]=[]),this.observers[t].push(e),this.listenerAdded(e,t);else this.universalObservers.push(e),this.listenerAdded(e);return this},e.prototype.removeListener=function(e,t){if(t){var n=this.observers[t];n&&i.default(n,e),this.listenerRemoved(e,t)}else{for(var s in this.observers)this.removeListener(e,s);i.default(this.universalObservers,e),this.listenerRemoved(e)}return this},e.prototype.listenerAdded=function(e,t){},e.prototype.listenerRemoved=function(e,t){},e}();t.Observable=r},function(e,t,n){"use strict";var s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function s(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),i=this&&this.__decorate||function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},o=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))(function(i,o){function r(e){try{u(s.next(e))}catch(e){o(e)}}function a(e){try{u(s.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(r,a)}u((s=s.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,s,i,o,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=2&o[0]?s.return:o[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,o[1])).done)return i;switch(s=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,s=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){r=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){r.label=o[1];break}if(6===o[0]&&r.label<i[1]){r.label=i[1],i=o;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(o);break}i[2]&&r.ops.pop(),r.trys.pop();continue}o=t.call(e,r)}catch(e){o=[6,e],s=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});Array.prototype.clear=function(){this.length=0};var u=n(48),p=a(n(18)),c=a(n(13)),l=function(){function e(e){this.courses=[],this.messagesShown={},this.observable=new u.Observable(this),this.elem=e,this.coursePills=e.find(".coursePills"),this.coursePanes=e.find(".coursePanes"),this.loadCourses()}return e.createInstance=function(t){e.instance=new e(t)},e.prototype.loadCourses=function(){return o(this,void 0,void 0,function(){var e,t;return r(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,$.getJSON("api/courseList")];case 1:return e=n.sent(),this.onCoursesLoad(e),[3,3];case 2:return q(t=n.sent(),t),[3,3];case 3:return[2]}})})},e.prototype.onCoursesLoad=function(e){var t=this;this.coursePills.empty(),this.coursePanes.empty(),this.courses.clear(),this.coursePanes.append($('<div class="tab-pane fade in active"><h1><span class="glyphicon glyphicon-arrow-left"></span> Please select a course.</h1></div>')),e.forEach(function(e){for(var n in e)e[n]=p.default(e[n]);var s=e.courseId,i=$('<li><a href="#'+s+'" data-toggle="pill"><h3>'+s+"</h3></a></li>");t.coursePills.append(i);var o=$('<div id="'+s+'" class="tab-pane fade"></div>');t.coursePanes.append(o);var r=new d(e,o);t.courses.push(r),i.find("a").click(function(){r.makeActive()})})},e.prototype.setActiveQueue=function(e){this._activeQueue=e,console.log("Setting active queue to "+e.queueId),this.updateSignUpForm(),this.observable.send("activeQueueSet")},e.prototype.activeQueue=function(){return this._activeQueue},e.prototype.updateSignUpForm=function(){this._activeQueue&&this._activeQueue.hasMap()?($("#signUpMapHolder").show(),$("#signUpMapMessage").show(),$("#signUpMapImage").attr("src",this._activeQueue.mapImageSrc)):($("#signUpMapHolder").hide(),$("#signUpMapMessage").hide())},e.prototype.userSignedIn=function(){this.courses.forEach(function(e){e.userSignedIn()})},e.prototype.refreshActiveQueue=function(){this._activeQueue&&this._activeQueue.refresh(),this.refreshContent()},e.prototype.message=function(e){this.messagesShown[e.id]||(this.messagesShown[e.id]=!0,$("#messageDialogHeader").html("Message"),$("#messageDialogContent").append('<p><span class="label label-info">'+e.sender+"</span> "+e.message+"</p>"),$("#messageDialog").modal("show"))},e.prototype.setSendMessagePostId=function(e){this.sendMessagePostId=e},e.prototype.sendMessage=function(e){$.ajax({type:"POST",url:"api/sendMessage",data:{idtoken:y.idToken(),id:this.sendMessagePostId,message:e},success:function(){},error:q})},e.prototype.refreshContent=function(){this._activeQueue&&(document.title=this._activeQueue.course.shortName+" OH ("+this._activeQueue.numEntries+")")},e.prototype.notify=function(e,t){Notification?"granted"!==Notification.permission?Notification.requestPermission():new Notification(e,{body:t}):alert(t)},e._name="QueueApplication",e}();t.QueueApplication=l;var d=function(){function e(e,t){this.isAdmin=!1,this.queues=[],this.courseId=e.courseId,this.shortName=e.shortName,this.fullName=e.fullName,this.elem=t,this.queuePillsElem=$('<ul class="queuePills nav nav-pills"></ul>'),this.elem.append(this.queuePillsElem),this.pickAQueueElem=$("<div></div>"),this.pickAQueueElem.append($('<h3><span class="glyphicon glyphicon-arrow-up"></span> Several queues are available for '+this.shortName+". Please select one.</h3>")),this.elem.append(this.pickAQueueElem),this.mainElem=$("<div></div>"),this.mainElem.hide(),this.queuePanesElem=$('<div class="col-xs-12 col-md-12 queuePanes tab-content"></div>'),this.mainElem.append(this.queuePanesElem),this.contentElem=$('<div class="col-xs-12 col-md-12"></div>'),this.mainElem.append(this.contentElem),this.elem.append(this.mainElem),this.loadContent(),this.loadQueues()}return e.prototype.makeActive=function(){this.activeQueue&&this.activeQueue.makeActive()},e.prototype.loadContent=function(){this.contentElem.load("queue-component/courseContent/"+this.courseId)},e.prototype.loadQueues=function(){var e=this;return $.ajax({type:"GET",url:"api/queueList/"+this.courseId,dataType:"json",success:function(t){e.onQueuesLoad(t)},error:q})},e.prototype.onQueuesLoad=function(e){var t=this;this.queues.clear(),this.queuePillsElem.empty(),this.queuePanesElem.empty(),e.forEach(function(e){var n=e.name,s=e.queueId,i=$('<li><a data-toggle="pill"><h6>'+n+"</h6></a></li>");i.find("a").prop("href","#queue"+s),t.queuePillsElem.append(i);var o=$('<div id="queue'+s+'"></div>');o.addClass("tab-pane fade"),t.queuePanesElem.append(o);var r=new h(e,t,o);t.queues.push(r),r.refresh(),i.find("a").click(function(){t.pickAQueueElem.empty(),t.activeQueue=r,t.mainElem.show(),r.makeActive()})}),1===this.queues.length?(this.queuePillsElem.children().first().addClass("active"),this.queuePanesElem.children().first().addClass("in active"),this.activeQueue=this.queues[0],this.pickAQueueElem.hide(),this.mainElem.show()):(this.pickAQueueElem.show(),this.mainElem.hide()),this.setAdmin(y.isCourseAdmin(this.courseId))},e.prototype.setAdmin=function(e){this.isAdmin=e;for(var t=0;t<this.queues.length;++t)this.queues[t].setAdmin(e);this.isAdmin?(this.elem.addClass("admin"),this.elem.removeClass("notAdmin")):(this.elem.addClass("notAdmin"),this.elem.removeClass("admin"))},e.prototype.userSignedIn=function(){this.setAdmin(y.isCourseAdmin(this.courseId)),this.queues.forEach(function(e){e.userSignedIn()})},e}(),h=function(){function e(e,t,n){this.observable=new u.Observable(this),this.isAdmin=!1,this.numEntries=0,this.lastRefresh=new Date,this.isOpen=!1,this.myRequest=null,this.mapImageSrc="",this.refreshDisabled=!1,this.currentRefreshIndex=0,this.course=t,this.queueId=e.queueId,this.location=e.location,this.mapImageSrc=e.map?e.map:"",this.name=e.name,this.elem=n,this.isAdmin=!1,this.numEntries=0,this.currentRefreshIndex=0,this.lastRefresh=new Date,this.isOpen=!1,this.refreshDisabled=!1;var s=$("<p></p>").appendTo(this.elem);s.append($('<span data-toggle="tooltip" title="Number of Students"><span class="glyphicon glyphicon-education"></span></span>').append(" ").append(this.numEntriesElem=$("<span></span>"))),s.append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"),s.append($('<span data-toggle="tooltip" title="Last Refresh"><span class="glyphicon glyphicon-refresh"></span></span>').append(" ").append(this.lastRefreshElem=$("<span></span>"))),s.append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"),this.statusMessageElem=$("<span>Loading queue information...</span>"),s.append(this.statusMessageElem),this.adminStatusElem=$('<span class="adminOnly"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;You are an admin for this queue.</b></span>'),s.append(this.adminStatusElem),this.adminControlsElem=$('<div class="panel panel-default adminOnly"><div class="panel-body"></div></div>').appendTo(this.elem).find(".panel-body"),this.adminControls=new m(this,this.adminControlsElem),this.studentControlsElem=$('<div class="panel panel-default"><div class="panel-body"></div></div>').appendTo(this.elem).find(".panel-body"),this.studentControls=new f(this,this.studentControlsElem),this.observable.addListener(this.studentControls),this.queueElem=$("<div></div>").appendTo(this.elem),this.stackElem=$('<div class="adminOnly"></div>').appendTo(this.elem),this.elem.find('[data-toggle="tooltip"]').tooltip(),this.userSignedIn()}return e.prototype.makeActiveOnClick=function(e){var t=this;e.click(function(){t.makeActive()})},e.prototype.makeActive=function(){l.instance.setActiveQueue(this),this.refresh()},e.prototype.refresh=function(){var e=this;this.currentRefreshIndex+=1;var t=this.currentRefreshIndex;return $.ajax({type:"POST",url:"api/list",data:{queueId:this.queueId},dataType:"json",success:function(n){t===e.currentRefreshIndex&&e.refreshResponse(n)},error:q})},e.prototype.refreshResponse=function(e){if(!this.refreshDisabled){if(e.message&&l.instance.message(e.message),this.isOpen=e.isOpen,this.isOpen)this.statusMessageElem.html("The queue is open.");else{for(var t=e.schedule,n=-1,s=e.halfHour;s<48;++s){var i=t.charAt(s);if("o"===i||"p"===i){n=s;break}}if(-1===n)this.statusMessageElem.html("The queue is closed for today.");else{var o=new Date;o.setHours(0),o.setMinutes(0),o.setSeconds(0);var r=new Date(o.getTime()+30*n*6e4);this.statusMessageElem.html("The queue is closed right now. It will open at "+r.toLocaleTimeString()+".")}}var a=e.queue;this.queueElem.empty();var u=[],p=null;for(s=0;s<a.length;++s){var c=a[s],d=$("<li class='list-group-item'></li>"),h=new v(this,c,s,d);u.push(h),!p&&y.isMe(h.email)&&(p=h),this.queueElem.append(d)}this.setMyRequest(p),this.observable.send("queueRefreshed"),this.stackElem.html("<h3>The Stack</h3><br /><p>Most recently removed at top</p><pre>"+JSON.stringify(e.stack,null,4)+"</pre>");var f=this.numEntries;this.numEntries=a.length,this.isAdmin&&0===f&&this.numEntries>0&&l.instance.notify("Request Received!",u[0].name),this.lastRefresh=new Date,this.numEntriesElem.html(""+this.numEntries),this.lastRefreshElem.html(this.lastRefresh.toLocaleTimeString())}},e.prototype.setMyRequest=function(e){this.myRequest=e,this.observable.send("myRequestSet")},e.prototype.removeRequest=function(e){console.log("attempting to remove "+e.email+" from queue "+this.queueId),this.disableRefresh();var t=this;$.ajax({type:"POST",url:"api/remove",data:{id:e.id},success:function(){console.log("successfully removed "+e.email+" from queue "+t.queueId),e.onRemove()},error:q}).always(function(){setTimeout(function(){t.enableRefresh(),t.refresh()},500)})},e.prototype.cancelIncomingRefresh=function(){this.currentRefreshIndex+=1},e.prototype.disableRefresh=function(){this.refreshDisabled=!0},e.prototype.enableRefresh=function(){this.refreshDisabled=!1},e.prototype.clear=function(){var e=this;return $.ajax({type:"POST",url:"api/clear",data:{idtoken:y.idToken(),queueId:this.queueId},success:function(){e.clearList()},error:q})},e.prototype.clearList=function(){this.queueElem.children().slideUp()},e.prototype.signUp=function(e,t,n,s,i){var o=this;return $.ajax({type:"POST",url:"api/signUp",data:{idtoken:y.idToken(),queueId:this.queueId,name:e,location:t,mapX:s,mapY:i,description:n},dataType:"json",success:function(e){e.fail?E(e.reason):o.refresh()},error:q})},e.prototype.updateRequest=function(e,t,n,s,i){var o=this;return $.ajax({type:"POST",url:"api/updateRequest",data:{id:this.myRequest.id,name:e,location:t,mapX:s,mapY:i,description:n},dataType:"json",success:function(e){e.fail?E(e.reason):o.refresh()},error:q})},e.prototype.setAdmin=function(e){var t=this.isAdmin;this.isAdmin=e,t!=this.isAdmin&&this.refresh()},e.prototype.userSignedIn=function(){this.observable.send("userSignedIn")},e.prototype.hasMap=function(){return""!==this.mapImageSrc},e.prototype.updateGroups=function(e){e.append("queueId",this.queueId),$.ajax({type:"POST",url:"api/updateGroups",cache:!1,contentType:!1,processData:!1,data:e,dataType:"json",success:function(e){e.success?alert("groups uploaded successfully"):alert("error uploading groups. roster and groups have been cleared - you'll have to upload them again, sorry!")},error:function(e){alert("error uploading groups")}})},e.prototype.updateConfiguration=function(e){return e.queueId=this.queueId,$.ajax({type:"POST",url:"api/updateQueueConfiguration",data:e,dataType:"json",success:function(e){e.fail&&E(e.reason)},error:q})},e}(),f=function(){function e(t,n){var s=this;this.queue=t,this.elem=n,this.formHasChanges=!1;var i,o=$("<div></div>");if(this.signUpForm=$('<form id="signUpForm" role="form" class="form-horizontal"></form>').append(i=$("<div></div>").append($('<div class="form-group"></div>').append('<label class="control-label col-sm-3" for="signUpName'+t.queueId+'">Name:</label>').append($('<div class="col-sm-9"></div>').append(this.signUpNameInput=$('<input type="text" class="form-control" id="signUpName'+t.queueId+'" required="required" maxlength="30" placeholder="Nice to meet you!">')))).append($('<div class="form-group"></div>').append('<label class="control-label col-sm-3" for="signUpDescription'+t.queueId+'">Description:</label>').append($('<div class="col-sm-9"></div>').append(this.signUpDescriptionInput=$('<input type="text" class="form-control" id="signUpDescription'+t.queueId+'"required="required" maxlength="100" placeholder="e.g. Segfault in function X, using the map data structure, etc.">')))).append($('<div class="form-group"></div>').append('<label class="control-label col-sm-3" for="signUpLocation'+t.queueId+'">Location:</label>').append($('<div class="col-sm-9"></div>').append(this.signUpLocationInput=$('<input type="text" class="form-control" id="signUpLocation'+t.queueId+'"required="required" maxlength="30" placeholder="e.g. Computer #36, laptop by glass/atrium door, etc.">')))).append('<div class="hidden-xs form-group"><div class="col-sm-offset-3 col-sm-9"><button type="submit" class="btn btn-success queue-signUpButton">Sign Up</button> <button type="submit" class="btn btn-success queue-updateRequestButton" style="display:none;"></button></div></div>')),o.append(this.signUpForm),this.statusElem=$("<div></div>"),o.append(this.statusElem),this.signUpForm.find("input").on("input",function(){s.formChanged()}),this.queue.hasMap()){i.addClass("col-xs-12 col-sm-8"),i.css("padding","0"),this.signUpForm.append(this.mapHolder=$('<div class="col-xs-12 col-sm-4" style="position: relative; padding:0"></div>').append(this.signUpMap=$('<img src="img/'+this.queue.mapImageSrc+'" class="queue-signUpMap" style="width:100%"></img>')).append(this.signUpPin=$('<span class="queue-locatePin"><span class="glyphicon glyphicon-map-marker" style="position:absolute; left:-1.3ch;top:-0.95em;"></span></span>'))),this.signUpForm.append($('<div class="visible-xs col-xs-12" style="padding: 0;"><div class="form-group"><div class="col-sm-offset-3 col-sm-9"><button type="submit" class="btn btn-success queue-signUpButton">Sign Up</button> <button type="submit" class="btn btn-success queue-updateRequestButton" style="display:none;"></button></div></div></div>'));var r=this.signUpPin;this.mapX=50,this.mapY=50;var a=this;this.signUpMap.click(function(e){a.mapX=100*Math.trunc(e.pageX-$(this).offset().left)/$(this).width(),a.mapY=100*Math.trunc(e.pageY-$(this).offset().top)/$(this).height(),r.css("left",a.mapX+"%"),r.css("top",a.mapY+"%"),a.formChanged()}),this.signUpLocationInput.val("Click on the map!"),this.signUpLocationInput.prop("disabled",!0)}this.signUpForm.submit(function(t){t.preventDefault();var n=s.signUpNameInput.val(),i=s.signUpDescriptionInput.val(),o=s.signUpLocationInput.val();return n&&0!=n.length&&o&&0!=o.length&&i&&0!=i.length?(s.queue.myRequest?s.queue.updateRequest(n,o,i,s.mapX,s.mapY):s.queue.signUp(n,o,i,s.mapX,s.mapY),s.formHasChanges=!1,s.updateRequestButtons.removeClass("btn-warning"),s.updateRequestButtons.addClass("btn-success"),s.updateRequestButtons.prop("disabled",!0),s.updateRequestButtons.html(e.UPDATE_REQUEST_BUTTON_UP_TO_DATE),!1):(E("You must fill in all the fields."),!1)}),this.signUpButtons=this.signUpForm.find("button.queue-signUpButton"),this.updateRequestButtons=this.signUpForm.find("button.queue-updateRequestButton").prop("disabled",!0).html(e.UPDATE_REQUEST_BUTTON_UP_TO_DATE),this.elem.append(o)}return e.prototype.formChanged=function(){this.queue.myRequest&&(this.formHasChanges=!0,this.updateRequestButtons.removeClass("btn-success"),this.updateRequestButtons.addClass("btn-warning"),this.updateRequestButtons.prop("disabled",!1),this.updateRequestButtons.html(e.UPDATE_REQUEST_BUTTON_UPDATE))},e.prototype.refreshSignInEnabled=function(){var e=y.isUmich()&&this.queue.isOpen&&!this.queue.myRequest;this.signUpButtons.prop("disabled",!e),this.queue.myRequest&&this.updateRequestButtons.show()},e.prototype.queueRefreshed=function(){this.refreshSignInEnabled()},e.prototype.userSignedIn=function(){this.refreshSignInEnabled()},e.prototype.myRequestSet=function(){var e=this.queue.myRequest;this.statusElem.html(""),e&&!this.formHasChanges&&(this.signUpNameInput.val(e.name),this.signUpDescriptionInput.val(e.description||""),this.signUpLocationInput.val(e.location||""),this.queue.hasMap()&&(this.mapX=e.mapX,this.mapY=e.mapY,this.signUpPin.css("left",this.mapX+"%"),this.signUpPin.css("top",this.mapY+"%")),"EECS 280"==this.queue.course.shortName&&this.statusElem.html("EECS280: You are at position "+e.index+" in the queue"),this.statusElem.html("You are at position "+e.index+" in the queue"))},e._name="StudentControls",e.UPDATE_REQUEST_BUTTON_UP_TO_DATE="<span class='glyphicon glyphicon-ok'></span> Request Updated",e.UPDATE_REQUEST_BUTTON_UPDATE="Update Request",i([u.messageResponse()],e.prototype,"queueRefreshed",null),i([u.messageResponse()],e.prototype,"userSignedIn",null),i([u.messageResponse()],e.prototype,"myRequestSet",null),e}(),m=function(){function e(e,t){this.queue=e,this.elem=t,this.elem.append("<p><b>Admin Controls</b></p>");var n=$('<button type="button" class="btn btn-danger adminOnly" data-toggle="modal" data-target="#clearTheQueueDialog">Clear the queue</button>');this.queue.makeActiveOnClick(n),this.elem.append(n),this.elem.append(" ");var s=$('<button type="button" class="btn btn-info adminOnly" data-toggle="modal" data-target="#scheduleDialog">Schedule</button>');this.queue.makeActiveOnClick(s),this.elem.append(s),this.elem.append(" ");var i=$('<button type="button" class="btn btn-info adminOnly" data-toggle="modal" data-target="#manageQueueDialog">Manage Queue</button>');this.queue.makeActiveOnClick(i),this.elem.append(i)}return e._name="AdminControls",e}(),v=function(){function e(e,t,n,s){this.queue=e,this.id=t.id,this.email=t.email,this.index=n,this.isMe=!!t.name,this.elem=s;var i=$('<div class="queue-entryInfo"></div>'),o=t.name?t.name+" ("+t.email+")":"Anonymous Student";this.nameElem=$('<p><span class="glyphicon glyphicon-education"></span></p>').append(" "+o).appendTo(i),t.tag&&t.tag.length>0&&(this.tag=t.tag,this.nameElem.append(' <span class="label label-info">'+this.tag+"</span>")),this.name=t.name,t.location&&t.location.length>0&&(this.locationElem=$('<p><span class="glyphicon glyphicon-map-marker"></span></p>').append(" "+t.location).appendTo(i),this.location=t.location),t.description&&t.description.length>0&&(this.descriptionElem=$('<p><span class="glyphicon glyphicon-question-sign"></span></p>').append(" "+t.description).appendTo(i),this.description=t.description);var r=Date.now()-new Date(1e3*parseInt(t.ts)).getTime(),a=Math.round(r/1e3/60);this.tsElem=$('<p><span class="glyphicon glyphicon-time"></span></p>').append(" "+a+" min").appendTo(i);var u=$('<button type="button" class="btn btn-danger">Remove</button>');this.isMe||u.addClass("adminOnly"),u.on("click",this.queue.removeRequest.bind(this.queue,this)),i.append(u),i.append(" ");var p=$('<button type="button" class="btn btn-warning adminOnly">Message</button>'),c=this;if(p.on("click",function(){$("#sendMessageDialog").modal("show"),l.instance.setSendMessagePostId(c.id)}),i.append(p),this.queue.hasMap()&&void 0!==t.mapX&&void 0!==t.mapY){var d=this.mapX=parseFloat(t.mapX),h=this.mapY=parseFloat(t.mapY),f=$('<div class="adminOnly" style="display:inline-block; vertical-align: top; width: 25%; margin-right: 10px"></div>');this.elem.append(f);var m=$('<div style="position: relative"></div>');this.mapElem=$('<img class="adminOnly queue-entryMap" src="img/'+this.queue.mapImageSrc+'"></img>'),m.append(this.mapElem),this.mapPin=$('<span class="adminOnly queue-locatePin"><span class="glyphicon glyphicon-map-marker" style="position:absolute; left:-1.3ch;top:-0.95em;"></span></span>'),this.mapPin.css("left",d+"%"),this.mapPin.css("top",h+"%"),m.append(this.mapPin),f.append(m)}this.elem.append(i)}return e.prototype.onRemove=function(){this.elem.slideUp(500,function(){$(this).remove()})},e._name="QueueEntry",e}(),g=function(){function e(t){var n=this,s=$("#scheduleDialog");$("#scheduleForm").submit(function(e){return e.preventDefault(),n.update(),s.modal("hide"),!1}),s.on("shown.bs.modal",function(){n.refresh()});var i=$("#schedulePicker"),o=$("<tr></tr>").appendTo(i);o.append('<td style="width:1em; padding-right: 3px;"></td>');for(var r=0;r<24;++r)o.append('<td colspan="2">'+(0===r||12===r?12:r%12)+"</td>");this.unitElems=[];for(var a=["S","M","T","W","T","F","S"],u=0;u<7;++u){var p=[],c=$("<tr></tr>");c.append('<td style="width:1em; text-align: right; padding-right: 3px;">'+a[u]+"</td>");for(var l=0;l<48;++l){var d=$('<td><div class="scheduleUnit"></div></td>').appendTo(c).find(".scheduleUnit");p.push(d)}this.unitElems.push(p),i.append(c)}var h=!1;i.on("mousedown",function(e){return e.preventDefault(),h=!0,!1}),i.on("mouseup",function(){h=!1}),i.on("mouseleave",function(){h=!1}),s.on("hidden.bs.modal",function(){h=!1});var f=function(t){if(h){var n=t.data("scheduleType");t.removeClass("scheduleUnit-"+n);var s=e.sequence[n];t.data("scheduleType",s),t.addClass("scheduleUnit-"+s)}};i.on("mouseover",".scheduleUnit",function(e){return e.preventDefault(),f($(this)),!1}),i.on("mousedown",".scheduleUnit",function(e){return e.preventDefault(),h=!0,f($(this)),!1})}return e.prototype.refresh=function(){var e=this,t=l.instance.activeQueue();if(t)return $.ajax({type:"GET",url:"api/schedule/"+t.queueId,dataType:"json",success:function(t){for(var n=t,s=0;s<7;++s)for(var i=0;i<48;++i){var o=e.unitElems[s][i];o.removeClass(),o.addClass("scheduleUnit"),o.addClass("scheduleUnit-"+n[s].charAt(i)),o.data("scheduleType",n[s].charAt(i))}},error:q})},e.prototype.update=function(){if(l.instance.activeQueue()){for(var e=[],t=0;t<7;++t)e.push(this.unitElems[t].map(function(e){return e.data("scheduleType")}).join(""));var n=l.instance.activeQueue();return n?$.ajax({type:"POST",url:"api/updateSchedule",data:{idtoken:y.idToken(),queueId:n.queueId,schedule:e},success:function(){console.log("schedule updated")},error:q}):void 0}},e.sequence={o:"c",c:"p",p:"o"},e}();t.Schedule=g;var y,b=function(){function e(){var e=this,t=($("#manageQueueDialog"),$("#groupsForm"));t.submit(function(e){e.preventDefault();var n=new FormData(t[0]),s=l.instance.activeQueue();return s&&s.updateGroups(n),!1}),$("#policiesForm").submit(function(t){return t.preventDefault(),e.update(),!1}),this.updateConfigurationButton=$("#updateConfigurationButton"),$("#preventUnregisteredCheckbox").change(this.unsavedChanges.bind(this)),$("#preventGroupsCheckbox").change(this.unsavedChanges.bind(this)),$("#prioritizeNewCheckbox").change(this.unsavedChanges.bind(this)),l.instance.observable.addListener(this),this.refresh()}return e.prototype.refresh=function(){var e=l.instance.activeQueue();if(e&&e.isAdmin)return $("#checkQueueRosterLink").attr("href","api/roster/"+e.queueId),$("#checkQueueGroupsLink").attr("href","api/groups/"+e.queueId),$.ajax({type:"GET",url:"api/queueConfiguration/"+e.queueId,dataType:"json",success:this.refreshResponse.bind(this),error:q})},e.prototype.refreshResponse=function(e){console.log(JSON.stringify(e)),$("#preventUnregisteredCheckbox").prop("checked","y"===e.preventUnregistered),$("#preventGroupsCheckbox").prop("checked","y"===e.preventGroups),$("#prioritizeNewCheckbox").prop("checked","y"===e.prioritizeNew),this.changesUpToDate()},e.prototype.update=function(){var e=l.instance.activeQueue();e&&e.updateConfiguration({preventUnregistered:$("#preventUnregisteredCheckbox").is(":checked")?"y":"n",preventGroups:$("#preventGroupsCheckbox").is(":checked")?"y":"n",prioritizeNew:$("#prioritizeNewCheckbox").is(":checked")?"y":"n"}).done(this.changesUpToDate.bind(this))},e.prototype.unsavedChanges=function(){this.updateConfigurationButton.html(e.POLICIES_UNSAVED).prop("disabled",!1).removeClass("btn-success").addClass("btn-warning")},e.prototype.changesUpToDate=function(){this.updateConfigurationButton.html(e.POLICIES_UP_TO_DATE).prop("disabled",!0).removeClass("btn-warning").addClass("btn-success")},e.POLICIES_UP_TO_DATE='<span><span class="glyphicon glyphicon-floppy-saved"></span> Saved</span>',e.POLICIES_UNSAVED='<span><span class="glyphicon glyphicon-floppy-open"></span> Update Configuration</span>',i([u.messageResponse("activeQueueSet")],e.prototype,"refresh",null),e}();if(t.ManageQueueDialog=b,function(e){e.signIn=function(t,s){var i=new n(t,s),o=$("#accountMessage");i.isUmich()||(o.show(),o.html("Hi "+i.email+"! Please <a>sign out</a> and switch to an @umich.edu account to use the queue."),o.find("a").click(function(){gapi.auth2.getAuthInstance().disconnect().then(function(){e.signOut(),o.hide()})}),$(".openSignUpDialogButton").prop("disabled",!0))},e.signOut=function(){$("#accountMessage").hide(),o&&o.onSignOut(),new i},e.idToken=function(){return o.idToken()},e.isUmich=function(){return o.isUmich()},e.isCourseAdmin=function(e){return o.isCourseAdmin(e)},e.isMe=function(e){return o.isMe(e)};var t=function(){function e(){}return e.prototype.onSignOut=function(){},e.prototype.onFinishSigningIn=function(){o=this,l.instance&&l.instance.userSignedIn()},e._name="UserBase",e}(),n=function(e){function t(t,n){var s=e.call(this)||this;return s.admins={},s.email=t,s._idToken=n,$.ajax({type:"POST",url:"api/login",data:{idtoken:s.idToken()},success:function(e){s.checkAdmin()},error:q}),s}return s(t,e),t.prototype.isUmich=function(){return c.default(this.email,"@umich.edu")},t.prototype.isMe=function(e){return this.email===e},t.prototype.idToken=function(){return this._idToken},t.prototype.checkAdmin=function(){var e=this;$.ajax({type:"POST",url:"api/adminCourses",data:{idtoken:this.idToken()},dataType:"json",success:function(t){for(var n=0;n<t.length;++n)e.admins[t[n].courseId]=!0;t.length>0?(setInterval(function(){l.instance.refreshActiveQueue()},5e3),Notification&&Notification.requestPermission()):setInterval(function(){l.instance.refreshActiveQueue()},6e4),e.onFinishSigningIn()},error:q})},t.prototype.isCourseAdmin=function(e){return this.admins[e]},t}(t),i=function(e){function t(){var t=e.call(this)||this;return t.onFinishSigningIn(),setInterval(function(){l.instance.refreshActiveQueue()},6e4),t}return s(t,e),t.prototype.isUmich=function(){return!1},t.prototype.idToken=function(){return""},t.prototype.isCourseAdmin=function(e){return!1},t.prototype.isMe=function(e){return!1},t}(t),o=new i}(y=t.User||(t.User={})),"object"==typeof sessionStorage)try{sessionStorage.setItem("localStorage","1"),sessionStorage.removeItem("localStorage")}catch(e){q(null,"It looks like local storage is disabled in your browser. This may aggravate an issue with Google sign-in on Safari or iOS while using private browsing mode.")}function q(e,t){"abort"!==t&&(console.log("Oops. An error occurred. Try refreshing the page."),$("#oopsDialog").modal("show"))}function E(e){console.log(e),$("#errorMessage").html(e),$("#errorDialog").modal("show")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(49);function i(e){var t=e.getBasicProfile();s.User.signIn(t.getEmail(),e.getAuthResponse().id_token)}$(document).ready(function(){s.QueueApplication.createInstance($("#queueApplication")),function(){var e=$("#clearInput"),t=$("#clearTheQueueDialog");t.on("shown.bs.modal",function(){e.focus()}),t.on("show.bs.modal",function(){e.val("")}),e.on("input",function(e){if("clear"==$(this).val()){t.modal("hide");var n=s.QueueApplication.instance.activeQueue();n&&n.clear()}});var n=$("#signUpDialog");n.on("show.bs.modal",function(){$(this).find("input").val("")}),n.on("shown.bs.modal",function(){$(this).find("input:first").focus()});var i=$("#sendMessageDialog");i.on("show.bs.modal",function(){$(this).find("input").val("")}),i.on("shown.bs.modal",function(){$(this).find("input:first").focus()}),$("#sendMessageForm").submit(function(e){e.preventDefault();var t=$("#sendMessageContent").val();return t&&0!=t.length?(s.QueueApplication.instance.sendMessage(t),i.modal("hide"),!1):(alert("You can't send a blank message."),!1)}),new s.Schedule($("#schedulePicker")),new s.ManageQueueDialog}(),gapi.signin2.render("googleSignInButton",{scope:"profile email",width:240,height:50,longtitle:!0,theme:"dark",onsuccess:i})}),console.log("TEST BLAH")}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc09iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19TeW1ib2wuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc1N5bWJvbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlVG9TdHJpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC90b1N0cmluZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19hcnJheU1hcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19yb290LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VHZXRUYWcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pZGVudGl0eS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL3RvTnVtYmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvdG9GaW5pdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC90b0ludGVnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUNsYW1wLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvZW5kc1dpdGguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc09iamVjdExpa2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc0FycmF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VQcm9wZXJ0eU9mLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2VzY2FwZUh0bWxDaGFyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvZXNjYXBlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2NvcHlBcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlVW5hcnkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUluZGV4T2ZXaXRoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3N0cmljdEluZGV4T2YuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUlzTmFOLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VGaW5kSW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUluZGV4T2YuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZVB1bGxBbGwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9wdWxsQWxsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3Nob3J0T3V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2dldFZhbHVlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3RvU291cmNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2NvcmVKc0RhdGEuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9faXNNYXNrZWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fb2JqZWN0VG9TdHJpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZ2V0UmF3VGFnLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZnJlZUdsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzRnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUlzTmF0aXZlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2dldE5hdGl2ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19kZWZpbmVQcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2NvbnN0YW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VTZXRUb1N0cmluZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19zZXRUb1N0cmluZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19hcHBseS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19vdmVyUmVzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlUmVzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL3B1bGwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3V0aWwvbWl4aW5zLnRzIiwid2VicGFjazovLy8uL3NyYy9qcy9xdWV1ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvbWFpbi50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInR5cGUiLCJiYXNlR2V0VGFnIiwiaXNPYmplY3RMaWtlIiwic3ltYm9sVGFnIiwiYXJyYXlNYXAiLCJpc0FycmF5IiwiaXNTeW1ib2wiLCJJTkZJTklUWSIsInN5bWJvbFByb3RvIiwidW5kZWZpbmVkIiwic3ltYm9sVG9TdHJpbmciLCJ0b1N0cmluZyIsImJhc2VUb1N0cmluZyIsInJlc3VsdCIsImFycmF5IiwiaXRlcmF0ZWUiLCJpbmRleCIsImxlbmd0aCIsIkFycmF5IiwiZnJlZUdsb2JhbCIsImZyZWVTZWxmIiwic2VsZiIsInJvb3QiLCJGdW5jdGlvbiIsImdldFJhd1RhZyIsIm9iamVjdFRvU3RyaW5nIiwibnVsbFRhZyIsInVuZGVmaW5lZFRhZyIsInN5bVRvU3RyaW5nVGFnIiwiaXNPYmplY3QiLCJOQU4iLCJyZVRyaW0iLCJyZUlzQmFkSGV4IiwicmVJc0JpbmFyeSIsInJlSXNPY3RhbCIsImZyZWVQYXJzZUludCIsInBhcnNlSW50Iiwib3RoZXIiLCJ2YWx1ZU9mIiwicmVwbGFjZSIsImlzQmluYXJ5IiwidGVzdCIsInNsaWNlIiwidG9OdW1iZXIiLCJNQVhfSU5URUdFUiIsInRvRmluaXRlIiwicmVtYWluZGVyIiwibnVtYmVyIiwibG93ZXIiLCJ1cHBlciIsImJhc2VDbGFtcCIsInRvSW50ZWdlciIsInN0cmluZyIsInRhcmdldCIsInBvc2l0aW9uIiwiZW5kIiwiZXNjYXBlSHRtbENoYXIiLCJiYXNlUHJvcGVydHlPZiIsIiYiLCI8IiwiPiIsIlwiIiwiJyIsInJlVW5lc2NhcGVkSHRtbCIsInJlSGFzVW5lc2NhcGVkSHRtbCIsIlJlZ0V4cCIsInNvdXJjZSIsImZ1bmMiLCJmcm9tSW5kZXgiLCJjb21wYXJhdG9yIiwicHJlZGljYXRlIiwiZnJvbVJpZ2h0IiwiYmFzZUZpbmRJbmRleCIsImJhc2VJc05hTiIsInN0cmljdEluZGV4T2YiLCJiYXNlSW5kZXhPZiIsImJhc2VJbmRleE9mV2l0aCIsImJhc2VVbmFyeSIsImNvcHlBcnJheSIsInNwbGljZSIsInZhbHVlcyIsImluZGV4T2YiLCJzZWVuIiwiY29tcHV0ZWQiLCJiYXNlUHVsbEFsbCIsIkhPVF9DT1VOVCIsIkhPVF9TUEFOIiwibmF0aXZlTm93IiwiRGF0ZSIsIm5vdyIsImNvdW50IiwibGFzdENhbGxlZCIsInN0YW1wIiwicmVtYWluaW5nIiwiYXJndW1lbnRzIiwiYXBwbHkiLCJmdW5jVG9TdHJpbmciLCJlIiwiY29yZUpzRGF0YSIsIm1hc2tTcmNLZXkiLCJ1aWQiLCJleGVjIiwia2V5cyIsIklFX1BST1RPIiwibmF0aXZlT2JqZWN0VG9TdHJpbmciLCJvYmplY3RQcm90byIsImlzT3duIiwidGFnIiwidW5tYXNrZWQiLCJnIiwidGhpcyIsImV2YWwiLCJ3aW5kb3ciLCJnbG9iYWwiLCJhc3luY1RhZyIsImZ1bmNUYWciLCJnZW5UYWciLCJwcm94eVRhZyIsImlzRnVuY3Rpb24iLCJpc01hc2tlZCIsInRvU291cmNlIiwicmVJc0hvc3RDdG9yIiwiZnVuY1Byb3RvIiwicmVJc05hdGl2ZSIsImJhc2VJc05hdGl2ZSIsImdldFZhbHVlIiwiZ2V0TmF0aXZlIiwiY29uc3RhbnQiLCJpZGVudGl0eSIsImJhc2VTZXRUb1N0cmluZyIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwic2V0VG9TdHJpbmciLCJzaG9ydE91dCIsInRoaXNBcmciLCJhcmdzIiwibmF0aXZlTWF4IiwiTWF0aCIsIm1heCIsInN0YXJ0IiwidHJhbnNmb3JtIiwib3RoZXJBcmdzIiwib3ZlclJlc3QiLCJwdWxsIiwiYmFzZVJlc3QiLCJwdWxsXzEiLCJfX2ltcG9ydERlZmF1bHQiLCJyZWNlaXZlTWVzc2FnZSIsIm9ic2VydmVyIiwibXNnIiwiY2F0QWN0IiwiX2FjdCIsImNhdGVnb3J5IiwiX2RlZmF1bHQiLCJhc3NlcnQiLCJhZGRMaXN0ZW5lciIsIm9ialdpdGhPYnNlcnZhYmxlIiwibGlzdGVuZXIiLCJvYnNlcnZhYmxlIiwibWVzc2FnZVJlc3BvbnNlIiwibWVzc2FnZUNhdGVnb3J5IiwicHJvcGVydHlLZXkiLCJkZXNjcmlwdG9yIiwiT2JzZXJ2YWJsZSIsInNpbGVudCIsInVuaXZlcnNhbE9ic2VydmVycyIsIm9ic2VydmVycyIsInNlbmQiLCJkYXRhIiwicHVzaCIsImxpc3RlbmVyQWRkZWQiLCJyZW1vdmVMaXN0ZW5lciIsImRlZmF1bHQiLCJsaXN0ZW5lclJlbW92ZWQiLCJjYXQiLCJjbGVhciIsIm1peGluc18xIiwiZXNjYXBlXzEiLCJlbmRzV2l0aF8xIiwiUXVldWVBcHBsaWNhdGlvbiIsImVsZW0iLCJjb3Vyc2VzIiwibWVzc2FnZXNTaG93biIsImNvdXJzZVBpbGxzIiwiZmluZCIsImNvdXJzZVBhbmVzIiwibG9hZENvdXJzZXMiLCJjcmVhdGVJbnN0YW5jZSIsImluc3RhbmNlIiwiJCIsImdldEpTT04iLCJsaXN0IiwiX2EiLCJzZW50Iiwib25Db3Vyc2VzTG9hZCIsIm9vcHMiLCJlXzEiLCJfdGhpcyIsImVtcHR5IiwiYXBwZW5kIiwiZm9yRWFjaCIsImNvdXJzZURhdGEiLCJjb3Vyc2VJZCIsInBpbGxFbGVtIiwiY291cnNlRWxlbSIsImNvdXJzZSIsIkNvdXJzZSIsImNsaWNrIiwibWFrZUFjdGl2ZSIsInNldEFjdGl2ZVF1ZXVlIiwicXVldWUiLCJfYWN0aXZlUXVldWUiLCJjb25zb2xlIiwibG9nIiwicXVldWVJZCIsInVwZGF0ZVNpZ25VcEZvcm0iLCJhY3RpdmVRdWV1ZSIsImhhc01hcCIsInNob3ciLCJhdHRyIiwibWFwSW1hZ2VTcmMiLCJoaWRlIiwidXNlclNpZ25lZEluIiwicmVmcmVzaEFjdGl2ZVF1ZXVlIiwicmVmcmVzaCIsInJlZnJlc2hDb250ZW50IiwibWVzc2FnZSIsImlkIiwiaHRtbCIsIm1vZGFsIiwic2V0U2VuZE1lc3NhZ2VQb3N0SWQiLCJzZW5kTWVzc2FnZVBvc3RJZCIsInNlbmRNZXNzYWdlIiwiYWpheCIsInVybCIsImlkdG9rZW4iLCJVc2VyIiwiaWRUb2tlbiIsInN1Y2Nlc3MiLCJlcnJvciIsImRvY3VtZW50IiwidGl0bGUiLCJzaG9ydE5hbWUiLCJudW1FbnRyaWVzIiwibm90aWZ5IiwiTm90aWZpY2F0aW9uIiwicGVybWlzc2lvbiIsInJlcXVlc3RQZXJtaXNzaW9uIiwiYm9keSIsImFsZXJ0IiwiX25hbWUiLCJpc0FkbWluIiwicXVldWVzIiwiZnVsbE5hbWUiLCJxdWV1ZVBpbGxzRWxlbSIsInBpY2tBUXVldWVFbGVtIiwibWFpbkVsZW0iLCJxdWV1ZVBhbmVzRWxlbSIsImNvbnRlbnRFbGVtIiwibG9hZENvbnRlbnQiLCJsb2FkUXVldWVzIiwibG9hZCIsImRhdGFUeXBlIiwib25RdWV1ZXNMb2FkIiwiaXRlbSIsInByb3AiLCJxdWV1ZUVsZW0iLCJhZGRDbGFzcyIsIlF1ZXVlIiwiY2hpbGRyZW4iLCJmaXJzdCIsInNldEFkbWluIiwiaXNDb3Vyc2VBZG1pbiIsInJlbW92ZUNsYXNzIiwibGFzdFJlZnJlc2giLCJpc09wZW4iLCJteVJlcXVlc3QiLCJyZWZyZXNoRGlzYWJsZWQiLCJjdXJyZW50UmVmcmVzaEluZGV4IiwibG9jYXRpb24iLCJzdGF0dXNFbGVtIiwiYXBwZW5kVG8iLCJudW1FbnRyaWVzRWxlbSIsImxhc3RSZWZyZXNoRWxlbSIsInN0YXR1c01lc3NhZ2VFbGVtIiwiYWRtaW5TdGF0dXNFbGVtIiwiYWRtaW5Db250cm9sc0VsZW0iLCJhZG1pbkNvbnRyb2xzIiwiQWRtaW5Db250cm9scyIsInN0dWRlbnRDb250cm9sc0VsZW0iLCJzdHVkZW50Q29udHJvbHMiLCJTdHVkZW50Q29udHJvbHMiLCJzdGFja0VsZW0iLCJ0b29sdGlwIiwibWFrZUFjdGl2ZU9uQ2xpY2siLCJteVJlZnJlc2hJbmRleCIsInJlZnJlc2hSZXNwb25zZSIsInNjaGVkdWxlIiwibmV4dE9wZW4iLCJzY2hlZHVsZVR5cGUiLCJjaGFyQXQiLCJzZXRIb3VycyIsInNldE1pbnV0ZXMiLCJzZXRTZWNvbmRzIiwibmV3RGF0ZSIsImdldFRpbWUiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJxdWV1ZUVudHJpZXMiLCJpdGVtRWxlbSIsImVudHJ5IiwiUXVldWVFbnRyeSIsImlzTWUiLCJlbWFpbCIsInNldE15UmVxdWVzdCIsIkpTT04iLCJzdHJpbmdpZnkiLCJvbGROdW1FbnRyaWVzIiwicmVtb3ZlUmVxdWVzdCIsInJlcXVlc3QiLCJkaXNhYmxlUmVmcmVzaCIsIm9uUmVtb3ZlIiwiYWx3YXlzIiwic2V0VGltZW91dCIsImVuYWJsZVJlZnJlc2giLCJjYW5jZWxJbmNvbWluZ1JlZnJlc2giLCJjbGVhckxpc3QiLCJzbGlkZVVwIiwic2lnblVwIiwiZGVzY3JpcHRpb24iLCJtYXBYIiwibWFwWSIsInNob3dFcnJvck1lc3NhZ2UiLCJ1cGRhdGVSZXF1ZXN0Iiwib2xkQWRtaW4iLCJ1cGRhdGVHcm91cHMiLCJmb3JtRGF0YSIsImNhY2hlIiwiY29udGVudFR5cGUiLCJwcm9jZXNzRGF0YSIsInVwZGF0ZUNvbmZpZ3VyYXRpb24iLCJvcHRpb25zIiwiZm9ybUhhc0NoYW5nZXMiLCJyZWd1bGFyRm9ybUVsZW0iLCJjb250YWluZXJFbGVtIiwic2lnblVwRm9ybSIsInNpZ25VcE5hbWVJbnB1dCIsInNpZ25VcERlc2NyaXB0aW9uSW5wdXQiLCJzaWduVXBMb2NhdGlvbklucHV0Iiwib24iLCJmb3JtQ2hhbmdlZCIsImNzcyIsIm1hcEhvbGRlciIsInNpZ25VcE1hcCIsInNpZ25VcFBpbiIsInBpbiIsInNlbGZfMSIsInRydW5jIiwicGFnZVgiLCJvZmZzZXQiLCJsZWZ0Iiwid2lkdGgiLCJwYWdlWSIsInRvcCIsImhlaWdodCIsInZhbCIsInN1Ym1pdCIsInByZXZlbnREZWZhdWx0Iiwic2lnblVwTmFtZSIsInNpZ25VcERlc2NyaXB0aW9uIiwic2lnblVwTG9jYXRpb24iLCJ1cGRhdGVSZXF1ZXN0QnV0dG9ucyIsIlVQREFURV9SRVFVRVNUX0JVVFRPTl9VUF9UT19EQVRFIiwic2lnblVwQnV0dG9ucyIsIlVQREFURV9SRVFVRVNUX0JVVFRPTl9VUERBVEUiLCJyZWZyZXNoU2lnbkluRW5hYmxlZCIsImlzRW5hYmxlZCIsImlzVW1pY2giLCJxdWV1ZVJlZnJlc2hlZCIsIm15UmVxdWVzdFNldCIsInJlcSIsIl9fZGVjb3JhdGUiLCJjbGVhclF1ZXVlQnV0dG9uIiwib3BlblNjaGVkdWxlRGlhbG9nQnV0dG9uIiwib3Blbk1hbmFnZVF1ZXVlRGlhbG9nQnV0dG9uIiwiaW5mb0VsZW0iLCJuYW1lRWxlbSIsImxvY2F0aW9uRWxlbSIsImRlc2NyaXB0aW9uRWxlbSIsInRpbWVXYWl0aW5nIiwibWludXRlc1dhaXRpbmciLCJyb3VuZCIsInRzRWxlbSIsInJlbW92ZUJ1dHRvbiIsInNlbmRNZXNzYWdlQnV0dG9uIiwicGFyc2VGbG9hdCIsIm1hcEVsZW0iLCJtYXBQaW4iLCJyZW1vdmUiLCJTY2hlZHVsZSIsImRpYWxvZyIsInVwZGF0ZSIsInNjaGVkdWxlUGlja2VyIiwiZmlyc3RSb3ciLCJ1bml0RWxlbXMiLCJkYXlMZXR0ZXJzIiwiZGF5Iiwicm93RWxlbSIsInVuaXRFbGVtIiwicHJlc3NlZCIsImNoYW5nZUNvbG9yIiwiY3VycmVudFR5cGUiLCJuZXh0VHlwZSIsInNlcXVlbmNlIiwiYXEiLCJtYXAiLCJqb2luIiwiTWFuYWdlUXVldWVEaWFsb2ciLCJncm91cHNGb3JtIiwiRm9ybURhdGEiLCJ1cGRhdGVDb25maWd1cmF0aW9uQnV0dG9uIiwiY2hhbmdlIiwidW5zYXZlZENoYW5nZXMiLCJjaGFuZ2VzVXBUb0RhdGUiLCJwcmV2ZW50VW5yZWdpc3RlcmVkIiwiaXMiLCJwcmV2ZW50R3JvdXBzIiwicHJpb3JpdGl6ZU5ldyIsImRvbmUiLCJQT0xJQ0lFU19VTlNBVkVEIiwiUE9MSUNJRVNfVVBfVE9fREFURSIsInNpZ25JbiIsIm5ld1VzZXIiLCJBdXRoZW50aWNhdGVkVXNlciIsImFjY291bnRNZXNzYWdlRWxlbSIsImdhcGkiLCJhdXRoMiIsImdldEF1dGhJbnN0YW5jZSIsImRpc2Nvbm5lY3QiLCJ0aGVuIiwic2lnbk91dCIsInRoZVVzZXIiLCJvblNpZ25PdXQiLCJVbmF1dGhlbnRpY2F0ZWRVc2VyIiwiVXNlckJhc2UiLCJvbkZpbmlzaFNpZ25pbmdJbiIsIl9zdXBlciIsImFkbWlucyIsIl9pZFRva2VuIiwiY2hlY2tBZG1pbiIsIl9fZXh0ZW5kcyIsInNldEludGVydmFsIiwic2Vzc2lvblN0b3JhZ2UiLCJzZXRJdGVtIiwicmVtb3ZlSXRlbSIsInhociIsInRleHRTdGF0dXMiLCJxdWV1ZV8xIiwib25TaWduSW4iLCJnb29nbGVVc2VyIiwicHJvZmlsZSIsImdldEJhc2ljUHJvZmlsZSIsImdldEVtYWlsIiwiZ2V0QXV0aFJlc3BvbnNlIiwiaWRfdG9rZW4iLCJyZWFkeSIsImNsZWFySW5wdXQiLCJjbGVhclRoZVF1ZXVlRGlhbG9nIiwiZm9jdXMiLCJzaWduVXBEaWFsb2ciLCJzZW5kTWVzc2FnZURpYWxvZyIsImNvbnRlbnQiLCJzZXR1cERpYWxvZ3MiLCJzaWduaW4yIiwicmVuZGVyIiwic2NvcGUiLCJsb25ndGl0bGUiLCJ0aGVtZSIsIm9uc3VjY2VzcyJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEdBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFB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RXRDRCxFQUFrQmhQLE1BQU0sU0FDakIsSUFQSG9CLE1BQU0sb0NBQ0MsS0FVZixJQUFJK00sRUFBQTFELFNBQVNqTixFQUFFLG9CQUVmLElBQUkyUSxFQUFBeEMsa0JBVUp1RCxHQVNBckMsS0FBS3NDLFFBQVFDLE9BQU8sc0JBQ2hCQyxNQUFTLGdCQUNUbEgsTUFBUyxJQUNURyxPQUFVLEdBQ1ZnSCxXQUFhLEVBQ2JDLE1BQVMsT0FDVEMsVUFBYXBCLE1BSXJCclAsUUFBUUMsSUFBSSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNTApO1xuIiwiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNPYmplY3Q7XG4iLCJ2YXIgcm9vdCA9IHJlcXVpcmUoJy4vX3Jvb3QnKTtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgU3ltYm9sID0gcm9vdC5TeW1ib2w7XG5cbm1vZHVsZS5leHBvcnRzID0gU3ltYm9sO1xuIiwidmFyIGJhc2VHZXRUYWcgPSByZXF1aXJlKCcuL19iYXNlR2V0VGFnJyksXG4gICAgaXNPYmplY3RMaWtlID0gcmVxdWlyZSgnLi9pc09iamVjdExpa2UnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N5bWJvbCcgfHxcbiAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzU3ltYm9sO1xuIiwidmFyIFN5bWJvbCA9IHJlcXVpcmUoJy4vX1N5bWJvbCcpLFxuICAgIGFycmF5TWFwID0gcmVxdWlyZSgnLi9fYXJyYXlNYXAnKSxcbiAgICBpc0FycmF5ID0gcmVxdWlyZSgnLi9pc0FycmF5JyksXG4gICAgaXNTeW1ib2wgPSByZXF1aXJlKCcuL2lzU3ltYm9sJyk7XG5cbi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIElORklOSVRZID0gMSAvIDA7XG5cbi8qKiBVc2VkIHRvIGNvbnZlcnQgc3ltYm9scyB0byBwcmltaXRpdmVzIGFuZCBzdHJpbmdzLiAqL1xudmFyIHN5bWJvbFByb3RvID0gU3ltYm9sID8gU3ltYm9sLnByb3RvdHlwZSA6IHVuZGVmaW5lZCxcbiAgICBzeW1ib2xUb1N0cmluZyA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udG9TdHJpbmcgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9TdHJpbmdgIHdoaWNoIGRvZXNuJ3QgY29udmVydCBudWxsaXNoXG4gKiB2YWx1ZXMgdG8gZW1wdHkgc3RyaW5ncy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gYmFzZVRvU3RyaW5nKHZhbHVlKSB7XG4gIC8vIEV4aXQgZWFybHkgZm9yIHN0cmluZ3MgdG8gYXZvaWQgYSBwZXJmb3JtYW5jZSBoaXQgaW4gc29tZSBlbnZpcm9ubWVudHMuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgLy8gUmVjdXJzaXZlbHkgY29udmVydCB2YWx1ZXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICByZXR1cm4gYXJyYXlNYXAodmFsdWUsIGJhc2VUb1N0cmluZykgKyAnJztcbiAgfVxuICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIHN5bWJvbFRvU3RyaW5nID8gc3ltYm9sVG9TdHJpbmcuY2FsbCh2YWx1ZSkgOiAnJztcbiAgfVxuICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZVRvU3RyaW5nO1xuIiwidmFyIGJhc2VUb1N0cmluZyA9IHJlcXVpcmUoJy4vX2Jhc2VUb1N0cmluZycpO1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcuIEFuIGVtcHR5IHN0cmluZyBpcyByZXR1cm5lZCBmb3IgYG51bGxgXG4gKiBhbmQgYHVuZGVmaW5lZGAgdmFsdWVzLiBUaGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9TdHJpbmcobnVsbCk7XG4gKiAvLyA9PiAnJ1xuICpcbiAqIF8udG9TdHJpbmcoLTApO1xuICogLy8gPT4gJy0wJ1xuICpcbiAqIF8udG9TdHJpbmcoWzEsIDIsIDNdKTtcbiAqIC8vID0+ICcxLDIsMydcbiAqL1xuZnVuY3Rpb24gdG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09IG51bGwgPyAnJyA6IGJhc2VUb1N0cmluZyh2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdG9TdHJpbmc7XG4iLCIvKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5tYXBgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICogc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlNYXAoYXJyYXksIGl0ZXJhdGVlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFycmF5TWFwO1xuIiwidmFyIGZyZWVHbG9iYWwgPSByZXF1aXJlKCcuL19mcmVlR2xvYmFsJyk7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxubW9kdWxlLmV4cG9ydHMgPSByb290O1xuIiwidmFyIFN5bWJvbCA9IHJlcXVpcmUoJy4vX1N5bWJvbCcpLFxuICAgIGdldFJhd1RhZyA9IHJlcXVpcmUoJy4vX2dldFJhd1RhZycpLFxuICAgIG9iamVjdFRvU3RyaW5nID0gcmVxdWlyZSgnLi9fb2JqZWN0VG9TdHJpbmcnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIG51bGxUYWcgPSAnW29iamVjdCBOdWxsXScsXG4gICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXSc7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkVGFnIDogbnVsbFRhZztcbiAgfVxuICByZXR1cm4gKHN5bVRvU3RyaW5nVGFnICYmIHN5bVRvU3RyaW5nVGFnIGluIE9iamVjdCh2YWx1ZSkpXG4gICAgPyBnZXRSYXdUYWcodmFsdWUpXG4gICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUdldFRhZztcbiIsIi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZmlyc3QgYXJndW1lbnQgaXQgcmVjZWl2ZXMuXG4gKlxuICogQHN0YXRpY1xuICogQHNpbmNlIDAuMS4wXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IFV0aWxcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgQW55IHZhbHVlLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKlxuICogY29uc29sZS5sb2coXy5pZGVudGl0eShvYmplY3QpID09PSBvYmplY3QpO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBpZGVudGl0eSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaWRlbnRpdHk7XG4iLCJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzT2JqZWN0JyksXG4gICAgaXNTeW1ib2wgPSByZXF1aXJlKCcuL2lzU3ltYm9sJyk7XG5cbi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIE5BTiA9IDAgLyAwO1xuXG4vKiogVXNlZCB0byBtYXRjaCBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlLiAqL1xudmFyIHJlVHJpbSA9IC9eXFxzK3xcXHMrJC9nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgYmFkIHNpZ25lZCBoZXhhZGVjaW1hbCBzdHJpbmcgdmFsdWVzLiAqL1xudmFyIHJlSXNCYWRIZXggPSAvXlstK10weFswLTlhLWZdKyQvaTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJpbmFyeSBzdHJpbmcgdmFsdWVzLiAqL1xudmFyIHJlSXNCaW5hcnkgPSAvXjBiWzAxXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBvY3RhbCBzdHJpbmcgdmFsdWVzLiAqL1xudmFyIHJlSXNPY3RhbCA9IC9eMG9bMC03XSskL2k7XG5cbi8qKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB3aXRob3V0IGEgZGVwZW5kZW5jeSBvbiBgcm9vdGAuICovXG52YXIgZnJlZVBhcnNlSW50ID0gcGFyc2VJbnQ7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIG51bWJlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b051bWJlcigzLjIpO1xuICogLy8gPT4gMy4yXG4gKlxuICogXy50b051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IDVlLTMyNFxuICpcbiAqIF8udG9OdW1iZXIoSW5maW5pdHkpO1xuICogLy8gPT4gSW5maW5pdHlcbiAqXG4gKiBfLnRvTnVtYmVyKCczLjInKTtcbiAqIC8vID0+IDMuMlxuICovXG5mdW5jdGlvbiB0b051bWJlcih2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gTkFOO1xuICB9XG4gIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICB2YXIgb3RoZXIgPSB0eXBlb2YgdmFsdWUudmFsdWVPZiA9PSAnZnVuY3Rpb24nID8gdmFsdWUudmFsdWVPZigpIDogdmFsdWU7XG4gICAgdmFsdWUgPSBpc09iamVjdChvdGhlcikgPyAob3RoZXIgKyAnJykgOiBvdGhlcjtcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiArdmFsdWU7XG4gIH1cbiAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKHJlVHJpbSwgJycpO1xuICB2YXIgaXNCaW5hcnkgPSByZUlzQmluYXJ5LnRlc3QodmFsdWUpO1xuICByZXR1cm4gKGlzQmluYXJ5IHx8IHJlSXNPY3RhbC50ZXN0KHZhbHVlKSlcbiAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICA6IChyZUlzQmFkSGV4LnRlc3QodmFsdWUpID8gTkFOIDogK3ZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0b051bWJlcjtcbiIsInZhciB0b051bWJlciA9IHJlcXVpcmUoJy4vdG9OdW1iZXInKTtcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgSU5GSU5JVFkgPSAxIC8gMCxcbiAgICBNQVhfSU5URUdFUiA9IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4O1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBmaW5pdGUgbnVtYmVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4xMi4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBudW1iZXIuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9GaW5pdGUoMy4yKTtcbiAqIC8vID0+IDMuMlxuICpcbiAqIF8udG9GaW5pdGUoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiA1ZS0zMjRcbiAqXG4gKiBfLnRvRmluaXRlKEluZmluaXR5KTtcbiAqIC8vID0+IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4XG4gKlxuICogXy50b0Zpbml0ZSgnMy4yJyk7XG4gKiAvLyA9PiAzLjJcbiAqL1xuZnVuY3Rpb24gdG9GaW5pdGUodmFsdWUpIHtcbiAgaWYgKCF2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogMDtcbiAgfVxuICB2YWx1ZSA9IHRvTnVtYmVyKHZhbHVlKTtcbiAgaWYgKHZhbHVlID09PSBJTkZJTklUWSB8fCB2YWx1ZSA9PT0gLUlORklOSVRZKSB7XG4gICAgdmFyIHNpZ24gPSAodmFsdWUgPCAwID8gLTEgOiAxKTtcbiAgICByZXR1cm4gc2lnbiAqIE1BWF9JTlRFR0VSO1xuICB9XG4gIHJldHVybiB2YWx1ZSA9PT0gdmFsdWUgPyB2YWx1ZSA6IDA7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdG9GaW5pdGU7XG4iLCJ2YXIgdG9GaW5pdGUgPSByZXF1aXJlKCcuL3RvRmluaXRlJyk7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhbiBpbnRlZ2VyLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gKiBbYFRvSW50ZWdlcmBdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2ludGVnZXIpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9JbnRlZ2VyKDMuMik7XG4gKiAvLyA9PiAzXG4gKlxuICogXy50b0ludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiAwXG4gKlxuICogXy50b0ludGVnZXIoSW5maW5pdHkpO1xuICogLy8gPT4gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDhcbiAqXG4gKiBfLnRvSW50ZWdlcignMy4yJyk7XG4gKiAvLyA9PiAzXG4gKi9cbmZ1bmN0aW9uIHRvSW50ZWdlcih2YWx1ZSkge1xuICB2YXIgcmVzdWx0ID0gdG9GaW5pdGUodmFsdWUpLFxuICAgICAgcmVtYWluZGVyID0gcmVzdWx0ICUgMTtcblxuICByZXR1cm4gcmVzdWx0ID09PSByZXN1bHQgPyAocmVtYWluZGVyID8gcmVzdWx0IC0gcmVtYWluZGVyIDogcmVzdWx0KSA6IDA7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdG9JbnRlZ2VyO1xuIiwiLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jbGFtcGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2xhbXAuXG4gKiBAcGFyYW0ge251bWJlcn0gW2xvd2VyXSBUaGUgbG93ZXIgYm91bmQuXG4gKiBAcGFyYW0ge251bWJlcn0gdXBwZXIgVGhlIHVwcGVyIGJvdW5kLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY2xhbXBlZCBudW1iZXIuXG4gKi9cbmZ1bmN0aW9uIGJhc2VDbGFtcChudW1iZXIsIGxvd2VyLCB1cHBlcikge1xuICBpZiAobnVtYmVyID09PSBudW1iZXIpIHtcbiAgICBpZiAodXBwZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbnVtYmVyID0gbnVtYmVyIDw9IHVwcGVyID8gbnVtYmVyIDogdXBwZXI7XG4gICAgfVxuICAgIGlmIChsb3dlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBudW1iZXIgPSBudW1iZXIgPj0gbG93ZXIgPyBudW1iZXIgOiBsb3dlcjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bWJlcjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlQ2xhbXA7XG4iLCJ2YXIgYmFzZUNsYW1wID0gcmVxdWlyZSgnLi9fYmFzZUNsYW1wJyksXG4gICAgYmFzZVRvU3RyaW5nID0gcmVxdWlyZSgnLi9fYmFzZVRvU3RyaW5nJyksXG4gICAgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi90b0ludGVnZXInKSxcbiAgICB0b1N0cmluZyA9IHJlcXVpcmUoJy4vdG9TdHJpbmcnKTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHN0cmluZ2AgZW5kcyB3aXRoIHRoZSBnaXZlbiB0YXJnZXQgc3RyaW5nLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBTdHJpbmdcbiAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gKiBAcGFyYW0ge3N0cmluZ30gW3RhcmdldF0gVGhlIHN0cmluZyB0byBzZWFyY2ggZm9yLlxuICogQHBhcmFtIHtudW1iZXJ9IFtwb3NpdGlvbj1zdHJpbmcubGVuZ3RoXSBUaGUgcG9zaXRpb24gdG8gc2VhcmNoIHVwIHRvLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBzdHJpbmdgIGVuZHMgd2l0aCBgdGFyZ2V0YCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uZW5kc1dpdGgoJ2FiYycsICdjJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lbmRzV2l0aCgnYWJjJywgJ2InKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lbmRzV2l0aCgnYWJjJywgJ2InLCAyKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gZW5kc1dpdGgoc3RyaW5nLCB0YXJnZXQsIHBvc2l0aW9uKSB7XG4gIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gIHRhcmdldCA9IGJhc2VUb1N0cmluZyh0YXJnZXQpO1xuXG4gIHZhciBsZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuICBwb3NpdGlvbiA9IHBvc2l0aW9uID09PSB1bmRlZmluZWRcbiAgICA/IGxlbmd0aFxuICAgIDogYmFzZUNsYW1wKHRvSW50ZWdlcihwb3NpdGlvbiksIDAsIGxlbmd0aCk7XG5cbiAgdmFyIGVuZCA9IHBvc2l0aW9uO1xuICBwb3NpdGlvbiAtPSB0YXJnZXQubGVuZ3RoO1xuICByZXR1cm4gcG9zaXRpb24gPj0gMCAmJiBzdHJpbmcuc2xpY2UocG9zaXRpb24sIGVuZCkgPT0gdGFyZ2V0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGVuZHNXaXRoO1xuIiwiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNPYmplY3RMaWtlO1xuIiwiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheWAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbm1vZHVsZS5leHBvcnRzID0gaXNBcnJheTtcbiIsIi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHJvcGVydHlPZmAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVByb3BlcnR5T2Yob2JqZWN0KSB7XG4gIHJldHVybiBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlUHJvcGVydHlPZjtcbiIsInZhciBiYXNlUHJvcGVydHlPZiA9IHJlcXVpcmUoJy4vX2Jhc2VQcm9wZXJ0eU9mJyk7XG5cbi8qKiBVc2VkIHRvIG1hcCBjaGFyYWN0ZXJzIHRvIEhUTUwgZW50aXRpZXMuICovXG52YXIgaHRtbEVzY2FwZXMgPSB7XG4gICcmJzogJyZhbXA7JyxcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnLFxuICAnXCInOiAnJnF1b3Q7JyxcbiAgXCInXCI6ICcmIzM5Oydcbn07XG5cbi8qKlxuICogVXNlZCBieSBgXy5lc2NhcGVgIHRvIGNvbnZlcnQgY2hhcmFjdGVycyB0byBIVE1MIGVudGl0aWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gY2hyIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byBlc2NhcGUuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIGNoYXJhY3Rlci5cbiAqL1xudmFyIGVzY2FwZUh0bWxDaGFyID0gYmFzZVByb3BlcnR5T2YoaHRtbEVzY2FwZXMpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVzY2FwZUh0bWxDaGFyO1xuIiwidmFyIGVzY2FwZUh0bWxDaGFyID0gcmVxdWlyZSgnLi9fZXNjYXBlSHRtbENoYXInKSxcbiAgICB0b1N0cmluZyA9IHJlcXVpcmUoJy4vdG9TdHJpbmcnKTtcblxuLyoqIFVzZWQgdG8gbWF0Y2ggSFRNTCBlbnRpdGllcyBhbmQgSFRNTCBjaGFyYWN0ZXJzLiAqL1xudmFyIHJlVW5lc2NhcGVkSHRtbCA9IC9bJjw+XCInXS9nLFxuICAgIHJlSGFzVW5lc2NhcGVkSHRtbCA9IFJlZ0V4cChyZVVuZXNjYXBlZEh0bWwuc291cmNlKTtcblxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgY2hhcmFjdGVycyBcIiZcIiwgXCI8XCIsIFwiPlwiLCAnXCInLCBhbmQgXCInXCIgaW4gYHN0cmluZ2AgdG8gdGhlaXJcbiAqIGNvcnJlc3BvbmRpbmcgSFRNTCBlbnRpdGllcy5cbiAqXG4gKiAqKk5vdGU6KiogTm8gb3RoZXIgY2hhcmFjdGVycyBhcmUgZXNjYXBlZC4gVG8gZXNjYXBlIGFkZGl0aW9uYWxcbiAqIGNoYXJhY3RlcnMgdXNlIGEgdGhpcmQtcGFydHkgbGlicmFyeSBsaWtlIFtfaGVfXShodHRwczovL210aHMuYmUvaGUpLlxuICpcbiAqIFRob3VnaCB0aGUgXCI+XCIgY2hhcmFjdGVyIGlzIGVzY2FwZWQgZm9yIHN5bW1ldHJ5LCBjaGFyYWN0ZXJzIGxpa2VcbiAqIFwiPlwiIGFuZCBcIi9cIiBkb24ndCBuZWVkIGVzY2FwaW5nIGluIEhUTUwgYW5kIGhhdmUgbm8gc3BlY2lhbCBtZWFuaW5nXG4gKiB1bmxlc3MgdGhleSdyZSBwYXJ0IG9mIGEgdGFnIG9yIHVucXVvdGVkIGF0dHJpYnV0ZSB2YWx1ZS4gU2VlXG4gKiBbTWF0aGlhcyBCeW5lbnMncyBhcnRpY2xlXShodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvYW1iaWd1b3VzLWFtcGVyc2FuZHMpXG4gKiAodW5kZXIgXCJzZW1pLXJlbGF0ZWQgZnVuIGZhY3RcIikgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBXaGVuIHdvcmtpbmcgd2l0aCBIVE1MIHlvdSBzaG91bGQgYWx3YXlzXG4gKiBbcXVvdGUgYXR0cmlidXRlIHZhbHVlc10oaHR0cDovL3dvbmtvLmNvbS9wb3N0L2h0bWwtZXNjYXBpbmcpIHRvIHJlZHVjZVxuICogWFNTIHZlY3RvcnMuXG4gKlxuICogQHN0YXRpY1xuICogQHNpbmNlIDAuMS4wXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IFN0cmluZ1xuICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gZXNjYXBlLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBzdHJpbmcuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uZXNjYXBlKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycpO1xuICogLy8gPT4gJ2ZyZWQsIGJhcm5leSwgJmFtcDsgcGViYmxlcydcbiAqL1xuZnVuY3Rpb24gZXNjYXBlKHN0cmluZykge1xuICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICByZXR1cm4gKHN0cmluZyAmJiByZUhhc1VuZXNjYXBlZEh0bWwudGVzdChzdHJpbmcpKVxuICAgID8gc3RyaW5nLnJlcGxhY2UocmVVbmVzY2FwZWRIdG1sLCBlc2NhcGVIdG1sQ2hhcilcbiAgICA6IHN0cmluZztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBlc2NhcGU7XG4iLCIvKipcbiAqIENvcGllcyB0aGUgdmFsdWVzIG9mIGBzb3VyY2VgIHRvIGBhcnJheWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IHNvdXJjZSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgZnJvbS5cbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheT1bXV0gVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIHRvLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gKi9cbmZ1bmN0aW9uIGNvcHlBcnJheShzb3VyY2UsIGFycmF5KSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gc291cmNlLmxlbmd0aDtcblxuICBhcnJheSB8fCAoYXJyYXkgPSBBcnJheShsZW5ndGgpKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBhcnJheVtpbmRleF0gPSBzb3VyY2VbaW5kZXhdO1xuICB9XG4gIHJldHVybiBhcnJheTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjb3B5QXJyYXk7XG4iLCIvKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuYXJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIHN0b3JpbmcgbWV0YWRhdGEuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlVW5hcnkoZnVuYykge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gZnVuYyh2YWx1ZSk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZVVuYXJ5O1xuIiwiLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGJhc2VJbmRleE9mYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGEgY29tcGFyYXRvci5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJhdG9yIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICovXG5mdW5jdGlvbiBiYXNlSW5kZXhPZldpdGgoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgsIGNvbXBhcmF0b3IpIHtcbiAgdmFyIGluZGV4ID0gZnJvbUluZGV4IC0gMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGlmIChjb21wYXJhdG9yKGFycmF5W2luZGV4XSwgdmFsdWUpKSB7XG4gICAgICByZXR1cm4gaW5kZXg7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlSW5kZXhPZldpdGg7XG4iLCIvKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5pbmRleE9mYCB3aGljaCBwZXJmb3JtcyBzdHJpY3QgZXF1YWxpdHlcbiAqIGNvbXBhcmlzb25zIG9mIHZhbHVlcywgaS5lLiBgPT09YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICovXG5mdW5jdGlvbiBzdHJpY3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gIHZhciBpbmRleCA9IGZyb21JbmRleCAtIDEsXG4gICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBpZiAoYXJyYXlbaW5kZXhdID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc3RyaWN0SW5kZXhPZjtcbiIsIi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYU5gIHdpdGhvdXQgc3VwcG9ydCBmb3IgbnVtYmVyIG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYE5hTmAsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzTmFOKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUlzTmFOO1xuIiwiLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5maW5kSW5kZXhgIGFuZCBgXy5maW5kTGFzdEluZGV4YCB3aXRob3V0XG4gKiBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VGaW5kSW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4LCBmcm9tUmlnaHQpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgIGluZGV4ID0gZnJvbUluZGV4ICsgKGZyb21SaWdodCA/IDEgOiAtMSk7XG5cbiAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkpIHtcbiAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUZpbmRJbmRleDtcbiIsInZhciBiYXNlRmluZEluZGV4ID0gcmVxdWlyZSgnLi9fYmFzZUZpbmRJbmRleCcpLFxuICAgIGJhc2VJc05hTiA9IHJlcXVpcmUoJy4vX2Jhc2VJc05hTicpLFxuICAgIHN0cmljdEluZGV4T2YgPSByZXF1aXJlKCcuL19zdHJpY3RJbmRleE9mJyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW5kZXhPZmAgd2l0aG91dCBgZnJvbUluZGV4YCBib3VuZHMgY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gdmFsdWVcbiAgICA/IHN0cmljdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpXG4gICAgOiBiYXNlRmluZEluZGV4KGFycmF5LCBiYXNlSXNOYU4sIGZyb21JbmRleCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUluZGV4T2Y7XG4iLCJ2YXIgYXJyYXlNYXAgPSByZXF1aXJlKCcuL19hcnJheU1hcCcpLFxuICAgIGJhc2VJbmRleE9mID0gcmVxdWlyZSgnLi9fYmFzZUluZGV4T2YnKSxcbiAgICBiYXNlSW5kZXhPZldpdGggPSByZXF1aXJlKCcuL19iYXNlSW5kZXhPZldpdGgnKSxcbiAgICBiYXNlVW5hcnkgPSByZXF1aXJlKCcuL19iYXNlVW5hcnknKSxcbiAgICBjb3B5QXJyYXkgPSByZXF1aXJlKCcuL19jb3B5QXJyYXknKTtcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGU7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHNwbGljZSA9IGFycmF5UHJvdG8uc3BsaWNlO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnB1bGxBbGxCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICogc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICovXG5mdW5jdGlvbiBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICB2YXIgaW5kZXhPZiA9IGNvbXBhcmF0b3IgPyBiYXNlSW5kZXhPZldpdGggOiBiYXNlSW5kZXhPZixcbiAgICAgIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgc2VlbiA9IGFycmF5O1xuXG4gIGlmIChhcnJheSA9PT0gdmFsdWVzKSB7XG4gICAgdmFsdWVzID0gY29weUFycmF5KHZhbHVlcyk7XG4gIH1cbiAgaWYgKGl0ZXJhdGVlKSB7XG4gICAgc2VlbiA9IGFycmF5TWFwKGFycmF5LCBiYXNlVW5hcnkoaXRlcmF0ZWUpKTtcbiAgfVxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBmcm9tSW5kZXggPSAwLFxuICAgICAgICB2YWx1ZSA9IHZhbHVlc1tpbmRleF0sXG4gICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgIHdoaWxlICgoZnJvbUluZGV4ID0gaW5kZXhPZihzZWVuLCBjb21wdXRlZCwgZnJvbUluZGV4LCBjb21wYXJhdG9yKSkgPiAtMSkge1xuICAgICAgaWYgKHNlZW4gIT09IGFycmF5KSB7XG4gICAgICAgIHNwbGljZS5jYWxsKHNlZW4sIGZyb21JbmRleCwgMSk7XG4gICAgICB9XG4gICAgICBzcGxpY2UuY2FsbChhcnJheSwgZnJvbUluZGV4LCAxKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VQdWxsQWxsO1xuIiwidmFyIGJhc2VQdWxsQWxsID0gcmVxdWlyZSgnLi9fYmFzZVB1bGxBbGwnKTtcblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnB1bGxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYW4gYXJyYXkgb2YgdmFsdWVzIHRvIHJlbW92ZS5cbiAqXG4gKiAqKk5vdGU6KiogVW5saWtlIGBfLmRpZmZlcmVuY2VgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IEFycmF5XG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnYScsICdiJywgJ2MnXTtcbiAqXG4gKiBfLnB1bGxBbGwoYXJyYXksIFsnYScsICdjJ10pO1xuICogY29uc29sZS5sb2coYXJyYXkpO1xuICogLy8gPT4gWydiJywgJ2InXVxuICovXG5mdW5jdGlvbiBwdWxsQWxsKGFycmF5LCB2YWx1ZXMpIHtcbiAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGggJiYgdmFsdWVzICYmIHZhbHVlcy5sZW5ndGgpXG4gICAgPyBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzKVxuICAgIDogYXJyYXk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcHVsbEFsbDtcbiIsIi8qKiBVc2VkIHRvIGRldGVjdCBob3QgZnVuY3Rpb25zIGJ5IG51bWJlciBvZiBjYWxscyB3aXRoaW4gYSBzcGFuIG9mIG1pbGxpc2Vjb25kcy4gKi9cbnZhciBIT1RfQ09VTlQgPSA4MDAsXG4gICAgSE9UX1NQQU4gPSAxNjtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZU5vdyA9IERhdGUubm93O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0J2xsIHNob3J0IG91dCBhbmQgaW52b2tlIGBpZGVudGl0eWAgaW5zdGVhZFxuICogb2YgYGZ1bmNgIHdoZW4gaXQncyBjYWxsZWQgYEhPVF9DT1VOVGAgb3IgbW9yZSB0aW1lcyBpbiBgSE9UX1NQQU5gXG4gKiBtaWxsaXNlY29uZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc2hvcnRhYmxlIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBzaG9ydE91dChmdW5jKSB7XG4gIHZhciBjb3VudCA9IDAsXG4gICAgICBsYXN0Q2FsbGVkID0gMDtcblxuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0YW1wID0gbmF0aXZlTm93KCksXG4gICAgICAgIHJlbWFpbmluZyA9IEhPVF9TUEFOIC0gKHN0YW1wIC0gbGFzdENhbGxlZCk7XG5cbiAgICBsYXN0Q2FsbGVkID0gc3RhbXA7XG4gICAgaWYgKHJlbWFpbmluZyA+IDApIHtcbiAgICAgIGlmICgrK2NvdW50ID49IEhPVF9DT1VOVCkge1xuICAgICAgICByZXR1cm4gYXJndW1lbnRzWzBdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb3VudCA9IDA7XG4gICAgfVxuICAgIHJldHVybiBmdW5jLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzaG9ydE91dDtcbiIsIi8qKlxuICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGdldFZhbHVlKG9iamVjdCwga2V5KSB7XG4gIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFZhbHVlO1xuIiwiLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuLyoqXG4gKiBDb252ZXJ0cyBgZnVuY2AgdG8gaXRzIHNvdXJjZSBjb2RlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc291cmNlIGNvZGUuXG4gKi9cbmZ1bmN0aW9uIHRvU291cmNlKGZ1bmMpIHtcbiAgaWYgKGZ1bmMgIT0gbnVsbCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZnVuY1RvU3RyaW5nLmNhbGwoZnVuYyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIChmdW5jICsgJycpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRvU291cmNlO1xuIiwidmFyIHJvb3QgPSByZXF1aXJlKCcuL19yb290Jyk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbnZhciBjb3JlSnNEYXRhID0gcm9vdFsnX19jb3JlLWpzX3NoYXJlZF9fJ107XG5cbm1vZHVsZS5leHBvcnRzID0gY29yZUpzRGF0YTtcbiIsInZhciBjb3JlSnNEYXRhID0gcmVxdWlyZSgnLi9fY29yZUpzRGF0YScpO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xudmFyIG1hc2tTcmNLZXkgPSAoZnVuY3Rpb24oKSB7XG4gIHZhciB1aWQgPSAvW14uXSskLy5leGVjKGNvcmVKc0RhdGEgJiYgY29yZUpzRGF0YS5rZXlzICYmIGNvcmVKc0RhdGEua2V5cy5JRV9QUk9UTyB8fCAnJyk7XG4gIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbn0oKSk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgaXRzIHNvdXJjZSBtYXNrZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNNYXNrZWQoZnVuYykge1xuICByZXR1cm4gISFtYXNrU3JjS2V5ICYmIChtYXNrU3JjS2V5IGluIGZ1bmMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzTWFza2VkO1xuIiwiLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gb2JqZWN0VG9TdHJpbmc7XG4iLCJ2YXIgU3ltYm9sID0gcmVxdWlyZSgnLi9fU3ltYm9sJyk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VHZXRUYWdgIHdoaWNoIGlnbm9yZXMgYFN5bWJvbC50b1N0cmluZ1RhZ2AgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBnZXRSYXdUYWcodmFsdWUpIHtcbiAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuICAgICAgdGFnID0gdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuXG4gIHRyeSB7XG4gICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgIHZhciB1bm1hc2tlZCA9IHRydWU7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdmFyIHJlc3VsdCA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICBpZiAodW5tYXNrZWQpIHtcbiAgICBpZiAoaXNPd24pIHtcbiAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHRhZztcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRSYXdUYWc7XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSB8fCAoMSwgZXZhbCkoXCJ0aGlzXCIpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwiLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxubW9kdWxlLmV4cG9ydHMgPSBmcmVlR2xvYmFsO1xuIiwidmFyIGJhc2VHZXRUYWcgPSByZXF1aXJlKCcuL19iYXNlR2V0VGFnJyksXG4gICAgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzT2JqZWN0Jyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhc3luY1RhZyA9ICdbb2JqZWN0IEFzeW5jRnVuY3Rpb25dJyxcbiAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICBnZW5UYWcgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nLFxuICAgIHByb3h5VGFnID0gJ1tvYmplY3QgUHJveHldJztcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oXyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gIC8vIGluIFNhZmFyaSA5IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5cyBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnIHx8IHRhZyA9PSBhc3luY1RhZyB8fCB0YWcgPT0gcHJveHlUYWc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNGdW5jdGlvbjtcbiIsInZhciBpc0Z1bmN0aW9uID0gcmVxdWlyZSgnLi9pc0Z1bmN0aW9uJyksXG4gICAgaXNNYXNrZWQgPSByZXF1aXJlKCcuL19pc01hc2tlZCcpLFxuICAgIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpLFxuICAgIHRvU291cmNlID0gcmVxdWlyZSgnLi9fdG9Tb3VyY2UnKTtcblxuLyoqXG4gKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgXG4gKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAqL1xudmFyIHJlUmVnRXhwQ2hhciA9IC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkpLiAqL1xudmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlLiAqL1xudmFyIHJlSXNOYXRpdmUgPSBSZWdFeHAoJ14nICtcbiAgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csICckMS4qPycpICsgJyQnXG4pO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmF0aXZlYCB3aXRob3V0IGJhZCBzaGltIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBpc01hc2tlZCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHBhdHRlcm4gPSBpc0Z1bmN0aW9uKHZhbHVlKSA/IHJlSXNOYXRpdmUgOiByZUlzSG9zdEN0b3I7XG4gIHJldHVybiBwYXR0ZXJuLnRlc3QodG9Tb3VyY2UodmFsdWUpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlSXNOYXRpdmU7XG4iLCJ2YXIgYmFzZUlzTmF0aXZlID0gcmVxdWlyZSgnLi9fYmFzZUlzTmF0aXZlJyksXG4gICAgZ2V0VmFsdWUgPSByZXF1aXJlKCcuL19nZXRWYWx1ZScpO1xuXG4vKipcbiAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZ1bmN0aW9uIGlmIGl0J3MgbmF0aXZlLCBlbHNlIGB1bmRlZmluZWRgLlxuICovXG5mdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgdmFyIHZhbHVlID0gZ2V0VmFsdWUob2JqZWN0LCBrZXkpO1xuICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldE5hdGl2ZTtcbiIsInZhciBnZXROYXRpdmUgPSByZXF1aXJlKCcuL19nZXROYXRpdmUnKTtcblxudmFyIGRlZmluZVByb3BlcnR5ID0gKGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIHZhciBmdW5jID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2RlZmluZVByb3BlcnR5Jyk7XG4gICAgZnVuYyh7fSwgJycsIHt9KTtcbiAgICByZXR1cm4gZnVuYztcbiAgfSBjYXRjaCAoZSkge31cbn0oKSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZGVmaW5lUHJvcGVydHk7XG4iLCIvKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYHZhbHVlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDIuNC4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmV0dXJuIGZyb20gdGhlIG5ldyBmdW5jdGlvbi5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbnN0YW50IGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0cyA9IF8udGltZXMoMiwgXy5jb25zdGFudCh7ICdhJzogMSB9KSk7XG4gKlxuICogY29uc29sZS5sb2cob2JqZWN0cyk7XG4gKiAvLyA9PiBbeyAnYSc6IDEgfSwgeyAnYSc6IDEgfV1cbiAqXG4gKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gY29uc3RhbnQodmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjb25zdGFudDtcbiIsInZhciBjb25zdGFudCA9IHJlcXVpcmUoJy4vY29uc3RhbnQnKSxcbiAgICBkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX2RlZmluZVByb3BlcnR5JyksXG4gICAgaWRlbnRpdHkgPSByZXF1aXJlKCcuL2lkZW50aXR5Jyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldFRvU3RyaW5nYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAqL1xudmFyIGJhc2VTZXRUb1N0cmluZyA9ICFkZWZpbmVQcm9wZXJ0eSA/IGlkZW50aXR5IDogZnVuY3Rpb24oZnVuYywgc3RyaW5nKSB7XG4gIHJldHVybiBkZWZpbmVQcm9wZXJ0eShmdW5jLCAndG9TdHJpbmcnLCB7XG4gICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgJ2VudW1lcmFibGUnOiBmYWxzZSxcbiAgICAndmFsdWUnOiBjb25zdGFudChzdHJpbmcpLFxuICAgICd3cml0YWJsZSc6IHRydWVcbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VTZXRUb1N0cmluZztcbiIsInZhciBiYXNlU2V0VG9TdHJpbmcgPSByZXF1aXJlKCcuL19iYXNlU2V0VG9TdHJpbmcnKSxcbiAgICBzaG9ydE91dCA9IHJlcXVpcmUoJy4vX3Nob3J0T3V0Jyk7XG5cbi8qKlxuICogU2V0cyB0aGUgYHRvU3RyaW5nYCBtZXRob2Qgb2YgYGZ1bmNgIHRvIHJldHVybiBgc3RyaW5nYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtGdW5jdGlvbn0gc3RyaW5nIFRoZSBgdG9TdHJpbmdgIHJlc3VsdC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gKi9cbnZhciBzZXRUb1N0cmluZyA9IHNob3J0T3V0KGJhc2VTZXRUb1N0cmluZyk7XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0VG9TdHJpbmc7XG4iLCIvKipcbiAqIEEgZmFzdGVyIGFsdGVybmF0aXZlIHRvIGBGdW5jdGlvbiNhcHBseWAsIHRoaXMgZnVuY3Rpb24gaW52b2tlcyBgZnVuY2BcbiAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGB0aGlzQXJnYCBhbmQgdGhlIGFyZ3VtZW50cyBvZiBgYXJnc2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYGZ1bmNgLlxuICovXG5mdW5jdGlvbiBhcHBseShmdW5jLCB0aGlzQXJnLCBhcmdzKSB7XG4gIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICBjYXNlIDA6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZyk7XG4gICAgY2FzZSAxOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0pO1xuICAgIGNhc2UgMjogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICBjYXNlIDM6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gIH1cbiAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXBwbHk7XG4iLCJ2YXIgYXBwbHkgPSByZXF1aXJlKCcuL19hcHBseScpO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlTWF4ID0gTWF0aC5tYXg7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUmVzdGAgd2hpY2ggdHJhbnNmb3JtcyB0aGUgcmVzdCBhcnJheS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgcmVzdCBhcnJheSB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb3ZlclJlc3QoZnVuYywgc3RhcnQsIHRyYW5zZm9ybSkge1xuICBzdGFydCA9IG5hdGl2ZU1heChzdGFydCA9PT0gdW5kZWZpbmVkID8gKGZ1bmMubGVuZ3RoIC0gMSkgOiBzdGFydCwgMCk7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3MubGVuZ3RoIC0gc3RhcnQsIDApLFxuICAgICAgICBhcnJheSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYXJyYXlbaW5kZXhdID0gYXJnc1tzdGFydCArIGluZGV4XTtcbiAgICB9XG4gICAgaW5kZXggPSAtMTtcbiAgICB2YXIgb3RoZXJBcmdzID0gQXJyYXkoc3RhcnQgKyAxKTtcbiAgICB3aGlsZSAoKytpbmRleCA8IHN0YXJ0KSB7XG4gICAgICBvdGhlckFyZ3NbaW5kZXhdID0gYXJnc1tpbmRleF07XG4gICAgfVxuICAgIG90aGVyQXJnc1tzdGFydF0gPSB0cmFuc2Zvcm0oYXJyYXkpO1xuICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG92ZXJSZXN0O1xuIiwidmFyIGlkZW50aXR5ID0gcmVxdWlyZSgnLi9pZGVudGl0eScpLFxuICAgIG92ZXJSZXN0ID0gcmVxdWlyZSgnLi9fb3ZlclJlc3QnKSxcbiAgICBzZXRUb1N0cmluZyA9IHJlcXVpcmUoJy4vX3NldFRvU3RyaW5nJyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVzdGAgd2hpY2ggZG9lc24ndCB2YWxpZGF0ZSBvciBjb2VyY2UgYXJndW1lbnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VSZXN0KGZ1bmMsIHN0YXJ0KSB7XG4gIHJldHVybiBzZXRUb1N0cmluZyhvdmVyUmVzdChmdW5jLCBzdGFydCwgaWRlbnRpdHkpLCBmdW5jICsgJycpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VSZXN0O1xuIiwidmFyIGJhc2VSZXN0ID0gcmVxdWlyZSgnLi9fYmFzZVJlc3QnKSxcbiAgICBwdWxsQWxsID0gcmVxdWlyZSgnLi9wdWxsQWxsJyk7XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwgZ2l2ZW4gdmFsdWVzIGZyb20gYGFycmF5YCB1c2luZ1xuICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAqXG4gKiAqKk5vdGU6KiogVW5saWtlIGBfLndpdGhvdXRgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuIFVzZSBgXy5yZW1vdmVgXG4gKiB0byByZW1vdmUgZWxlbWVudHMgZnJvbSBhbiBhcnJheSBieSBwcmVkaWNhdGUuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAyLjAuMFxuICogQGNhdGVnb3J5IEFycmF5XG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHsuLi4qfSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2EnLCAnYicsICdjJ107XG4gKlxuICogXy5wdWxsKGFycmF5LCAnYScsICdjJyk7XG4gKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gKiAvLyA9PiBbJ2InLCAnYiddXG4gKi9cbnZhciBwdWxsID0gYmFzZVJlc3QocHVsbEFsbCk7XG5cbm1vZHVsZS5leHBvcnRzID0gcHVsbDtcbiIsIlxyXG5pbXBvcnQgcHVsbCBmcm9tIFwibG9kYXNoL3B1bGxcIjtcclxuXHJcbmludGVyZmFjZSBNZXNzYWdlIHtcclxuICAgIGNhdGVnb3J5OiBzdHJpbmc7XHJcbiAgICBkYXRhOiB7fTtcclxuICAgIHNvdXJjZTogYW55O1xyXG59XHJcblxyXG5cclxuLy8gaW50ZXJmYWNlIE9ic2VydmFibGVUeXBlIHtcclxuLy8gICAgIHNlbmQoY2F0ZWdvcnk6IHN0cmluZywgZGF0YTogYW55KSA6IHZvaWQ7XHJcbi8vICAgICBhZGRMaXN0ZW5lcihsaXN0ZW5lcjogT2JzZXJ2ZXJUeXBlLCBjYXRlZ29yeT86IHN0cmluZyB8IHN0cmluZ1tdKSA6IE9ic2VydmFibGVUeXBlO1xyXG4vLyAgICAgcmVtb3ZlTGlzdGVuZXIobGlzdGVuZXI6IE9ic2VydmVyVHlwZSwgY2F0ZWdvcnk/OiBzdHJpbmcpIDogT2JzZXJ2YWJsZVR5cGU7XHJcbi8vICAgICBpZGVudGlmeShjYXRlZ29yeTogc3RyaW5nLCBmdW5jOiAobzpPYnNlcnZlclR5cGUpID0+IGFueSkgOiBPYnNlcnZlclR5cGU7XHJcbi8vIH1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRMaXN0ZW5lcihvYmpXaXRoT2JzZXJ2YWJsZToge29ic2VydmFibGU6IE9ic2VydmFibGV9LCBsaXN0ZW5lcjogT2JzZXJ2ZXJUeXBlLCBjYXRlZ29yeT86IHN0cmluZyB8IHN0cmluZ1tdKSB7XHJcbiAgICBvYmpXaXRoT2JzZXJ2YWJsZS5vYnNlcnZhYmxlLmFkZExpc3RlbmVyKGxpc3RlbmVyLCBjYXRlZ29yeSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtZXNzYWdlUmVzcG9uc2UobWVzc2FnZUNhdGVnb3J5Pzogc3RyaW5nKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldDogYW55LCBwcm9wZXJ0eUtleTogc3RyaW5nLCBkZXNjcmlwdG9yOiBQcm9wZXJ0eURlc2NyaXB0b3IpIHtcclxuICAgICAgICBpZiAoIXRhcmdldC5fYWN0KSB7IHRhcmdldC5fYWN0ID0ge307IH1cclxuICAgICAgICB0YXJnZXQuX2FjdFttZXNzYWdlQ2F0ZWdvcnkgfHwgcHJvcGVydHlLZXldID0gdGFyZ2V0W3Byb3BlcnR5S2V5XTtcclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTWVzc2FnZVJlc3BvbnNlcyB7XHJcbiAgICBbaW5kZXg6IHN0cmluZ106ICgobXNnOiBNZXNzYWdlKSA9PiB2b2lkKTtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBPYnNlcnZlclR5cGUge1xyXG4gICAgX2FjdCA6IE1lc3NhZ2VSZXNwb25zZXM7XHJcbn1cclxuXHJcbi8vIGV4cG9ydCBjbGFzcyBPYnNlcnZlciB7XHJcbi8vICAgICBwcml2YXRlIHJlYWRvbmx5IGFjdG9yOiBBY3RvcjtcclxuXHJcbi8vICAgICBjb25zdHJ1Y3RvcihhY3RvcjogQWN0b3IpIHtcclxuLy8gICAgICAgICB0aGlzLmFjdG9yID0gYWN0b3I7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIF9JREVOVElGWShtc2cgOiB7ZGF0YToobzphbnkpID0+IHZvaWR9KSB7XHJcbi8vICAgICAgICAgbXNnLmRhdGEodGhpcyk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIGxpc3RlblRvKG90aGVyOiBPYnNlcnZhYmxlVHlwZSwgY2F0ZWdvcnk6IHN0cmluZykge1xyXG4vLyAgICAgICAgIG90aGVyLmFkZExpc3RlbmVyKHRoaXMsIGNhdGVnb3J5KTtcclxuLy8gICAgICAgICByZXR1cm4gdGhpcztcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgc3RvcExpc3RlbmluZ1RvKG90aGVyOiBPYnNlcnZhYmxlVHlwZSwgY2F0ZWdvcnk6IHN0cmluZykge1xyXG4vLyAgICAgICAgIGlmIChvdGhlcikge1xyXG4vLyAgICAgICAgICAgICBvdGhlci5yZW1vdmVMaXN0ZW5lcih0aGlzLCBjYXRlZ29yeSk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIHJldHVybiB0aGlzO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyByZWN2IChtc2cgOiBNZXNzYWdlKSB7XHJcblxyXG4vLyAgICAgICAgIC8vIENhbGwgdGhlIFwiX2FjdFwiIGZ1bmN0aW9uIGZvciB0aGlzXHJcbi8vICAgICAgICAgdmFyIGNhdEFjdCA9IHRoaXMuYWN0b3IuX2FjdFttc2cuY2F0ZWdvcnldO1xyXG4vLyAgICAgICAgIGlmIChjYXRBY3Qpe1xyXG4vLyAgICAgICAgICAgICBjYXRBY3QuY2FsbCh0aGlzLmFjdG9yLCBtc2cpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNlIGlmICh0aGlzLmFjdG9yLl9hY3QuX2RlZmF1bHQpIHtcclxuLy8gICAgICAgICAgICAgdGhpcy5hY3Rvci5fYWN0Ll9kZWZhdWx0LmNhbGwodGhpcy5hY3RvciwgbXNnKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZSB7XHJcbi8vICAgICAgICAgICAgIGFzc2VydChmYWxzZSk7XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuZnVuY3Rpb24gcmVjZWl2ZU1lc3NhZ2Uob2JzZXJ2ZXI6IE9ic2VydmVyVHlwZSwgbXNnOiBNZXNzYWdlKSB7XHJcbiAgICB2YXIgY2F0QWN0ID0gb2JzZXJ2ZXIuX2FjdFttc2cuY2F0ZWdvcnldO1xyXG4gICAgaWYgKGNhdEFjdCl7XHJcbiAgICAgICAgY2F0QWN0LmNhbGwob2JzZXJ2ZXIsIG1zZyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChvYnNlcnZlci5fYWN0Ll9kZWZhdWx0KSB7XHJcbiAgICAgICAgb2JzZXJ2ZXIuX2FjdC5fZGVmYXVsdC5jYWxsKG9ic2VydmVyLCBtc2cpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgYXNzZXJ0KGZhbHNlKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE9ic2VydmFibGUge1xyXG4gICAgcHJpdmF0ZSBzaWxlbnQgPSBmYWxzZTtcclxuICAgIHByaXZhdGUgdW5pdmVyc2FsT2JzZXJ2ZXJzOiBPYnNlcnZlclR5cGVbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBvYnNlcnZlcnM6IHtbaW5kZXg6IHN0cmluZ10gOiBPYnNlcnZlclR5cGVbXX0gPSB7fTtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHNvdXJjZTogYW55O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNvdXJjZTogYW55KSB7XHJcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNlbmQoY2F0ZWdvcnk6IHN0cmluZywgZGF0YT86IGFueSkge1xyXG4gICAgICAgIGlmICh0aGlzLnNpbGVudCl7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IG1zZzogTWVzc2FnZSA9IHtcclxuICAgICAgICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5LFxyXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICAgICAgICBzb3VyY2U6IHRoaXMuc291cmNlXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgbGV0IG9ic2VydmVycyA9IHRoaXMub2JzZXJ2ZXJzW21zZy5jYXRlZ29yeV07XHJcbiAgICAgICAgaWYgKG9ic2VydmVycykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9ic2VydmVycy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgcmVjZWl2ZU1lc3NhZ2Uob2JzZXJ2ZXJzW2ldLCBtc2cpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudW5pdmVyc2FsT2JzZXJ2ZXJzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIHJlY2VpdmVNZXNzYWdlKHRoaXMudW5pdmVyc2FsT2JzZXJ2ZXJzW2ldLCBtc2cpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkTGlzdGVuZXIobGlzdGVuZXI6IE9ic2VydmVyVHlwZSwgY2F0ZWdvcnk/OiBzdHJpbmcgfCBzdHJpbmdbXSkge1xyXG4gICAgICAgIGlmIChjYXRlZ29yeSkge1xyXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjYXRlZ29yeSkpIHtcclxuICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlJ3MgYW4gYXJyYXkgb2YgY2F0ZWdvcmllcywgYWRkIHRvIGFsbCBpbmRpdmlkdWFsbHlcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2F0ZWdvcnkubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZExpc3RlbmVyKGxpc3RlbmVyLCBjYXRlZ29yeVtpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMub2JzZXJ2ZXJzW2NhdGVnb3J5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXJzW2NhdGVnb3J5XSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5vYnNlcnZlcnNbY2F0ZWdvcnldLnB1c2gobGlzdGVuZXIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lckFkZGVkKGxpc3RlbmVyLCBjYXRlZ29yeSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgLy8gaWYgbm8gY2F0ZWdvcnksIGludGVudCBpcyB0byBsaXN0ZW4gdG8gZXZlcnl0aGluZ1xyXG4gICAgICAgICAgICB0aGlzLnVuaXZlcnNhbE9ic2VydmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgICAgICAgICAgdGhpcy5saXN0ZW5lckFkZGVkKGxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICBOb3RlOiB0byByZW1vdmUgYSB1bml2ZXJzYWwgbGlzdGVuZXIsIHlvdSBtdXN0IGNhbGwgdGhpcyB3aXRoIGNhdGVnb3J5PT1mYWxzZS5cclxuICAgIElmIGEgbGlzdGVuZXIgaXMgdW5pdmVyc2FsLCByZW1vdmluZyBpdCBmcm9tIGEgcGFydGljdWxhciBjYXRlZ29yeSB3b24ndCBkbyBhbnl0aGluZy5cclxuICAgICovXHJcbiAgICBwdWJsaWMgcmVtb3ZlTGlzdGVuZXIobGlzdGVuZXI6IE9ic2VydmVyVHlwZSwgY2F0ZWdvcnk/OiBzdHJpbmcpIHtcclxuICAgICAgICBpZihjYXRlZ29yeSkge1xyXG4gICAgICAgICAgICAvLyBSZW1vdmUgZnJvbSB0aGUgbGlzdCBmb3IgYSBzcGVjaWZpYyBjYXRlZ29yeSAoaWYgbGlzdCBleGlzdHMpXHJcbiAgICAgICAgICAgIGxldCBvYnNlcnZlcnMgPSB0aGlzLm9ic2VydmVyc1tjYXRlZ29yeV07XHJcbiAgICAgICAgICAgIG9ic2VydmVycyAmJiBwdWxsKG9ic2VydmVycywgbGlzdGVuZXIpO1xyXG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVyUmVtb3ZlZChsaXN0ZW5lciwgY2F0ZWdvcnkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAvLyBSZW1vdmUgZnJvbSBhbGwgY2F0ZWdvcmllc1xyXG4gICAgICAgICAgICBmb3IodmFyIGNhdCBpbiB0aGlzLm9ic2VydmVycyl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyLCBjYXQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBBbHNvIHJlbW92ZSBmcm9tIHVuaXZlcnNhbCBsaXN0ZW5lcnNcclxuICAgICAgICAgICAgcHVsbCh0aGlzLnVuaXZlcnNhbE9ic2VydmVycywgbGlzdGVuZXIpO1xyXG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVyUmVtb3ZlZChsaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBsaXN0ZW5lckFkZGVkKGxpc3RlbmVyOiBPYnNlcnZlclR5cGUsIGNhdGVnb3J5Pzogc3RyaW5nKSA6IHZvaWQgeyB9XHJcbiAgICBwcm90ZWN0ZWQgbGlzdGVuZXJSZW1vdmVkKGxpc3RlbmVyOiBPYnNlcnZlclR5cGUsIGNhdGVnb3J5Pzogc3RyaW5nKSA6IHZvaWQgeyB9XHJcblxyXG4gICAgLy8gcHVibGljIGlkZW50aWZ5KGNhdGVnb3J5OiBzdHJpbmcsIGZ1bmM6IChvOk9ic2VydmVyVHlwZSkgPT4gYW55KSB7XHJcbiAgICAvLyAgICAgbGV0IG90aGVyISA6IE9ic2VydmVyVHlwZTsgLy8gVXNlcyBkZWZpbml0ZSBhc3NpZ25tZW50IGFubm90YXRpb24gc2luY2UgdGhlIGZ1bmN0aW9uIGlzIGFzc3VtZWQgdG8gYXNzaWduIHRvIG90aGVyXHJcbiAgICAvLyAgICAgdGhpcy5zZW5kKGNhdGVnb3J5LCBmdW5jIHx8IGZ1bmN0aW9uKG86T2JzZXJ2ZXJUeXBlKSB7b3RoZXIgPSBvO30pO1xyXG4gICAgLy8gICAgIHJldHVybiBvdGhlcjtcclxuICAgIC8vIH1cclxuXHJcbn1cclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSmFtZXMgSnVldHQgb24gOS81LzIwMTYuXHJcbiAqL1xyXG5cclxuLy8gaW1wb3J0IFwiLi91dGlsL3V0aWwuanNcIlxyXG5mdW5jdGlvbiBkZWJ1ZyhtZXNzYWdlOiBzdHJpbmcsIGNhdGVnb3J5OiBzdHJpbmcpIHtcclxuICAgIGlmIChjYXRlZ29yeSl7XHJcbiAgICAgICAgY29uc29sZS5sb2coY2F0ZWdvcnkgKyBcIjogXCIgKyBtZXNzYWdlKTtcclxuICAgICAgICAkKFwiLmRlYnVnLlwiK2NhdGVnb3J5KS5odG1sKFwiXCIrbWVzc2FnZSk7IC8vXCJcIisgaXMgdG8gZm9yY2UgY29udmVyc2lvbiB0byBzdHJpbmcgKHZpYSAudG9TdHJpbmcgaWYgb2JqZWN0KVxyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTtcclxuICAgICAgICAkKFwiLmRlYnVnLmRlYnVnQWxsXCIpLmh0bWwoXCJcIittZXNzYWdlKTsgLy9cIlwiKyBpcyB0byBmb3JjZSBjb252ZXJzaW9uIHRvIHN0cmluZyAodmlhIC50b1N0cmluZyBpZiBvYmplY3QpXHJcbiAgICB9XHJcbn1cclxuXHJcbnZhciBhc3NlcnQgPSBmdW5jdGlvbihjb25kaXRpb246IGFueSwgbWVzc2FnZSA9IFwiXCIpIHtcclxuICAgIGlmICghY29uZGl0aW9uKVxyXG4gICAgICAgIHRocm93IEVycm9yKFwiQXNzZXJ0IGZhaWxlZDogXCIgKyBtZXNzYWdlKTtcclxufTtcclxuXHJcbmludGVyZmFjZSBBcnJheTxUPiB7XHJcbiAgICBjbGVhcigpIDogdm9pZDtcclxufSBcclxuQXJyYXkucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5sZW5ndGggPSAwO1xyXG59XHJcblxyXG5pbXBvcnQge09ic2VydmFibGUsIE1lc3NhZ2VSZXNwb25zZXMsIG1lc3NhZ2VSZXNwb25zZX0gZnJvbSBcIi4vdXRpbC9taXhpbnNcIjtcclxuaW1wb3J0IGVzY2FwZSBmcm9tIFwibG9kYXNoL2VzY2FwZVwiXHJcbmltcG9ydCBlbmRzV2l0aCBmcm9tIFwibG9kYXNoL2VuZHNXaXRoXCJcclxuXHJcbnZhciBBTklNQVRJT05fREVMQVkgPSA1MDA7XHJcblxyXG5leHBvcnQgY2xhc3MgUXVldWVBcHBsaWNhdGlvbiB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBfbmFtZSA9IFwiUXVldWVBcHBsaWNhdGlvblwiO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgaW5zdGFuY2UgOiBRdWV1ZUFwcGxpY2F0aW9uO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlSW5zdGFuY2UoZWxlbTogSlF1ZXJ5KSB7XHJcbiAgICAgICAgKDxRdWV1ZUFwcGxpY2F0aW9uPlF1ZXVlQXBwbGljYXRpb24uaW5zdGFuY2UpID0gbmV3IFF1ZXVlQXBwbGljYXRpb24oZWxlbSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBlbGVtIDogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSBjb3Vyc2VQaWxscyA6IEpRdWVyeTtcclxuICAgIHByaXZhdGUgY291cnNlUGFuZXMgOiBKUXVlcnk7XHJcblxyXG4gICAgcHJpdmF0ZSBjb3Vyc2VzIDogQ291cnNlW10gPSBbXTtcclxuICAgIHByaXZhdGUgX2FjdGl2ZVF1ZXVlPyA6IFF1ZXVlO1xyXG5cclxuICAgIHByaXZhdGUgbWVzc2FnZXNTaG93biA6IHtbaW5kZXg6c3RyaW5nXTogYm9vbGVhbn0gPSB7fTtcclxuICAgIHByaXZhdGUgc2VuZE1lc3NhZ2VQb3N0SWQ/OiBzdHJpbmc7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZSh0aGlzKTtcclxuXHJcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKGVsZW0gOiBKUXVlcnkpIHtcclxuICAgICAgICB0aGlzLmVsZW0gPSBlbGVtO1xyXG4gICAgICAgIHRoaXMuY291cnNlUGlsbHMgPSBlbGVtLmZpbmQoXCIuY291cnNlUGlsbHNcIik7XHJcbiAgICAgICAgdGhpcy5jb3Vyc2VQYW5lcyA9IGVsZW0uZmluZChcIi5jb3Vyc2VQYW5lc1wiKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkQ291cnNlcygpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBsb2FkQ291cnNlcygpIHtcclxuICAgICAgICB0cnl7XHJcbiAgICAgICAgICAgIGxldCBsaXN0ID0gYXdhaXQgJC5nZXRKU09OKFwiYXBpL2NvdXJzZUxpc3RcIik7XHJcbiAgICAgICAgICAgIHRoaXMub25Db3Vyc2VzTG9hZChsaXN0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2goZSkge1xyXG4gICAgICAgICAgICBvb3BzKGUsIGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25Db3Vyc2VzTG9hZChsaXN0IDoge1tpbmRleDpzdHJpbmddOiBzdHJpbmd9W10pIHtcclxuICAgICAgICB0aGlzLmNvdXJzZVBpbGxzLmVtcHR5KCk7XHJcbiAgICAgICAgdGhpcy5jb3Vyc2VQYW5lcy5lbXB0eSgpO1xyXG4gICAgICAgIHRoaXMuY291cnNlcy5jbGVhcigpO1xyXG5cclxuXHJcbiAgICAgICAgLy8gTm8gYWN0aXZlIGNvdXJzZSBpbml0aWFsbHlcclxuICAgICAgICB0aGlzLmNvdXJzZVBhbmVzLmFwcGVuZCgkKCc8ZGl2IGNsYXNzPVwidGFiLXBhbmUgZmFkZSBpbiBhY3RpdmVcIj48aDE+PHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLWFycm93LWxlZnRcIj48L3NwYW4+IFBsZWFzZSBzZWxlY3QgYSBjb3Vyc2UuPC9oMT48L2Rpdj4nKSk7XHJcblxyXG4gICAgICAgIGxpc3QuZm9yRWFjaCgoY291cnNlRGF0YSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgLy8gRXNjYXBlIGV2ZXJ5dGhpbmdcclxuICAgICAgICAgICAgLy8gVE9ETyByZWR1bmRhbnQgLSB0aGlzIGhhcHBlbnMgb24gdGhlIHNlcnZlclxyXG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gY291cnNlRGF0YSl7XHJcbiAgICAgICAgICAgICAgICBjb3Vyc2VEYXRhW2tleV0gPSBlc2NhcGUoY291cnNlRGF0YVtrZXldKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGNvdXJzZUlkID0gY291cnNlRGF0YVtcImNvdXJzZUlkXCJdO1xyXG5cclxuICAgICAgICAgICAgLy8gQWRkIHRoZSBwaWxsIHVzZWQgdG8gc2VsZWN0IHRoZSBjb3Vyc2VcclxuICAgICAgICAgICAgbGV0IHBpbGxFbGVtID0gJCgnPGxpPjxhIGhyZWY9XCIjJyArIGNvdXJzZUlkICsgJ1wiIGRhdGEtdG9nZ2xlPVwicGlsbFwiPjxoMz4nICsgY291cnNlSWQgKyAnPC9oMz48L2E+PC9saT4nKTtcclxuICAgICAgICAgICAgdGhpcy5jb3Vyc2VQaWxscy5hcHBlbmQocGlsbEVsZW0pO1xyXG5cclxuICAgICAgICAgICAgLy8gQWRkIHRoZSBlbGVtZW50IHRoYXQgd2lsbCBjb250YWluIHRoZSBjb3Vyc2UgY29udGVudFxyXG4gICAgICAgICAgICBsZXQgY291cnNlRWxlbSA9ICQoJzxkaXYgaWQ9XCInICsgY291cnNlSWQgKyAnXCIgY2xhc3M9XCJ0YWItcGFuZSBmYWRlXCI+PC9kaXY+Jyk7XHJcbiAgICAgICAgICAgIHRoaXMuY291cnNlUGFuZXMuYXBwZW5kKGNvdXJzZUVsZW0pO1xyXG5cclxuICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBjb3Vyc2UgaXRzZWxmXHJcbiAgICAgICAgICAgIGxldCBjb3Vyc2UgPSBuZXcgQ291cnNlKGNvdXJzZURhdGEsIGNvdXJzZUVsZW0pO1xyXG4gICAgICAgICAgICB0aGlzLmNvdXJzZXMucHVzaChjb3Vyc2UpO1xyXG5cclxuICAgICAgICAgICAgcGlsbEVsZW0uZmluZChcImFcIikuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGNvdXJzZS5tYWtlQWN0aXZlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRBY3RpdmVRdWV1ZShxdWV1ZSA6IGFueSkge1xyXG4gICAgICAgIHRoaXMuX2FjdGl2ZVF1ZXVlID0gcXVldWU7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJTZXR0aW5nIGFjdGl2ZSBxdWV1ZSB0byBcIiArIHF1ZXVlLnF1ZXVlSWQpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlU2lnblVwRm9ybSgpO1xyXG4gICAgICAgIHRoaXMub2JzZXJ2YWJsZS5zZW5kKFwiYWN0aXZlUXVldWVTZXRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFjdGl2ZVF1ZXVlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hY3RpdmVRdWV1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlU2lnblVwRm9ybSgpIHtcclxuICAgICAgICBpZiAodGhpcy5fYWN0aXZlUXVldWUgJiYgdGhpcy5fYWN0aXZlUXVldWUuaGFzTWFwKCkpIHtcclxuICAgICAgICAgICAgJChcIiNzaWduVXBNYXBIb2xkZXJcIikuc2hvdygpO1xyXG4gICAgICAgICAgICAkKFwiI3NpZ25VcE1hcE1lc3NhZ2VcIikuc2hvdygpO1xyXG4gICAgICAgICAgICAkKFwiI3NpZ25VcE1hcEltYWdlXCIpLmF0dHIoXCJzcmNcIiwgdGhpcy5fYWN0aXZlUXVldWUubWFwSW1hZ2VTcmMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgJChcIiNzaWduVXBNYXBIb2xkZXJcIikuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKFwiI3NpZ25VcE1hcE1lc3NhZ2VcIikuaGlkZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXNlclNpZ25lZEluKCkge1xyXG4gICAgICAgIHRoaXMuY291cnNlcy5mb3JFYWNoKChjb3Vyc2UpID0+IHtcclxuICAgICAgICAgICAgY291cnNlLnVzZXJTaWduZWRJbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWZyZXNoQWN0aXZlUXVldWUoKSB7XHJcbiAgICAgICAgdGhpcy5fYWN0aXZlUXVldWUgJiYgdGhpcy5fYWN0aXZlUXVldWUucmVmcmVzaCgpO1xyXG4gICAgICAgIHRoaXMucmVmcmVzaENvbnRlbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbWVzc2FnZShtZXNzYWdlOiB7W2luZGV4OnN0cmluZ106IHN0cmluZ30pIHtcclxuICAgICAgICBpZiAoIXRoaXMubWVzc2FnZXNTaG93blttZXNzYWdlLmlkXSl7XHJcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZXNTaG93blttZXNzYWdlLmlkXSA9IHRydWU7XHJcbiAgICAgICAgICAgICQoXCIjbWVzc2FnZURpYWxvZ0hlYWRlclwiKS5odG1sKCdNZXNzYWdlJyk7XHJcbiAgICAgICAgICAgICQoXCIjbWVzc2FnZURpYWxvZ0NvbnRlbnRcIikuYXBwZW5kKCc8cD48c3BhbiBjbGFzcz1cImxhYmVsIGxhYmVsLWluZm9cIj4nICArIG1lc3NhZ2VbXCJzZW5kZXJcIl0gKyAnPC9zcGFuPiAnICsgbWVzc2FnZVtcIm1lc3NhZ2VcIl0gKyAnPC9wPicpO1xyXG4gICAgICAgICAgICAkKFwiI21lc3NhZ2VEaWFsb2dcIikubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0U2VuZE1lc3NhZ2VQb3N0SWQoaWQ6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuc2VuZE1lc3NhZ2VQb3N0SWQgPSBpZDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2VuZE1lc3NhZ2UobWVzc2FnZTogc3RyaW5nKSB7XHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIHVybDogXCJhcGkvc2VuZE1lc3NhZ2VcIixcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgaWR0b2tlbjogVXNlci5pZFRva2VuKCksXHJcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5zZW5kTWVzc2FnZVBvc3RJZCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2VcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IG9vcHNcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVmcmVzaENvbnRlbnQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVF1ZXVlKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnRpdGxlID0gdGhpcy5fYWN0aXZlUXVldWUuY291cnNlLnNob3J0TmFtZSArIFwiIE9IIChcIiArIHRoaXMuX2FjdGl2ZVF1ZXVlLm51bUVudHJpZXMgKyBcIilcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG5vdGlmeSh0aXRsZTogc3RyaW5nLCBtZXNzYWdlOiBzdHJpbmcpIHtcclxuICAgICAgaWYgKCFOb3RpZmljYXRpb24pIHtcclxuICAgICAgICBhbGVydChtZXNzYWdlKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICAvLyBUT0RPOiBidWcgaW4gdHlwZXNjcmlwdCByZXF1aXJlcyBjYXN0IGJlbG93LiBDYW4gYmUgcmVtb3ZlZCBldmVudHVhbGx5LlxyXG4gICAgICAgIGlmICgoPGFueT5Ob3RpZmljYXRpb24pLnBlcm1pc3Npb24gIT09IFwiZ3JhbnRlZFwiKSB7XHJcbiAgICAgICAgICBOb3RpZmljYXRpb24ucmVxdWVzdFBlcm1pc3Npb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBuZXcgTm90aWZpY2F0aW9uKHRpdGxlLCB7XHJcbiAgICAgICAgICAgIGJvZHk6IG1lc3NhZ2VcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBDb3Vyc2Uge1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGNvdXJzZUlkIDogc3RyaW5nO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHNob3J0TmFtZSA6IHN0cmluZztcclxuICAgIHB1YmxpYyByZWFkb25seSBmdWxsTmFtZSA6IHN0cmluZztcclxuXHJcbiAgICBwcml2YXRlIGlzQWRtaW4gOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIHF1ZXVlcyA6IGFueVtdID0gW107XHJcbiAgICBwcml2YXRlIGFjdGl2ZVF1ZXVlIDogYW55O1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgZWxlbSA6IEpRdWVyeTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgcXVldWVQaWxsc0VsZW0gOiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHBpY2tBUXVldWVFbGVtIDogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBtYWluRWxlbSA6IEpRdWVyeTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgcXVldWVQYW5lc0VsZW0gOiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGNvbnRlbnRFbGVtIDogSlF1ZXJ5O1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhOiB7W2luZGV4OnN0cmluZ106IHN0cmluZ30sIGVsZW06IEpRdWVyeSkge1xyXG5cclxuICAgICAgICB0aGlzLmNvdXJzZUlkID0gZGF0YVtcImNvdXJzZUlkXCJdO1xyXG4gICAgICAgIHRoaXMuc2hvcnROYW1lID0gZGF0YVtcInNob3J0TmFtZVwiXTtcclxuICAgICAgICB0aGlzLmZ1bGxOYW1lID0gZGF0YVtcImZ1bGxOYW1lXCJdO1xyXG5cclxuICAgICAgICB0aGlzLmVsZW0gPSBlbGVtO1xyXG5cclxuICAgICAgICB0aGlzLnF1ZXVlUGlsbHNFbGVtID0gJCgnPHVsIGNsYXNzPVwicXVldWVQaWxscyBuYXYgbmF2LXBpbGxzXCI+PC91bD4nKTtcclxuICAgICAgICB0aGlzLmVsZW0uYXBwZW5kKHRoaXMucXVldWVQaWxsc0VsZW0pO1xyXG5cclxuICAgICAgICB0aGlzLnBpY2tBUXVldWVFbGVtID0gJCgnPGRpdj48L2Rpdj4nKTtcclxuICAgICAgICB0aGlzLnBpY2tBUXVldWVFbGVtLmFwcGVuZCgkKCc8aDM+PHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLWFycm93LXVwXCI+PC9zcGFuPiBTZXZlcmFsIHF1ZXVlcyBhcmUgYXZhaWxhYmxlIGZvciAnICsgdGhpcy5zaG9ydE5hbWUgKyAnLiBQbGVhc2Ugc2VsZWN0IG9uZS48L2gzPicpKTtcclxuICAgICAgICB0aGlzLmVsZW0uYXBwZW5kKHRoaXMucGlja0FRdWV1ZUVsZW0pO1xyXG5cclxuICAgICAgICB0aGlzLm1haW5FbGVtID0gJCgnPGRpdj48L2Rpdj4nKTtcclxuICAgICAgICB0aGlzLm1haW5FbGVtLmhpZGUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5xdWV1ZVBhbmVzRWxlbSA9ICQoJzxkaXYgY2xhc3M9XCJjb2wteHMtMTIgY29sLW1kLTEyIHF1ZXVlUGFuZXMgdGFiLWNvbnRlbnRcIj48L2Rpdj4nKTtcclxuICAgICAgICB0aGlzLm1haW5FbGVtLmFwcGVuZCh0aGlzLnF1ZXVlUGFuZXNFbGVtKTtcclxuXHJcbiAgICAgICAgdGhpcy5jb250ZW50RWxlbSA9ICQoJzxkaXYgY2xhc3M9XCJjb2wteHMtMTIgY29sLW1kLTEyXCI+PC9kaXY+Jyk7XHJcbiAgICAgICAgdGhpcy5tYWluRWxlbS5hcHBlbmQodGhpcy5jb250ZW50RWxlbSk7XHJcblxyXG4gICAgICAgIHRoaXMuZWxlbS5hcHBlbmQodGhpcy5tYWluRWxlbSk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZENvbnRlbnQoKTtcclxuICAgICAgICB0aGlzLmxvYWRRdWV1ZXMoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbWFrZUFjdGl2ZSgpIHtcclxuICAgICAgICAvLyBEb24ndCBuZWVkIHRvIGRvIGFueXRoaW5nIGluIHBhcnRpY3VsYXIgZm9yIHRoZSBjb3Vyc2UgaXRzZWxmLFxyXG4gICAgICAgIC8vIGJ1dCB3ZSBkbyBuZWVkIHRvIG1ha2Ugc3VyZSB0aGUgYWN0aXZlIHF1ZXVlIHdpdGhpbiB0aGlzIGNvdXJzZVxyXG4gICAgICAgIC8vIGlzIHRoZSBhY3RpdmUgcXVldWUgb3ZlcmFsbCBzaW5jZSBpdCB3aWxsIGJlIHNob3duLlxyXG4gICAgICAgIHRoaXMuYWN0aXZlUXVldWUgJiYgdGhpcy5hY3RpdmVRdWV1ZS5tYWtlQWN0aXZlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsb2FkQ29udGVudCgpIHtcclxuICAgICAgICB0aGlzLmNvbnRlbnRFbGVtLmxvYWQoXCJxdWV1ZS1jb21wb25lbnQvY291cnNlQ29udGVudC9cIiArIHRoaXMuY291cnNlSWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbG9hZFF1ZXVlcygpIHtcclxuICAgICAgICByZXR1cm4gJC5hamF4KHtcclxuICAgICAgICAgICAgdHlwZTogXCJHRVRcIixcclxuICAgICAgICAgICAgdXJsOiBcImFwaS9xdWV1ZUxpc3QvXCIgKyB0aGlzLmNvdXJzZUlkLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uUXVldWVzTG9hZChkYXRhKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IG9vcHNcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG9uUXVldWVzTG9hZChsaXN0IDogYW55W10pIHtcclxuICAgICAgICB0aGlzLnF1ZXVlcy5jbGVhcigpO1xyXG4gICAgICAgIHRoaXMucXVldWVQaWxsc0VsZW0uZW1wdHkoKTtcclxuICAgICAgICB0aGlzLnF1ZXVlUGFuZXNFbGVtLmVtcHR5KCk7XHJcblxyXG4gICAgICAgIGxpc3QuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICB2YXIgbmFtZSA9IGl0ZW1bXCJuYW1lXCJdO1xyXG4gICAgICAgICAgICB2YXIgcXVldWVJZCA9IGl0ZW1bXCJxdWV1ZUlkXCJdO1xyXG5cclxuICAgICAgICAgICAgLy8gQWRkIHBpbGxzIGZvciBlYWNoIHF1ZXVlIGJlbG9uZ2luZyB0byB0aGlzIGNvdXJzZVxyXG4gICAgICAgICAgICB2YXIgcGlsbEVsZW0gPSAkKCc8bGk+PGEgZGF0YS10b2dnbGU9XCJwaWxsXCI+PGg2PicgKyBuYW1lICsgJzwvaDY+PC9hPjwvbGk+Jyk7XHJcbiAgICAgICAgICAgIHBpbGxFbGVtLmZpbmQoXCJhXCIpLnByb3AoXCJocmVmXCIsIFwiI3F1ZXVlXCIgKyBxdWV1ZUlkKTtcclxuICAgICAgICAgICAgdGhpcy5xdWV1ZVBpbGxzRWxlbS5hcHBlbmQocGlsbEVsZW0pO1xyXG5cclxuICAgICAgICAgICAgLy8gQWRkIHBhbmVzIHRvIGhvbGQgdGhlIHF1ZXVlXHJcbiAgICAgICAgICAgIHZhciBxdWV1ZUVsZW0gPSAkKCc8ZGl2IGlkPVwicXVldWUnICsgcXVldWVJZCArICdcIj48L2Rpdj4nKTtcclxuICAgICAgICAgICAgcXVldWVFbGVtLmFkZENsYXNzKFwidGFiLXBhbmUgZmFkZVwiKTtcclxuICAgICAgICAgICAgdGhpcy5xdWV1ZVBhbmVzRWxlbS5hcHBlbmQocXVldWVFbGVtKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgcXVldWUgb2JqZWN0cyB0aGVtc2VsdmVzXHJcbiAgICAgICAgICAgIHZhciBxdWV1ZSA9IG5ldyBRdWV1ZShpdGVtLCB0aGlzLCBxdWV1ZUVsZW0pO1xyXG4gICAgICAgICAgICB0aGlzLnF1ZXVlcy5wdXNoKHF1ZXVlKTtcclxuXHJcbiAgICAgICAgICAgIHF1ZXVlLnJlZnJlc2goKTtcclxuXHJcbiAgICAgICAgICAgIHBpbGxFbGVtLmZpbmQoXCJhXCIpLmNsaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGlja0FRdWV1ZUVsZW0uZW1wdHkoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlUXVldWUgPSBxdWV1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMubWFpbkVsZW0uc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgcXVldWUubWFrZUFjdGl2ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIC8vIElmIG9ubHkgb25lIHF1ZXVlLCBzZWxlY3QgaXQgYXV0b21hdGljYWxseVxyXG4gICAgICAgIC8vIChwaWxsRWxlbSBhbmQgcXVldWVFbGVtIGFyZSBzdGlsbCBpbiBzY29wZSBldmVuIGFmdGVyIHRoZSBsb29wIGJvZHkpXHJcbiAgICAgICAgaWYgKHRoaXMucXVldWVzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICB0aGlzLnF1ZXVlUGlsbHNFbGVtLmNoaWxkcmVuKCkuZmlyc3QoKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgdGhpcy5xdWV1ZVBhbmVzRWxlbS5jaGlsZHJlbigpLmZpcnN0KCkuYWRkQ2xhc3MoXCJpbiBhY3RpdmVcIik7XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlUXVldWUgPSB0aGlzLnF1ZXVlc1swXTtcclxuICAgICAgICAgICAgdGhpcy5waWNrQVF1ZXVlRWxlbS5oaWRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMubWFpbkVsZW0uc2hvdygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICB0aGlzLnBpY2tBUXVldWVFbGVtLnNob3coKTtcclxuICAgICAgICAgICAgdGhpcy5tYWluRWxlbS5oaWRlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNldEFkbWluKFVzZXIuaXNDb3Vyc2VBZG1pbih0aGlzLmNvdXJzZUlkKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldEFkbWluKGlzQWRtaW4gOiBib29sZWFuKXtcclxuICAgICAgICB0aGlzLmlzQWRtaW4gPSBpc0FkbWluO1xyXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLnF1ZXVlcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICB0aGlzLnF1ZXVlc1tpXS5zZXRBZG1pbihpc0FkbWluKVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0FkbWluKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbS5hZGRDbGFzcyhcImFkbWluXCIpO1xyXG4gICAgICAgICAgICB0aGlzLmVsZW0ucmVtb3ZlQ2xhc3MoXCJub3RBZG1pblwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgdGhpcy5lbGVtLmFkZENsYXNzKFwibm90QWRtaW5cIik7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbS5yZW1vdmVDbGFzcyhcImFkbWluXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXNlclNpZ25lZEluKCl7XHJcbiAgICAgICAgdGhpcy5zZXRBZG1pbihVc2VyLmlzQ291cnNlQWRtaW4odGhpcy5jb3Vyc2VJZCkpO1xyXG4gICAgICAgIHRoaXMucXVldWVzLmZvckVhY2goZnVuY3Rpb24ocXVldWUpe1xyXG4gICAgICAgICAgICBxdWV1ZS51c2VyU2lnbmVkSW4oKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG5cclxuY2xhc3MgUXVldWUge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX25hbWU6IFwiUXVldWVcIjtcclxuICAgIFxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUodGhpcyk7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGNvdXJzZTogQ291cnNlO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBxdWV1ZUlkOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbG9jYXRpb246IHN0cmluZztcclxuICAgIHB1YmxpYyByZWFkb25seSBuYW1lOiBzdHJpbmc7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGlzQWRtaW46IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHB1YmxpYyByZWFkb25seSBudW1FbnRyaWVzOiBudW1iZXIgPSAwO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGxhc3RSZWZyZXNoOiBEYXRlID0gbmV3IERhdGUoKTtcclxuICAgIHB1YmxpYyByZWFkb25seSBpc09wZW46IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHB1YmxpYyByZWFkb25seSBteVJlcXVlc3Q6IFF1ZXVlRW50cnkgfCBudWxsID0gbnVsbDtcclxuICAgIHB1YmxpYyByZWFkb25seSBtYXBJbWFnZVNyYzogc3RyaW5nID0gXCJcIjtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGVsZW06IEpRdWVyeTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgbnVtRW50cmllc0VsZW06IEpRdWVyeTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgbGFzdFJlZnJlc2hFbGVtOiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHN0YXR1c01lc3NhZ2VFbGVtOiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGFkbWluU3RhdHVzRWxlbTogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBhZG1pbkNvbnRyb2xzRWxlbTogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBzdHVkZW50Q29udHJvbHNFbGVtOiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHF1ZXVlRWxlbTogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBzdGFja0VsZW06IEpRdWVyeTtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGFkbWluQ29udHJvbHM6IEFkbWluQ29udHJvbHM7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHN0dWRlbnRDb250cm9sczogU3R1ZGVudENvbnRyb2xzO1xyXG4gICAgXHJcbiAgICBwcml2YXRlIHJlZnJlc2hEaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBjdXJyZW50UmVmcmVzaEluZGV4ID0gMDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhOiB7W2luZGV4OnN0cmluZ106IGFueX0sIGNvdXJzZTogQ291cnNlLCBlbGVtOiBKUXVlcnkpIHtcclxuXHJcbiAgICAgICAgdGhpcy5jb3Vyc2UgPSBjb3Vyc2U7XHJcblxyXG4gICAgICAgIHRoaXMucXVldWVJZCA9IGRhdGFbXCJxdWV1ZUlkXCJdO1xyXG4gICAgICAgIHRoaXMubG9jYXRpb24gPSBkYXRhW1wibG9jYXRpb25cIl07XHJcbiAgICAgICAgdGhpcy5tYXBJbWFnZVNyYyA9IGRhdGFbXCJtYXBcIl0gPyBkYXRhW1wibWFwXCJdIDogXCJcIjtcclxuICAgICAgICB0aGlzLm5hbWUgPSBkYXRhW1wibmFtZVwiXTtcclxuICAgICAgICB0aGlzLmVsZW0gPSBlbGVtO1xyXG5cclxuICAgICAgICB0aGlzLmlzQWRtaW4gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm51bUVudHJpZXMgPSAwO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFJlZnJlc2hJbmRleCA9IDA7XHJcbiAgICAgICAgdGhpcy5sYXN0UmVmcmVzaCA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnJlZnJlc2hEaXNhYmxlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICB2YXIgc3RhdHVzRWxlbSA9ICQoJzxwPjwvcD4nKS5hcHBlbmRUbyh0aGlzLmVsZW0pO1xyXG4gICAgICAgIHN0YXR1c0VsZW0uYXBwZW5kKFxyXG4gICAgICAgICAgICAkKCc8c3BhbiBkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIiB0aXRsZT1cIk51bWJlciBvZiBTdHVkZW50c1wiPjxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1lZHVjYXRpb25cIj48L3NwYW4+PC9zcGFuPicpXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKFwiIFwiKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZCh0aGlzLm51bUVudHJpZXNFbGVtID0gJCgnPHNwYW4+PC9zcGFuPicpKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgc3RhdHVzRWxlbS5hcHBlbmQoJyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOycpO1xyXG4gICAgICAgIHN0YXR1c0VsZW0uYXBwZW5kKFxyXG4gICAgICAgICAgICAkKCc8c3BhbiBkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIiB0aXRsZT1cIkxhc3QgUmVmcmVzaFwiPjxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1yZWZyZXNoXCI+PC9zcGFuPjwvc3Bhbj4nKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZChcIiBcIilcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQodGhpcy5sYXN0UmVmcmVzaEVsZW0gPSAkKCc8c3Bhbj48L3NwYW4+JykpXHJcbiAgICAgICAgKTtcclxuICAgICAgICBzdGF0dXNFbGVtLmFwcGVuZCgnJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jyk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhdHVzTWVzc2FnZUVsZW0gPSAkKCc8c3Bhbj5Mb2FkaW5nIHF1ZXVlIGluZm9ybWF0aW9uLi4uPC9zcGFuPicpO1xyXG4gICAgICAgIHN0YXR1c0VsZW0uYXBwZW5kKHRoaXMuc3RhdHVzTWVzc2FnZUVsZW0pO1xyXG5cclxuICAgICAgICB0aGlzLmFkbWluU3RhdHVzRWxlbSA9ICQoJzxzcGFuIGNsYXNzPVwiYWRtaW5Pbmx5XCI+PGI+Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7WW91IGFyZSBhbiBhZG1pbiBmb3IgdGhpcyBxdWV1ZS48L2I+PC9zcGFuPicpO1xyXG4gICAgICAgIHN0YXR1c0VsZW0uYXBwZW5kKHRoaXMuYWRtaW5TdGF0dXNFbGVtKTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuYWRtaW5Db250cm9sc0VsZW0gPSAkKCc8ZGl2IGNsYXNzPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBhZG1pbk9ubHlcIj48ZGl2IGNsYXNzPVwicGFuZWwtYm9keVwiPjwvZGl2PjwvZGl2PicpXHJcbiAgICAgICAgICAgIC5hcHBlbmRUbyh0aGlzLmVsZW0pXHJcbiAgICAgICAgICAgIC5maW5kKFwiLnBhbmVsLWJvZHlcIik7XHJcblxyXG4gICAgICAgIHRoaXMuYWRtaW5Db250cm9scyA9IG5ldyBBZG1pbkNvbnRyb2xzKHRoaXMsIHRoaXMuYWRtaW5Db250cm9sc0VsZW0pO1xyXG4gICAgICAgIC8vIHRoaXMub2JzZXJ2YWJsZS5hZGRMaXN0ZW5lcih0aGlzLmFkbWluQ29udHJvbHMpOyAvLyBBZG1pbkNvbnRyb2xzIGN1cnJlbnRseSBub3QgYW4gT2JzZXJ2ZXJcclxuXHJcbiAgICAgICAgdGhpcy5zdHVkZW50Q29udHJvbHNFbGVtID0gJCgnPGRpdiBjbGFzcz1cInBhbmVsIHBhbmVsLWRlZmF1bHRcIj48ZGl2IGNsYXNzPVwicGFuZWwtYm9keVwiPjwvZGl2PjwvZGl2PicpXHJcbiAgICAgICAgICAgIC5hcHBlbmRUbyh0aGlzLmVsZW0pXHJcbiAgICAgICAgICAgIC5maW5kKFwiLnBhbmVsLWJvZHlcIik7XHJcblxyXG4gICAgICAgIHRoaXMuc3R1ZGVudENvbnRyb2xzID0gbmV3IFN0dWRlbnRDb250cm9scyh0aGlzLCB0aGlzLnN0dWRlbnRDb250cm9sc0VsZW0pO1xyXG4gICAgICAgIHRoaXMub2JzZXJ2YWJsZS5hZGRMaXN0ZW5lcih0aGlzLnN0dWRlbnRDb250cm9scyk7XHJcblxyXG4gICAgICAgIC8vIFRPRE86IGlzIHRoaXMgb2xkP1xyXG4gICAgICAgIC8vIGlmICh0aGlzLmhhc01hcCgpKSB7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuYWRtaW5Db250cm9sc0VsZW0uYXBwZW5kKCc8cCBjbGFzcz1cImFkbWluT25seVwiPkNsaWNrIHRoZSBcIkxvY2F0ZVwiIGJ1dHRvbiBvbiBhIHN0dWRlbnRcXCdzIHJlcXVlc3QgdG8gdXBkYXRlIHRoZSBtYXAuPC9wPicpO1xyXG4gICAgICAgIC8vICAgICB2YXIgbWFwSG9sZGVyID0gJCgnPGRpdiBzdHlsZT1cInBvc2l0aW9uOiByZWxhdGl2ZTsgbWFyZ2luLXRvcDogMTBweDtcIj48L2Rpdj4nKTtcclxuICAgICAgICAvLyAgICAgdGhpcy5tYXBFbGVtID0gJCgnPGltZyBjbGFzcz1cImFkbWluT25seSBxdWV1ZS1zdGFmZk1hcFwiIHNyYz1cImltZy8nICsgdGhpcy5tYXBJbWFnZVNyYyArICdcIj48L2ltZz4nKTtcclxuICAgICAgICAvLyAgICAgbWFwSG9sZGVyLmFwcGVuZCh0aGlzLm1hcEVsZW0pO1xyXG4gICAgICAgIC8vICAgICB0aGlzLm1hcFBpbiA9ICQoJzxzcGFuIGNsYXNzPVwiYWRtaW5Pbmx5IHF1ZXVlLWxvY2F0ZVBpblwiPjxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1tYXAtbWFya2VyXCIgc3R5bGU9XCJwb3NpdGlvbjphYnNvbHV0ZTsgbGVmdDotMS4zY2g7dG9wOi0wLjk1ZW07XCI+PC9zcGFuPjwvc3Bhbj4nKTtcclxuICAgICAgICAvLyAgICAgbWFwSG9sZGVyLmFwcGVuZCh0aGlzLm1hcFBpbik7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuYWRtaW5Db250cm9sc0VsZW0uYXBwZW5kKG1hcEhvbGRlcik7XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICB0aGlzLnF1ZXVlRWxlbSA9ICQoJzxkaXY+PC9kaXY+JykuYXBwZW5kVG8odGhpcy5lbGVtKTtcclxuXHQgICAgdGhpcy5zdGFja0VsZW0gPSAkKCc8ZGl2IGNsYXNzPVwiYWRtaW5Pbmx5XCI+PC9kaXY+JykuYXBwZW5kVG8odGhpcy5lbGVtKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbGVtLmZpbmQoJ1tkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIl0nKS50b29sdGlwKCk7XHJcblxyXG4gICAgICAgIHRoaXMudXNlclNpZ25lZEluKCk7IC8vIFRPRE8gY2hhbmdlIG5hbWUgdG8gdXBkYXRlVXNlcj9cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbWFrZUFjdGl2ZU9uQ2xpY2soZWxlbSA6IEpRdWVyeSkge1xyXG4gICAgICAgIGVsZW0uY2xpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLm1ha2VBY3RpdmUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbWFrZUFjdGl2ZSgpIHtcclxuICAgICAgICBRdWV1ZUFwcGxpY2F0aW9uLmluc3RhbmNlLnNldEFjdGl2ZVF1ZXVlKHRoaXMpO1xyXG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWZyZXNoKCkge1xyXG5cclxuICAgICAgICAvLyBteVJlZnJlc2hJbmRleCBpcyBjYXB0dXJlZCBpbiBhIGNsb3N1cmUgd2l0aCB0aGUgY2FsbGJhY2suXHJcbiAgICAgICAgLy8gaWYgcmVmcmVzaCBoYWQgYmVlbiBjYWxsZWQgYWdhaW4sIHRoZSBpbmRleCB3b24ndCBtYXRjaCBhbmRcclxuICAgICAgICAvLyB3ZSBkb24ndCBkbyBhbnl0aGluZy4gdGhpcyBwcmV2ZW50cyB0aGUgc2l0dWF0aW9uIHdoZXJlIHNvbWVvbmVcclxuICAgICAgICAvLyBzaWducyB1cCBidXQgdGhlbiBhIHBlbmRpbmcgcmVxdWVzdCBmcm9tIGJlZm9yZSB0aGV5IGRpZCBzbyBmaW5pc2hlc1xyXG4gICAgICAgIC8vIGFuZCBjYXVzZXMgaXQgdG8gbG9vayBsaWtlIHRoZXkgd2VyZSBpbW1lZGlhdGVseSByZW1vdmVkLiB0aGlzIGFsc29cclxuICAgICAgICAvLyBmaXhlcyBhIHNpbWlsYXIgcHJvYmxlbSB3aGVuIGFuIGFkbWluIHJlbW92ZXMgc29tZW9uZSBidXQgdGhlbiBhXHJcbiAgICAgICAgLy8gcGVuZGluZyByZWZyZXNoIG1ha2VzIHRoZW0gcG9wIGJhY2sgdXAgdGVtcG9yYXJpbHkuXHJcbiAgICAgICAgdGhpcy5jdXJyZW50UmVmcmVzaEluZGV4ICs9IDE7XHJcbiAgICAgICAgdmFyIG15UmVmcmVzaEluZGV4ID0gdGhpcy5jdXJyZW50UmVmcmVzaEluZGV4O1xyXG5cclxuICAgICAgICByZXR1cm4gJC5hamF4KHtcclxuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIHVybDogXCJhcGkvbGlzdFwiLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBxdWV1ZUlkOiB0aGlzLnF1ZXVlSWRcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gaWYgYW5vdGhlciByZWZyZXNoIGhhcyBiZWVuIHJlcXVlc3RlZCwgaWdub3JlIHRoZSByZXN1bHRzIG9mIHRoaXMgb25lXHJcbiAgICAgICAgICAgICAgICBpZiAobXlSZWZyZXNoSW5kZXggPT09IHRoaXMuY3VycmVudFJlZnJlc2hJbmRleCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoUmVzcG9uc2UoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBvb3BzXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlZnJlc2hSZXNwb25zZShkYXRhIDoge1tpbmRleDogc3RyaW5nXTogYW55fSkge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5yZWZyZXNoRGlzYWJsZWQpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChkYXRhW1wibWVzc2FnZVwiXSkge1xyXG4gICAgICAgICAgICBRdWV1ZUFwcGxpY2F0aW9uLmluc3RhbmNlLm1lc3NhZ2UoZGF0YVtcIm1lc3NhZ2VcIl0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgKDxib29sZWFuPnRoaXMuaXNPcGVuKSA9IGRhdGFbXCJpc09wZW5cIl07XHJcbiAgICAgICAgaWYgKHRoaXMuaXNPcGVuKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzTWVzc2FnZUVsZW0uaHRtbChcIlRoZSBxdWV1ZSBpcyBvcGVuLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBzY2hlZHVsZSA9IGRhdGFbXCJzY2hlZHVsZVwiXTtcclxuICAgICAgICAgICAgbGV0IGhhbGZIb3VyID0gZGF0YVtcImhhbGZIb3VyXCJdO1xyXG4gICAgICAgICAgICBsZXQgbmV4dE9wZW4gPSAtMTtcclxuICAgICAgICAgICAgZm9yKGxldCBpID0gaGFsZkhvdXI7IGkgPCA0ODsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2NoZWR1bGVUeXBlID0gc2NoZWR1bGUuY2hhckF0KGkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNjaGVkdWxlVHlwZSA9PT0gXCJvXCIgfHwgc2NoZWR1bGVUeXBlID09PSBcInBcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHRPcGVuID0gaTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKG5leHRPcGVuID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0dXNNZXNzYWdlRWxlbS5odG1sKFwiVGhlIHF1ZXVlIGlzIGNsb3NlZCBmb3IgdG9kYXkuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IGQgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgZC5zZXRIb3VycygwKTtcclxuICAgICAgICAgICAgICAgIGQuc2V0TWludXRlcygwKTtcclxuICAgICAgICAgICAgICAgIGQuc2V0U2Vjb25kcygwKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgbmV3RGF0ZSA9IG5ldyBEYXRlKGQuZ2V0VGltZSgpICsgbmV4dE9wZW4qMzAqNjAwMDApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0dXNNZXNzYWdlRWxlbS5odG1sKFwiVGhlIHF1ZXVlIGlzIGNsb3NlZCByaWdodCBub3cuIEl0IHdpbGwgb3BlbiBhdCBcIiArIG5ld0RhdGUudG9Mb2NhbGVUaW1lU3RyaW5nKCkgKyBcIi5cIik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGxldCBxdWV1ZSA9IGRhdGFbXCJxdWV1ZVwiXTtcclxuICAgICAgICB0aGlzLnF1ZXVlRWxlbS5lbXB0eSgpO1xyXG4gICAgICAgIGxldCBxdWV1ZUVudHJpZXMgPSBbXTtcclxuICAgICAgICBsZXQgbXlSZXF1ZXN0IDogKFF1ZXVlRW50cnkgfCBudWxsKSA9IG51bGw7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIGxldCBpdGVtID0gcXVldWVbaV07XHJcblxyXG4gICAgICAgICAgICBsZXQgaXRlbUVsZW0gPSAkKFwiPGxpIGNsYXNzPSdsaXN0LWdyb3VwLWl0ZW0nPjwvbGk+XCIpO1xyXG4gICAgICAgICAgICBsZXQgZW50cnkgPSBuZXcgUXVldWVFbnRyeSh0aGlzLCBpdGVtLCBpLCBpdGVtRWxlbSk7XHJcbiAgICAgICAgICAgIHF1ZXVlRW50cmllcy5wdXNoKGVudHJ5KTtcclxuXHJcbiAgICAgICAgICAgIGlmICghbXlSZXF1ZXN0ICYmIFVzZXIuaXNNZShlbnRyeS5lbWFpbCkpIHtcclxuICAgICAgICAgICAgICAgIG15UmVxdWVzdCA9IGVudHJ5O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnF1ZXVlRWxlbS5hcHBlbmQoaXRlbUVsZW0pO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRNeVJlcXVlc3QobXlSZXF1ZXN0KTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMub2JzZXJ2YWJsZS5zZW5kKFwicXVldWVSZWZyZXNoZWRcIik7XHJcblxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGRhdGFbXCJzdGFja1wiXSwgbnVsbCwgNCkpO1xyXG4gICAgICAgIHRoaXMuc3RhY2tFbGVtLmh0bWwoXCI8aDM+VGhlIFN0YWNrPC9oMz48YnIgLz48cD5Nb3N0IHJlY2VudGx5IHJlbW92ZWQgYXQgdG9wPC9wPjxwcmU+XCIgKyBKU09OLnN0cmluZ2lmeShkYXRhW1wic3RhY2tcIl0sIG51bGwsIDQpICsgXCI8L3ByZT5cIik7XHJcblxyXG5cclxuICAgICAgICB2YXIgb2xkTnVtRW50cmllcyA9IHRoaXMubnVtRW50cmllcztcclxuICAgICAgICAoPG51bWJlcj50aGlzLm51bUVudHJpZXMpID0gcXVldWUubGVuZ3RoO1xyXG4gICAgICAgIGlmKHRoaXMuaXNBZG1pbiAmJiBvbGROdW1FbnRyaWVzID09PSAwICYmIHRoaXMubnVtRW50cmllcyA+IDApIHtcclxuICAgICAgICAgIFF1ZXVlQXBwbGljYXRpb24uaW5zdGFuY2Uubm90aWZ5KFwiUmVxdWVzdCBSZWNlaXZlZCFcIiwgcXVldWVFbnRyaWVzWzBdLm5hbWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgKDxEYXRlPnRoaXMubGFzdFJlZnJlc2gpID0gbmV3IERhdGUoKTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMubnVtRW50cmllc0VsZW0uaHRtbChcIlwiK3RoaXMubnVtRW50cmllcyk7XHJcbiAgICAgICAgdGhpcy5sYXN0UmVmcmVzaEVsZW0uaHRtbCh0aGlzLmxhc3RSZWZyZXNoLnRvTG9jYWxlVGltZVN0cmluZygpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0TXlSZXF1ZXN0KG15UmVxdWVzdDogUXVldWVFbnRyeSB8IG51bGwpIHtcclxuICAgICAgICAoPFF1ZXVlRW50cnkgfCBudWxsPnRoaXMubXlSZXF1ZXN0KSA9IG15UmVxdWVzdDtcclxuICAgICAgICB0aGlzLm9ic2VydmFibGUuc2VuZChcIm15UmVxdWVzdFNldFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlUmVxdWVzdChyZXF1ZXN0OiBRdWV1ZUVudHJ5KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJhdHRlbXB0aW5nIHRvIHJlbW92ZSBcIiArIHJlcXVlc3QuZW1haWwgKyBcIiBmcm9tIHF1ZXVlIFwiICsgdGhpcy5xdWV1ZUlkKTtcclxuICAgICAgICB0aGlzLmRpc2FibGVSZWZyZXNoKCk7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICB1cmw6IFwiYXBpL3JlbW92ZVwiLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdC5pZFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdWNjZXNzIDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInN1Y2Nlc3NmdWxseSByZW1vdmVkIFwiICsgcmVxdWVzdC5lbWFpbCArIFwiIGZyb20gcXVldWUgXCIgKyBzZWxmLnF1ZXVlSWQpO1xyXG4gICAgICAgICAgICAgICAgcmVxdWVzdC5vblJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogb29wc1xyXG4gICAgICAgIH0pLmFsd2F5cyhmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmVuYWJsZVJlZnJlc2goKTtcclxuICAgICAgICAgICAgICAgIHNlbGYucmVmcmVzaCgpO1xyXG4gICAgICAgICAgICB9LCBBTklNQVRJT05fREVMQVkpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNhbmNlbEluY29taW5nUmVmcmVzaCgpIHtcclxuICAgICAgdGhpcy5jdXJyZW50UmVmcmVzaEluZGV4ICs9IDE7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRpc2FibGVSZWZyZXNoKCkge1xyXG4gICAgICB0aGlzLnJlZnJlc2hEaXNhYmxlZCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGVuYWJsZVJlZnJlc2goKSB7XHJcbiAgICAgIHRoaXMucmVmcmVzaERpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsZWFyKCkge1xyXG4gICAgICAgIHJldHVybiAkLmFqYXgoe1xyXG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgdXJsOiBcImFwaS9jbGVhclwiLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBpZHRva2VuOiBVc2VyLmlkVG9rZW4oKSxcclxuICAgICAgICAgICAgICAgIHF1ZXVlSWQ6IHRoaXMucXVldWVJZFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdWNjZXNzOiAoKSA9PiB7IHRoaXMuY2xlYXJMaXN0KCkgfSxcclxuICAgICAgICAgICAgZXJyb3I6IG9vcHNcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNsZWFyTGlzdCgpIHtcclxuICAgICAgICB0aGlzLnF1ZXVlRWxlbS5jaGlsZHJlbigpLnNsaWRlVXAoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2lnblVwKG5hbWU6IHN0cmluZywgbG9jYXRpb246IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZywgbWFwWD86IG51bWJlciwgbWFwWT86IG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiAkLmFqYXgoe1xyXG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgdXJsOiBcImFwaS9zaWduVXBcIixcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgaWR0b2tlbjogVXNlci5pZFRva2VuKCksXHJcbiAgICAgICAgICAgICAgICBxdWV1ZUlkOiB0aGlzLnF1ZXVlSWQsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uLFxyXG4gICAgICAgICAgICAgICAgbWFwWDogbWFwWCxcclxuICAgICAgICAgICAgICAgIG1hcFk6IG1hcFksXHJcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb25cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGFbXCJmYWlsXCJdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvd0Vycm9yTWVzc2FnZShkYXRhW1wicmVhc29uXCJdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogb29wc1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVSZXF1ZXN0KG5hbWU6IHN0cmluZywgbG9jYXRpb246IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZywgbWFwWD86IG51bWJlciwgbWFwWT86IG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiAkLmFqYXgoe1xyXG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgdXJsOiBcImFwaS91cGRhdGVSZXF1ZXN0XCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIGlkOiB0aGlzLm15UmVxdWVzdCEuaWQsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uLFxyXG4gICAgICAgICAgICAgICAgbWFwWDogbWFwWCxcclxuICAgICAgICAgICAgICAgIG1hcFk6IG1hcFksXHJcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb25cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGFbXCJmYWlsXCJdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvd0Vycm9yTWVzc2FnZShkYXRhW1wicmVhc29uXCJdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogb29wc1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRBZG1pbihpc0FkbWluOiBib29sZWFuKSB7XHJcbiAgICAgICAgdmFyIG9sZEFkbWluID0gdGhpcy5pc0FkbWluO1xyXG4gICAgICAgICg8Ym9vbGVhbj50aGlzLmlzQWRtaW4pID0gaXNBZG1pbjtcclxuXHJcbiAgICAgICAgLy8gSWYgb3VyIHByaXZpbGVnZXMgY2hhbmdlLCBoaXQgdGhlIHNlcnZlciBmb3IgYXBwcm9wcmlhdGUgZGF0YSxcclxuICAgICAgICAvLyBiZWNhdXNlIGl0IGdpdmVzIG91dCBkaWZmZXJlbnQgdGhpbmdzIGZvciBub3JtYWwgdnMuIGFkbWluXHJcbiAgICAgICAgaWYgKG9sZEFkbWluICE9IHRoaXMuaXNBZG1pbikge1xyXG4gICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1c2VyU2lnbmVkSW4oKSB7XHJcbiAgICAgICAgdGhpcy5vYnNlcnZhYmxlLnNlbmQoXCJ1c2VyU2lnbmVkSW5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGhhc01hcCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tYXBJbWFnZVNyYyAhPT0gXCJcIjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlR3JvdXBzKGZvcm1EYXRhOiBGb3JtRGF0YSkge1xyXG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZChcInF1ZXVlSWRcIiwgdGhpcy5xdWV1ZUlkKTtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgdXJsOiBcImFwaS91cGRhdGVHcm91cHNcIixcclxuICAgICAgICAgICAgY2FjaGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBjb250ZW50VHlwZTogZmFsc2UsXHJcbiAgICAgICAgICAgIHByb2Nlc3NEYXRhOiBmYWxzZSxcclxuICAgICAgICAgICAgZGF0YTogZm9ybURhdGEsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVsnc3VjY2VzcyddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJncm91cHMgdXBsb2FkZWQgc3VjY2Vzc2Z1bGx5XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJlcnJvciB1cGxvYWRpbmcgZ3JvdXBzLiByb3N0ZXIgYW5kIGdyb3VwcyBoYXZlIGJlZW4gY2xlYXJlZCAtIHlvdSdsbCBoYXZlIHRvIHVwbG9hZCB0aGVtIGFnYWluLCBzb3JyeSFcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgLy8gaWYgYW5vdGhlciByZWZyZXNoIGhhcyBiZWVuIHJlcXVlc3RlZCwgaWdub3JlIHRoZSByZXN1bHRzIG9mIHRoaXMgb25lXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgaWYgKG15UmVmcmVzaEluZGV4ID09PSBzZWxmLmN1cnJlbnRSZWZyZXNoSW5kZXgpe1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBzZWxmLnJlZnJlc2hSZXNwb25zZShkYXRhKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgICAgIGFsZXJ0KFwiZXJyb3IgdXBsb2FkaW5nIGdyb3Vwc1wiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlQ29uZmlndXJhdGlvbihvcHRpb25zOiB7W2luZGV4OiBzdHJpbmddOiBzdHJpbmc7fSkge1xyXG4gICAgICAgIG9wdGlvbnMucXVldWVJZCA9IHRoaXMucXVldWVJZDtcclxuICAgICAgICByZXR1cm4gJC5hamF4KHtcclxuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIHVybDogXCJhcGkvdXBkYXRlUXVldWVDb25maWd1cmF0aW9uXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IG9wdGlvbnMsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgc3VjY2VzczogKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhW1wiZmFpbFwiXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNob3dFcnJvck1lc3NhZ2UoZGF0YVtcInJlYXNvblwiXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBvb3BzXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFN0dWRlbnRDb250cm9scyB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBfbmFtZSA9IFwiU3R1ZGVudENvbnRyb2xzXCI7XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgVVBEQVRFX1JFUVVFU1RfQlVUVE9OX1VQX1RPX0RBVEUgPSBcIjxzcGFuIGNsYXNzPSdnbHlwaGljb24gZ2x5cGhpY29uLW9rJz48L3NwYW4+IFJlcXVlc3QgVXBkYXRlZFwiO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgVVBEQVRFX1JFUVVFU1RfQlVUVE9OX1VQREFURSA9IFwiVXBkYXRlIFJlcXVlc3RcIjtcclxuXHJcbiAgICBwcml2YXRlIHF1ZXVlOiBRdWV1ZTtcclxuXHJcbiAgICBwcml2YXRlIGZvcm1IYXNDaGFuZ2VzOiBib29sZWFuO1xyXG5cclxuICAgIHByaXZhdGUgZWxlbTogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSBzdGF0dXNFbGVtOiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIHNpZ25VcEZvcm06IEpRdWVyeTtcclxuICAgIHByaXZhdGUgc2lnblVwTmFtZUlucHV0OiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIHNpZ25VcERlc2NyaXB0aW9uSW5wdXQ6IEpRdWVyeTtcclxuICAgIHByaXZhdGUgc2lnblVwTG9jYXRpb25JbnB1dDogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSBtYXBIb2xkZXI/OiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIHNpZ25VcE1hcD86IEpRdWVyeTtcclxuICAgIHByaXZhdGUgc2lnblVwUGluPzogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSBtYXBYPzogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBtYXBZPzogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBzaWduVXBCdXR0b25zOiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIHVwZGF0ZVJlcXVlc3RCdXR0b25zOiBKUXVlcnk7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IF9hY3QhIDogTWVzc2FnZVJlc3BvbnNlcztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihxdWV1ZTogUXVldWUsIGVsZW06IEpRdWVyeSkge1xyXG4gICAgICAgIHRoaXMucXVldWUgPSBxdWV1ZTtcclxuICAgICAgICB0aGlzLmVsZW0gPSBlbGVtO1xyXG5cclxuICAgICAgICB0aGlzLmZvcm1IYXNDaGFuZ2VzID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGxldCBjb250YWluZXJFbGVtID0gJCgnPGRpdj48L2Rpdj4nKTtcclxuXHJcbiAgICAgICAgbGV0IHJlZ3VsYXJGb3JtRWxlbTtcclxuICAgICAgICB0aGlzLnNpZ25VcEZvcm0gPSAkKCc8Zm9ybSBpZD1cInNpZ25VcEZvcm1cIiByb2xlPVwiZm9ybVwiIGNsYXNzPVwiZm9ybS1ob3Jpem9udGFsXCI+PC9mb3JtPicpXHJcbiAgICAgICAgICAgIC5hcHBlbmQocmVndWxhckZvcm1FbGVtID0gJCgnPGRpdj48L2Rpdj4nKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPjwvZGl2PicpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgnPGxhYmVsIGNsYXNzPVwiY29udHJvbC1sYWJlbCBjb2wtc20tM1wiIGZvcj1cInNpZ25VcE5hbWUnICsgcXVldWUucXVldWVJZCArICdcIj5OYW1lOjwvbGFiZWw+JylcclxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxkaXYgY2xhc3M9XCJjb2wtc20tOVwiPjwvZGl2PicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQodGhpcy5zaWduVXBOYW1lSW5wdXQgPSAkKCc8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIGlkPVwic2lnblVwTmFtZScgKyBxdWV1ZS5xdWV1ZUlkICsgJ1wiIHJlcXVpcmVkPVwicmVxdWlyZWRcIiBtYXhsZW5ndGg9XCIzMFwiIHBsYWNlaG9sZGVyPVwiTmljZSB0byBtZWV0IHlvdSFcIj4nKSlcclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+PC9kaXY+JylcclxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCc8bGFiZWwgY2xhc3M9XCJjb250cm9sLWxhYmVsIGNvbC1zbS0zXCIgZm9yPVwic2lnblVwRGVzY3JpcHRpb24nICsgcXVldWUucXVldWVJZCArICdcIj5EZXNjcmlwdGlvbjo8L2xhYmVsPicpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8ZGl2IGNsYXNzPVwiY29sLXNtLTlcIj48L2Rpdj4nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKHRoaXMuc2lnblVwRGVzY3JpcHRpb25JbnB1dCA9ICQoJzxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgaWQ9XCJzaWduVXBEZXNjcmlwdGlvbicgKyBxdWV1ZS5xdWV1ZUlkICsgJ1wicmVxdWlyZWQ9XCJyZXF1aXJlZFwiIG1heGxlbmd0aD1cIjEwMFwiIHBsYWNlaG9sZGVyPVwiZS5nLiBTZWdmYXVsdCBpbiBmdW5jdGlvbiBYLCB1c2luZyB0aGUgbWFwIGRhdGEgc3RydWN0dXJlLCBldGMuXCI+JykpXHJcbiAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPjwvZGl2PicpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgnPGxhYmVsIGNsYXNzPVwiY29udHJvbC1sYWJlbCBjb2wtc20tM1wiIGZvcj1cInNpZ25VcExvY2F0aW9uJyArIHF1ZXVlLnF1ZXVlSWQgKyAnXCI+TG9jYXRpb246PC9sYWJlbD4nKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGRpdiBjbGFzcz1cImNvbC1zbS05XCI+PC9kaXY+JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCh0aGlzLnNpZ25VcExvY2F0aW9uSW5wdXQgPSAkKCc8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIGlkPVwic2lnblVwTG9jYXRpb24nICsgcXVldWUucXVldWVJZCArICdcInJlcXVpcmVkPVwicmVxdWlyZWRcIiBtYXhsZW5ndGg9XCIzMFwiIHBsYWNlaG9sZGVyPVwiZS5nLiBDb21wdXRlciAjMzYsIGxhcHRvcCBieSBnbGFzcy9hdHJpdW0gZG9vciwgZXRjLlwiPicpKVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJzxkaXYgY2xhc3M9XCJoaWRkZW4teHMgZm9ybS1ncm91cFwiPjxkaXYgY2xhc3M9XCJjb2wtc20tb2Zmc2V0LTMgY29sLXNtLTlcIj48YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBjbGFzcz1cImJ0biBidG4tc3VjY2VzcyBxdWV1ZS1zaWduVXBCdXR0b25cIj5TaWduIFVwPC9idXR0b24+IDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzPVwiYnRuIGJ0bi1zdWNjZXNzIHF1ZXVlLXVwZGF0ZVJlcXVlc3RCdXR0b25cIiBzdHlsZT1cImRpc3BsYXk6bm9uZTtcIj48L2J1dHRvbj48L2Rpdj48L2Rpdj4nKVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICBjb250YWluZXJFbGVtLmFwcGVuZCh0aGlzLnNpZ25VcEZvcm0pO1xyXG5cclxuXHR0aGlzLnN0YXR1c0VsZW0gPSAkKFwiPGRpdj48L2Rpdj5cIik7XHJcblx0Y29udGFpbmVyRWxlbS5hcHBlbmQodGhpcy5zdGF0dXNFbGVtKTtcclxuXHJcbiAgICAgICAgdGhpcy5zaWduVXBGb3JtLmZpbmQoXCJpbnB1dFwiKS5vbihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5mb3JtQ2hhbmdlZCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgaWYgKHRoaXMucXVldWUuaGFzTWFwKCkpIHtcclxuICAgICAgICAgICAgcmVndWxhckZvcm1FbGVtLmFkZENsYXNzKFwiY29sLXhzLTEyIGNvbC1zbS04XCIpO1xyXG4gICAgICAgICAgICByZWd1bGFyRm9ybUVsZW0uY3NzKFwicGFkZGluZ1wiLCBcIjBcIik7XHJcbiAgICAgICAgICAgIHRoaXMuc2lnblVwRm9ybS5hcHBlbmQodGhpcy5tYXBIb2xkZXIgPSAkKCc8ZGl2IGNsYXNzPVwiY29sLXhzLTEyIGNvbC1zbS00XCIgc3R5bGU9XCJwb3NpdGlvbjogcmVsYXRpdmU7IHBhZGRpbmc6MFwiPjwvZGl2PicpXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKHRoaXMuc2lnblVwTWFwID0gJCgnPGltZyBzcmM9XCJpbWcvJyArIHRoaXMucXVldWUubWFwSW1hZ2VTcmMgKyAnXCIgY2xhc3M9XCJxdWV1ZS1zaWduVXBNYXBcIiBzdHlsZT1cIndpZHRoOjEwMCVcIj48L2ltZz4nKSlcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQodGhpcy5zaWduVXBQaW4gPSAkKCc8c3BhbiBjbGFzcz1cInF1ZXVlLWxvY2F0ZVBpblwiPjxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1tYXAtbWFya2VyXCIgc3R5bGU9XCJwb3NpdGlvbjphYnNvbHV0ZTsgbGVmdDotMS4zY2g7dG9wOi0wLjk1ZW07XCI+PC9zcGFuPjwvc3Bhbj4nKSlcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFkZCBkaWZmZXJlbnQgbGF5b3V0IGZvciBzaWduIHVwIGJ1dHRvbiBvbiBzbWFsbCBzY3JlZW5zXHJcbiAgICAgICAgICAgIHRoaXMuc2lnblVwRm9ybS5hcHBlbmQoJCgnPGRpdiBjbGFzcz1cInZpc2libGUteHMgY29sLXhzLTEyXCIgc3R5bGU9XCJwYWRkaW5nOiAwO1wiPjxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+PGRpdiBjbGFzcz1cImNvbC1zbS1vZmZzZXQtMyBjb2wtc20tOVwiPjxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzPVwiYnRuIGJ0bi1zdWNjZXNzIHF1ZXVlLXNpZ25VcEJ1dHRvblwiPlNpZ24gVXA8L2J1dHRvbj4gPGJ1dHRvbiB0eXBlPVwic3VibWl0XCIgY2xhc3M9XCJidG4gYnRuLXN1Y2Nlc3MgcXVldWUtdXBkYXRlUmVxdWVzdEJ1dHRvblwiIHN0eWxlPVwiZGlzcGxheTpub25lO1wiPjwvYnV0dG9uPjwvZGl2PjwvZGl2PjwvZGl2PicpKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBwaW4gPSB0aGlzLnNpZ25VcFBpbjtcclxuICAgICAgICAgICAgdGhpcy5tYXBYID0gNTA7XHJcbiAgICAgICAgICAgIHRoaXMubWFwWSA9IDUwO1xyXG4gICAgICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIHRoaXMuc2lnblVwTWFwLmNsaWNrKGZ1bmN0aW9uIChlKSB7IC8vT2Zmc2V0IG1vdXNlIFBvc2l0aW9uXHJcbiAgICAgICAgICAgICAgICAvLyBVc2UgISBmb3Igbm9uLW51bGwgYXNzZXJ0aW9uXHJcbiAgICAgICAgICAgICAgICBzZWxmLm1hcFggPSAxMDAgKiBNYXRoLnRydW5jKChlLnBhZ2VYIC0gJCh0aGlzKS5vZmZzZXQoKSEubGVmdCkpIC8gJCh0aGlzKS53aWR0aCgpITtcclxuICAgICAgICAgICAgICAgIHNlbGYubWFwWSA9IDEwMCAqIE1hdGgudHJ1bmMoZS5wYWdlWSAtICQodGhpcykub2Zmc2V0KCkhLnRvcCkgLyAkKHRoaXMpLmhlaWdodCgpITtcclxuICAgICAgICAgICAgICAgIC8vIHZhciBwaW5MZWZ0ID0gbWFwWCAtIHBpbi53aWR0aCgpLzI7XHJcbiAgICAgICAgICAgICAgICAvLyB2YXIgcGluVG9wID0gbWFwWSAtIHBpbi5oZWlnaHQoKTtcclxuICAgICAgICAgICAgICAgIHBpbi5jc3MoXCJsZWZ0XCIsIHNlbGYubWFwWCArIFwiJVwiKTtcclxuICAgICAgICAgICAgICAgIHBpbi5jc3MoXCJ0b3BcIiwgc2VsZi5tYXBZICsgXCIlXCIpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5mb3JtQ2hhbmdlZCgpO1xyXG4vLyAgICAgICAgICAgIGFsZXJ0KFwieDpcIiArIG1hcFggKyBcIiwgeTpcIiArIG1hcFkpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIERpc2FibGUgcmVndWxhciBsb2NhdGlvbiBpbnB1dFxyXG4gICAgICAgICAgICB0aGlzLnNpZ25VcExvY2F0aW9uSW5wdXQudmFsKFwiQ2xpY2sgb24gdGhlIG1hcCFcIik7XHJcbiAgICAgICAgICAgIHRoaXMuc2lnblVwTG9jYXRpb25JbnB1dC5wcm9wKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNpZ25VcEZvcm0uc3VibWl0KChlKSA9PiB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdmFyIHNpZ25VcE5hbWU6IHN0cmluZyA9IDxzdHJpbmc+dGhpcy5zaWduVXBOYW1lSW5wdXQudmFsKCk7XHJcbiAgICAgICAgICAgIHZhciBzaWduVXBEZXNjcmlwdGlvbjogc3RyaW5nID0gPHN0cmluZz50aGlzLnNpZ25VcERlc2NyaXB0aW9uSW5wdXQudmFsKCk7XHJcbiAgICAgICAgICAgIHZhciBzaWduVXBMb2NhdGlvbjogc3RyaW5nID0gPHN0cmluZz50aGlzLnNpZ25VcExvY2F0aW9uSW5wdXQudmFsKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXNpZ25VcE5hbWUgfHwgc2lnblVwTmFtZS5sZW5ndGggPT0gMCB8fFxyXG4gICAgICAgICAgICAgICAgIXNpZ25VcExvY2F0aW9uIHx8IHNpZ25VcExvY2F0aW9uLmxlbmd0aCA9PSAwIHx8XHJcbiAgICAgICAgICAgICAgICAhc2lnblVwRGVzY3JpcHRpb24gfHwgc2lnblVwRGVzY3JpcHRpb24ubGVuZ3RoID09IDApe1xyXG4gICAgICAgICAgICAgICAgc2hvd0Vycm9yTWVzc2FnZShcIllvdSBtdXN0IGZpbGwgaW4gYWxsIHRoZSBmaWVsZHMuXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIXRoaXMucXVldWUubXlSZXF1ZXN0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlLnNpZ25VcChcclxuICAgICAgICAgICAgICAgICAgICBzaWduVXBOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpZ25VcExvY2F0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpZ25VcERlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFwWCxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcFkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5xdWV1ZS51cGRhdGVSZXF1ZXN0KFxyXG4gICAgICAgICAgICAgICAgICAgIHNpZ25VcE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgc2lnblVwTG9jYXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgc2lnblVwRGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBYLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFwWSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLmZvcm1IYXNDaGFuZ2VzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUmVxdWVzdEJ1dHRvbnMucmVtb3ZlQ2xhc3MoXCJidG4td2FybmluZ1wiKTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVSZXF1ZXN0QnV0dG9ucy5hZGRDbGFzcyhcImJ0bi1zdWNjZXNzXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVJlcXVlc3RCdXR0b25zLnByb3AoXCJkaXNhYmxlZFwiLCB0cnVlKTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVSZXF1ZXN0QnV0dG9ucy5odG1sKFN0dWRlbnRDb250cm9scy5VUERBVEVfUkVRVUVTVF9CVVRUT05fVVBfVE9fREFURSk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zaWduVXBCdXR0b25zID0gdGhpcy5zaWduVXBGb3JtLmZpbmQoXCJidXR0b24ucXVldWUtc2lnblVwQnV0dG9uXCIpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlUmVxdWVzdEJ1dHRvbnMgPSB0aGlzLnNpZ25VcEZvcm0uZmluZChcImJ1dHRvbi5xdWV1ZS11cGRhdGVSZXF1ZXN0QnV0dG9uXCIpXHJcbiAgICAgICAgICAgIC5wcm9wKFwiZGlzYWJsZWRcIiwgdHJ1ZSkuaHRtbChTdHVkZW50Q29udHJvbHMuVVBEQVRFX1JFUVVFU1RfQlVUVE9OX1VQX1RPX0RBVEUpO1xyXG5cclxuICAgICAgICB0aGlzLmVsZW0uYXBwZW5kKGNvbnRhaW5lckVsZW0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBmb3JtQ2hhbmdlZCgpIHtcclxuICAgICAgICBpZiAodGhpcy5xdWV1ZS5teVJlcXVlc3QpIHtcclxuICAgICAgICAgICAgdGhpcy5mb3JtSGFzQ2hhbmdlcyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUmVxdWVzdEJ1dHRvbnMucmVtb3ZlQ2xhc3MoXCJidG4tc3VjY2Vzc1wiKTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVSZXF1ZXN0QnV0dG9ucy5hZGRDbGFzcyhcImJ0bi13YXJuaW5nXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVJlcXVlc3RCdXR0b25zLnByb3AoXCJkaXNhYmxlZFwiLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUmVxdWVzdEJ1dHRvbnMuaHRtbChTdHVkZW50Q29udHJvbHMuVVBEQVRFX1JFUVVFU1RfQlVUVE9OX1VQREFURSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWZyZXNoU2lnbkluRW5hYmxlZCgpIHtcclxuICAgICAgICB2YXIgaXNFbmFibGVkID0gVXNlci5pc1VtaWNoKCkgJiYgdGhpcy5xdWV1ZS5pc09wZW4gJiYgIXRoaXMucXVldWUubXlSZXF1ZXN0O1xyXG4gICAgICAgIHRoaXMuc2lnblVwQnV0dG9ucy5wcm9wKFwiZGlzYWJsZWRcIiwgIWlzRW5hYmxlZCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnF1ZXVlLm15UmVxdWVzdCkge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVJlcXVlc3RCdXR0b25zLnNob3coKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgQG1lc3NhZ2VSZXNwb25zZSgpXHJcbiAgICBwcml2YXRlIHF1ZXVlUmVmcmVzaGVkKCkge1xyXG4gICAgICAgIHRoaXMucmVmcmVzaFNpZ25JbkVuYWJsZWQoKTtcclxuICAgIH1cclxuXHJcbiAgICBAbWVzc2FnZVJlc3BvbnNlKClcclxuICAgIHByaXZhdGUgdXNlclNpZ25lZEluKCkge1xyXG4gICAgICAgIHRoaXMucmVmcmVzaFNpZ25JbkVuYWJsZWQoKTtcclxuICAgIH1cclxuXHJcbiAgICBAbWVzc2FnZVJlc3BvbnNlKClcclxuICAgIHByaXZhdGUgbXlSZXF1ZXN0U2V0KCkge1xyXG4gICAgICAgIHZhciByZXEgPSB0aGlzLnF1ZXVlLm15UmVxdWVzdDtcclxuICAgICAgICB0aGlzLnN0YXR1c0VsZW0uaHRtbChcIlwiKTtcclxuICAgICAgICBpZiAocmVxICYmICF0aGlzLmZvcm1IYXNDaGFuZ2VzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2lnblVwTmFtZUlucHV0LnZhbChyZXEubmFtZSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2lnblVwRGVzY3JpcHRpb25JbnB1dC52YWwocmVxLmRlc2NyaXB0aW9uIHx8IFwiXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnNpZ25VcExvY2F0aW9uSW5wdXQudmFsKHJlcS5sb2NhdGlvbiB8fCBcIlwiKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMucXVldWUuaGFzTWFwKCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubWFwWCA9IHJlcS5tYXBYO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXBZID0gcmVxLm1hcFk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNpZ25VcFBpbiEuY3NzKFwibGVmdFwiLCB0aGlzLm1hcFggKyBcIiVcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNpZ25VcFBpbiEuY3NzKFwidG9wXCIsIHRoaXMubWFwWSArIFwiJVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5xdWV1ZS5jb3Vyc2Uuc2hvcnROYW1lID09IFwiRUVDUyAyODBcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0dXNFbGVtLmh0bWwoXCJFRUNTMjgwOiBZb3UgYXJlIGF0IHBvc2l0aW9uIFwiICsgcmVxLmluZGV4ICsgXCIgaW4gdGhlIHF1ZXVlXCIpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnN0YXR1c0VsZW0uaHRtbChcIllvdSBhcmUgYXQgcG9zaXRpb24gXCIgKyByZXEuaW5kZXggKyBcIiBpbiB0aGUgcXVldWVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcbmNsYXNzIEFkbWluQ29udHJvbHMge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX25hbWUgPSBcIkFkbWluQ29udHJvbHNcIjtcclxuXHJcbiAgICBwcml2YXRlIHF1ZXVlOiBhbnk7XHJcbiAgICBwcml2YXRlIGVsZW06IEpRdWVyeTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihxdWV1ZTogYW55LCBlbGVtOiBKUXVlcnkpIHtcclxuICAgICAgICB0aGlzLnF1ZXVlID0gcXVldWU7XHJcbiAgICAgICAgdGhpcy5lbGVtID0gZWxlbTtcclxuXHJcbiAgICAgICAgdGhpcy5lbGVtLmFwcGVuZChcIjxwPjxiPkFkbWluIENvbnRyb2xzPC9iPjwvcD5cIik7XHJcbiAgICAgICAgdmFyIGNsZWFyUXVldWVCdXR0b24gPSAkKCc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tZGFuZ2VyIGFkbWluT25seVwiIGRhdGEtdG9nZ2xlPVwibW9kYWxcIiBkYXRhLXRhcmdldD1cIiNjbGVhclRoZVF1ZXVlRGlhbG9nXCI+Q2xlYXIgdGhlIHF1ZXVlPC9idXR0b24+Jyk7XHJcbiAgICAgICAgdGhpcy5xdWV1ZS5tYWtlQWN0aXZlT25DbGljayhjbGVhclF1ZXVlQnV0dG9uKTsgLy8gVE9ETyBJIGRvbid0IHRoaW5rIHRoaXMgaXMgbmVjZXNzYXJ5IGFueW1vcmUuIElmIHRoZXkgY2FuIGNsaWNrIGl0LCBpdCBzaG91bGQgYmUgYWN0aXZlLlxyXG4gICAgICAgIHRoaXMuZWxlbS5hcHBlbmQoY2xlYXJRdWV1ZUJ1dHRvbik7XHJcblxyXG4gICAgICAgIHRoaXMuZWxlbS5hcHBlbmQoXCIgXCIpO1xyXG4gICAgICAgIHZhciBvcGVuU2NoZWR1bGVEaWFsb2dCdXR0b24gPSAkKCc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4taW5mbyBhZG1pbk9ubHlcIiBkYXRhLXRvZ2dsZT1cIm1vZGFsXCIgZGF0YS10YXJnZXQ9XCIjc2NoZWR1bGVEaWFsb2dcIj5TY2hlZHVsZTwvYnV0dG9uPicpO1xyXG4gICAgICAgIHRoaXMucXVldWUubWFrZUFjdGl2ZU9uQ2xpY2sob3BlblNjaGVkdWxlRGlhbG9nQnV0dG9uKTsgLy8gVE9ETyBJIGRvbid0IHRoaW5rIHRoaXMgaXMgbmVjZXNzYXJ5IGFueW1vcmUuIElmIHRoZXkgY2FuIGNsaWNrIGl0LCBpdCBzaG91bGQgYmUgYWN0aXZlLlxyXG4gICAgICAgIHRoaXMuZWxlbS5hcHBlbmQob3BlblNjaGVkdWxlRGlhbG9nQnV0dG9uKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbGVtLmFwcGVuZChcIiBcIik7XHJcbiAgICAgICAgdmFyIG9wZW5NYW5hZ2VRdWV1ZURpYWxvZ0J1dHRvbiA9ICQoJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1pbmZvIGFkbWluT25seVwiIGRhdGEtdG9nZ2xlPVwibW9kYWxcIiBkYXRhLXRhcmdldD1cIiNtYW5hZ2VRdWV1ZURpYWxvZ1wiPk1hbmFnZSBRdWV1ZTwvYnV0dG9uPicpO1xyXG4gICAgICAgIHRoaXMucXVldWUubWFrZUFjdGl2ZU9uQ2xpY2sob3Blbk1hbmFnZVF1ZXVlRGlhbG9nQnV0dG9uKTsgLy8gVE9ETyBJIGRvbid0IHRoaW5rIHRoaXMgaXMgbmVjZXNzYXJ5IGFueW1vcmUuIElmIHRoZXkgY2FuIGNsaWNrIGl0LCBpdCBzaG91bGQgYmUgYWN0aXZlLlxyXG4gICAgICAgIHRoaXMuZWxlbS5hcHBlbmQob3Blbk1hbmFnZVF1ZXVlRGlhbG9nQnV0dG9uKTtcclxuICAgIH1cclxufTtcclxuXHJcbmNsYXNzIFF1ZXVlRW50cnkge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX25hbWUgPSBcIlF1ZXVlRW50cnlcIjtcclxuXHJcbiAgICBwcml2YXRlIHF1ZXVlOiBhbnk7XHJcbiAgICBcclxuICAgIHB1YmxpYyByZWFkb25seSBpZDogc3RyaW5nO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGVtYWlsOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaW5kZXg6IG51bWJlcjtcclxuICAgIHB1YmxpYyByZWFkb25seSBuYW1lOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNNZTogYm9vbGVhbjtcclxuICAgIHB1YmxpYyByZWFkb25seSBsb2NhdGlvbj86IHN0cmluZztcclxuICAgIHB1YmxpYyByZWFkb25seSBkZXNjcmlwdGlvbj86IHN0cmluZztcclxuICAgIHB1YmxpYyByZWFkb25seSB0YWc/OiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbWFwWD86IG51bWJlcjtcclxuICAgIHB1YmxpYyByZWFkb25seSBtYXBZPzogbnVtYmVyO1xyXG5cclxuICAgIHByaXZhdGUgZWxlbTogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSBuYW1lRWxlbTogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSBsb2NhdGlvbkVsZW0/OiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIGRlc2NyaXB0aW9uRWxlbT86IEpRdWVyeTtcclxuICAgIHByaXZhdGUgdGFnRWxlbT86IEpRdWVyeTtcclxuICAgIHByaXZhdGUgdHNFbGVtOiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIG1hcEVsZW0/OiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIG1hcFBpbj86IEpRdWVyeTtcclxuXHJcblxyXG4gICAgY29uc3RydWN0b3IocXVldWU6IGFueSwgZGF0YToge1tpbmRleDpzdHJpbmddOiBzdHJpbmd9LCBpbmRleDogbnVtYmVyLCBlbGVtOiBKUXVlcnkpIHtcclxuICAgICAgICB0aGlzLnF1ZXVlID0gcXVldWU7XHJcblxyXG4gICAgICAgIHRoaXMuaWQgPSBkYXRhW1wiaWRcIl07XHJcbiAgICAgICAgdGhpcy5lbWFpbCA9IGRhdGFbXCJlbWFpbFwiXTtcclxuXHJcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xyXG4gICAgICAgIHRoaXMuaXNNZSA9ICEhZGF0YVtcIm5hbWVcIl07IC8vIGlmIGl0IGhhcyBhIG5hbWUgaXQncyB0aGVtXHJcblxyXG4gICAgICAgIHRoaXMuZWxlbSA9IGVsZW07XHJcblxyXG4gICAgICAgIGxldCBpbmZvRWxlbSA9ICQoJzxkaXYgY2xhc3M9XCJxdWV1ZS1lbnRyeUluZm9cIj48L2Rpdj4nKTtcclxuXHJcbiAgICAgICAgbGV0IG5hbWUgPSBkYXRhW1wibmFtZVwiXSA/IGRhdGFbXCJuYW1lXCJdICsgXCIgKFwiICsgZGF0YVtcImVtYWlsXCJdICsgXCIpXCIgOiBcIkFub255bW91cyBTdHVkZW50XCI7XHJcbiAgICAgICAgdGhpcy5uYW1lRWxlbSA9ICQoJzxwPjxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1lZHVjYXRpb25cIj48L3NwYW4+PC9wPicpXHJcbiAgICAgICAgICAgIC5hcHBlbmQoXCIgXCIgKyBuYW1lKVxyXG4gICAgICAgICAgICAuYXBwZW5kVG8oaW5mb0VsZW0pO1xyXG4gICAgICAgIGlmIChkYXRhW1widGFnXCJdICYmIGRhdGFbXCJ0YWdcIl0ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnRhZyA9IGRhdGFbXCJ0YWdcIl07XHJcbiAgICAgICAgICAgIHRoaXMubmFtZUVsZW0uYXBwZW5kKCcgPHNwYW4gY2xhc3M9XCJsYWJlbCBsYWJlbC1pbmZvXCI+JyArIHRoaXMudGFnICsgJzwvc3Bhbj4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5uYW1lID0gZGF0YVtcIm5hbWVcIl07XHJcblxyXG4gICAgICAgIGlmIChkYXRhW1wibG9jYXRpb25cIl0gJiYgZGF0YVtcImxvY2F0aW9uXCJdLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICB0aGlzLmxvY2F0aW9uRWxlbSA9ICQoJzxwPjxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1tYXAtbWFya2VyXCI+PC9zcGFuPjwvcD4nKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZChcIiBcIiArIGRhdGFbXCJsb2NhdGlvblwiXSlcclxuICAgICAgICAgICAgICAgIC5hcHBlbmRUbyhpbmZvRWxlbSk7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYXRpb24gPSBkYXRhW1wibG9jYXRpb25cIl07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZGF0YVtcImRlc2NyaXB0aW9uXCJdICYmIGRhdGFbXCJkZXNjcmlwdGlvblwiXS5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgdGhpcy5kZXNjcmlwdGlvbkVsZW0gPSAkKCc8cD48c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tcXVlc3Rpb24tc2lnblwiPjwvc3Bhbj48L3A+JylcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoXCIgXCIgKyBkYXRhW1wiZGVzY3JpcHRpb25cIl0pXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kVG8oaW5mb0VsZW0pO1xyXG4gICAgICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGF0YVtcImRlc2NyaXB0aW9uXCJdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHRpbWVXYWl0aW5nID0gRGF0ZS5ub3coKSAtIG5ldyBEYXRlKHBhcnNlSW50KGRhdGFbXCJ0c1wiXSkqMTAwMCkuZ2V0VGltZSgpO1xyXG4gICAgICAgIGxldCBtaW51dGVzV2FpdGluZyA9IE1hdGgucm91bmQodGltZVdhaXRpbmcgLyAxMDAwIC8gNjApO1xyXG4gICAgICAgIHRoaXMudHNFbGVtID0gJCgnPHA+PHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLXRpbWVcIj48L3NwYW4+PC9wPicpXHJcbiAgICAgICAgICAgIC5hcHBlbmQoXCIgXCIgKyBtaW51dGVzV2FpdGluZyArIFwiIG1pblwiKVxyXG4gICAgICAgICAgICAuYXBwZW5kVG8oaW5mb0VsZW0pO1xyXG5cclxuICAgICAgICBsZXQgcmVtb3ZlQnV0dG9uID0gJCgnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRhbmdlclwiPlJlbW92ZTwvYnV0dG9uPicpO1xyXG4gICAgICAgIGlmICghdGhpcy5pc01lKXtcclxuICAgICAgICAgICAgcmVtb3ZlQnV0dG9uLmFkZENsYXNzKFwiYWRtaW5Pbmx5XCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmVtb3ZlQnV0dG9uLm9uKFwiY2xpY2tcIiwgdGhpcy5xdWV1ZS5yZW1vdmVSZXF1ZXN0LmJpbmQodGhpcy5xdWV1ZSwgdGhpcykpO1xyXG4gICAgICAgIGluZm9FbGVtLmFwcGVuZChyZW1vdmVCdXR0b24pO1xyXG5cclxuICAgICAgICBpbmZvRWxlbS5hcHBlbmQoXCIgXCIpO1xyXG5cclxuXHJcbiAgICAgICAgbGV0IHNlbmRNZXNzYWdlQnV0dG9uID0gJCgnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXdhcm5pbmcgYWRtaW5Pbmx5XCI+TWVzc2FnZTwvYnV0dG9uPicpO1xyXG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgICAgICBzZW5kTWVzc2FnZUJ1dHRvbi5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGxldCBzZW5kTWVzc2FnZURpYWxvZyA9ICQoXCIjc2VuZE1lc3NhZ2VEaWFsb2dcIik7XHJcbiAgICAgICAgICAgIHNlbmRNZXNzYWdlRGlhbG9nLm1vZGFsKFwic2hvd1wiKTtcclxuICAgICAgICAgICAgUXVldWVBcHBsaWNhdGlvbi5pbnN0YW5jZS5zZXRTZW5kTWVzc2FnZVBvc3RJZChzZWxmLmlkKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpbmZvRWxlbS5hcHBlbmQoc2VuZE1lc3NhZ2VCdXR0b24pO1xyXG5cclxuXHJcblxyXG4gICAgICAgIGlmKHRoaXMucXVldWUuaGFzTWFwKCkgJiYgZGF0YVtcIm1hcFhcIl0gIT09IHVuZGVmaW5lZCAmJiBkYXRhW1wibWFwWVwiXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGxldCBtYXBYID0gdGhpcy5tYXBYID0gcGFyc2VGbG9hdChkYXRhW1wibWFwWFwiXSk7XHJcbiAgICAgICAgICAgIGxldCBtYXBZID0gdGhpcy5tYXBZID0gcGFyc2VGbG9hdChkYXRhW1wibWFwWVwiXSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgbWFwRWxlbSA9ICQoJzxkaXYgY2xhc3M9XCJhZG1pbk9ubHlcIiBzdHlsZT1cImRpc3BsYXk6aW5saW5lLWJsb2NrOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMjUlOyBtYXJnaW4tcmlnaHQ6IDEwcHhcIj48L2Rpdj4nKTtcclxuICAgICAgICAgICAgdGhpcy5lbGVtLmFwcGVuZChtYXBFbGVtKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBtYXBIb2xkZXIgPSAkKCc8ZGl2IHN0eWxlPVwicG9zaXRpb246IHJlbGF0aXZlXCI+PC9kaXY+Jyk7XHJcbiAgICAgICAgICAgIHRoaXMubWFwRWxlbSA9ICQoJzxpbWcgY2xhc3M9XCJhZG1pbk9ubHkgcXVldWUtZW50cnlNYXBcIiBzcmM9XCJpbWcvJyArIHRoaXMucXVldWUubWFwSW1hZ2VTcmMgKyAnXCI+PC9pbWc+Jyk7XHJcbiAgICAgICAgICAgIG1hcEhvbGRlci5hcHBlbmQodGhpcy5tYXBFbGVtKTtcclxuICAgICAgICAgICAgdGhpcy5tYXBQaW4gPSAkKCc8c3BhbiBjbGFzcz1cImFkbWluT25seSBxdWV1ZS1sb2NhdGVQaW5cIj48c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tbWFwLW1hcmtlclwiIHN0eWxlPVwicG9zaXRpb246YWJzb2x1dGU7IGxlZnQ6LTEuM2NoO3RvcDotMC45NWVtO1wiPjwvc3Bhbj48L3NwYW4+Jyk7XHJcbiAgICAgICAgICAgIHRoaXMubWFwUGluLmNzcyhcImxlZnRcIiwgbWFwWCArIFwiJVwiKTtcclxuICAgICAgICAgICAgdGhpcy5tYXBQaW4uY3NzKFwidG9wXCIsIG1hcFkgKyBcIiVcIik7XHJcbiAgICAgICAgICAgIG1hcEhvbGRlci5hcHBlbmQodGhpcy5tYXBQaW4pO1xyXG4gICAgICAgICAgICBtYXBFbGVtLmFwcGVuZChtYXBIb2xkZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gbGV0IGRpYnNCdXR0b24gPSAkKCc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4taW5mbyBhZG1pbk9ubHlcIj5EaWJzITwvYnV0dG9uPicpO1xyXG4gICAgICAgICAgICAvLyB0aGlzLmVsZW0uYXBwZW5kKGRpYnNCdXR0b24pO1xyXG4gICAgICAgICAgICAvLyB0aGlzLmVsZW0uYXBwZW5kKFwiIFwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZWxlbS5hcHBlbmQoaW5mb0VsZW0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvblJlbW92ZSgpIHtcclxuICAgICAgICAvLyB0aGlzLnNlbmQoXCJyZW1vdmVkXCIpO1xyXG4gICAgICAgIHRoaXMuZWxlbS5zbGlkZVVwKEFOSU1BVElPTl9ERUxBWSwgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufTtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgU2NoZWR1bGUge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgX25hbWU6IFwiU2NoZWR1bGVcIjtcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBzZXF1ZW5jZSA9IHtcclxuICAgICAgICBcIm9cIjogXCJjXCIsXHJcbiAgICAgICAgXCJjXCI6IFwicFwiLFxyXG4gICAgICAgIFwicFwiOiBcIm9cIlxyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHVuaXRFbGVtcyA6IEpRdWVyeVtdW107XHJcblxyXG4gICAgY29uc3RydWN0b3IoZWxlbSA6IEpRdWVyeSkge1xyXG4gICAgICAgIGxldCBkaWFsb2cgPSAkKFwiI3NjaGVkdWxlRGlhbG9nXCIpO1xyXG5cclxuICAgICAgICAkKFwiI3NjaGVkdWxlRm9ybVwiKS5zdWJtaXQoKGUpID0+IHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgICAgIGRpYWxvZy5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZGlhbG9nLm9uKCdzaG93bi5icy5tb2RhbCcsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFNldCB1cCB0YWJsZSBpbiBzY2hlZHVsZSBwaWNrZXJcclxuICAgICAgICBsZXQgc2NoZWR1bGVQaWNrZXIgPSAkKFwiI3NjaGVkdWxlUGlja2VyXCIpO1xyXG5cclxuICAgICAgICAvLyBGaXJzdCByb3cgb2YgdGFibGUgd2l0aCB0aW1lIGhlYWRlcnNcclxuICAgICAgICBsZXQgZmlyc3RSb3cgPSAkKFwiPHRyPjwvdHI+XCIpLmFwcGVuZFRvKHNjaGVkdWxlUGlja2VyKTtcclxuXHJcbiAgICAgICAgLy8gRXh0cmEgYmxhbmsgaW4gZmlyc3Qgcm93IHRvIGNvcnJlc3BvbmQgdG8gcm93IGxhYmVscyBpbiBvdGhlciByb3dzXHJcbiAgICAgICAgZmlyc3RSb3cuYXBwZW5kKCc8dGQgc3R5bGU9XCJ3aWR0aDoxZW07IHBhZGRpbmctcmlnaHQ6IDNweDtcIj48L3RkPicpO1xyXG5cclxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgMjQ7ICsraSkge1xyXG4gICAgICAgICAgICBmaXJzdFJvdy5hcHBlbmQoJzx0ZCBjb2xzcGFuPVwiMlwiPicgKyAoaSA9PT0gMCB8fCBpID09PSAxMiA/IDEyIDogaSAlIDEyKSArICc8L3RkPicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy51bml0RWxlbXMgPSBbXTtcclxuICAgICAgICBsZXQgZGF5TGV0dGVycyA9IFtcIlNcIixcIk1cIixcIlRcIixcIldcIixcIlRcIixcIkZcIixcIlNcIl07XHJcbiAgICAgICAgZm9yKHZhciByID0gMDsgciA8IDc7ICsrcikge1xyXG4gICAgICAgICAgICB2YXIgZGF5IDogSlF1ZXJ5W10gPSBbXTtcclxuICAgICAgICAgICAgdmFyIHJvd0VsZW0gPSAkKCc8dHI+PC90cj4nKTtcclxuICAgICAgICAgICAgcm93RWxlbS5hcHBlbmQoJzx0ZCBzdHlsZT1cIndpZHRoOjFlbTsgdGV4dC1hbGlnbjogcmlnaHQ7IHBhZGRpbmctcmlnaHQ6IDNweDtcIj4nICsgZGF5TGV0dGVyc1tyXSArICc8L3RkPicpO1xyXG4gICAgICAgICAgICBmb3IodmFyIGMgPSAwOyBjIDwgNDg7ICsrYykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHVuaXRFbGVtID0gJCgnPHRkPjxkaXYgY2xhc3M9XCJzY2hlZHVsZVVuaXRcIj48L2Rpdj48L3RkPicpLmFwcGVuZFRvKHJvd0VsZW0pLmZpbmQoXCIuc2NoZWR1bGVVbml0XCIpO1xyXG4gICAgICAgICAgICAgICAgZGF5LnB1c2godW5pdEVsZW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudW5pdEVsZW1zLnB1c2goZGF5KTtcclxuICAgICAgICAgICAgc2NoZWR1bGVQaWNrZXIuYXBwZW5kKHJvd0VsZW0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHByZXNzZWQgPSBmYWxzZTtcclxuICAgICAgICBzY2hlZHVsZVBpY2tlci5vbihcIm1vdXNlZG93blwiLCBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBwcmVzc2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNjaGVkdWxlUGlja2VyLm9uKFwibW91c2V1cFwiLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBwcmVzc2VkID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc2NoZWR1bGVQaWNrZXIub24oXCJtb3VzZWxlYXZlXCIsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHByZXNzZWQgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBkaWFsb2cub24oJ2hpZGRlbi5icy5tb2RhbCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcHJlc3NlZCA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsZXQgY2hhbmdlQ29sb3IgPSAoZWxlbTogSlF1ZXJ5KSA9PntcclxuICAgICAgICAgICAgaWYgKHByZXNzZWQpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRUeXBlOiBcIm9cIiB8IFwiY1wiIHwgXCJwXCIgPSBlbGVtLmRhdGEoXCJzY2hlZHVsZVR5cGVcIik7XHJcbiAgICAgICAgICAgICAgICBlbGVtLnJlbW92ZUNsYXNzKFwic2NoZWR1bGVVbml0LVwiICsgY3VycmVudFR5cGUpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBuZXh0VHlwZSA9IFNjaGVkdWxlLnNlcXVlbmNlW2N1cnJlbnRUeXBlXTtcclxuICAgICAgICAgICAgICAgIGVsZW0uZGF0YShcInNjaGVkdWxlVHlwZVwiLCBuZXh0VHlwZSk7XHJcbiAgICAgICAgICAgICAgICBlbGVtLmFkZENsYXNzKFwic2NoZWR1bGVVbml0LVwiICsgbmV4dFR5cGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzY2hlZHVsZVBpY2tlci5vbihcIm1vdXNlb3ZlclwiLCBcIi5zY2hlZHVsZVVuaXRcIiwgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgY2hhbmdlQ29sb3IoJCh0aGlzKSk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBzY2hlZHVsZVBpY2tlci5vbihcIm1vdXNlZG93blwiLCBcIi5zY2hlZHVsZVVuaXRcIiwgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgcHJlc3NlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGNoYW5nZUNvbG9yKCQodGhpcykpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlZnJlc2goKSB7XHJcbiAgICAgICAgbGV0IGFxID0gUXVldWVBcHBsaWNhdGlvbi5pbnN0YW5jZS5hY3RpdmVRdWV1ZSgpO1xyXG4gICAgICAgIGlmIChhcSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgICAgICB1cmw6IFwiYXBpL3NjaGVkdWxlL1wiICsgYXEucXVldWVJZCxcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNjaGVkdWxlID0gZGF0YTsgLy8gYXJyYXkgb2YgNyBzdHJpbmdzXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yKHZhciByID0gMDsgciA8IDc7ICsrcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGMgPSAwOyBjIDwgNDg7ICsrYykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW0gPSB0aGlzLnVuaXRFbGVtc1tyXVtjXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0ucmVtb3ZlQ2xhc3MoKTsgLy8gcmVtb3ZlcyBhbGwgY2xhc3Nlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5hZGRDbGFzcyhcInNjaGVkdWxlVW5pdFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uYWRkQ2xhc3MoXCJzY2hlZHVsZVVuaXQtXCIgKyBzY2hlZHVsZVtyXS5jaGFyQXQoYykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5kYXRhKFwic2NoZWR1bGVUeXBlXCIsIHNjaGVkdWxlW3JdLmNoYXJBdChjKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZXJyb3I6IG9vcHNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlKCkge1xyXG4gICAgICAgIGlmICghUXVldWVBcHBsaWNhdGlvbi5pbnN0YW5jZS5hY3RpdmVRdWV1ZSgpKSB7IHJldHVybjsgfVxyXG5cclxuICAgICAgICAvLyBsb2wgY2FuJ3QgbWFrZSB1cCBteSBtaW5kIHdoZXRoZXIgSSBsaWtlIGZ1bmN0aW9uYWwgdnMuIGl0ZXJhdGl2ZVxyXG4gICAgICAgIHZhciBzY2hlZHVsZSA9IFtdO1xyXG4gICAgICAgIGZvcih2YXIgciA9IDA7IHIgPCA3OyArK3IpIHtcclxuICAgICAgICAgICAgc2NoZWR1bGUucHVzaCh0aGlzLnVuaXRFbGVtc1tyXS5tYXAoZnVuY3Rpb24odW5pdEVsZW0pe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuaXRFbGVtLmRhdGEoXCJzY2hlZHVsZVR5cGVcIik7XHJcbiAgICAgICAgICAgIH0pLmpvaW4oXCJcIikpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGFxID0gUXVldWVBcHBsaWNhdGlvbi5pbnN0YW5jZS5hY3RpdmVRdWV1ZSgpO1xyXG4gICAgICAgIGlmIChhcSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICAgICAgdXJsOiBcImFwaS91cGRhdGVTY2hlZHVsZVwiLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIGlkdG9rZW46IFVzZXIuaWRUb2tlbigpLFxyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlSWQ6IGFxLnF1ZXVlSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgc2NoZWR1bGU6IHNjaGVkdWxlXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJzY2hlZHVsZSB1cGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVycm9yOiBvb3BzXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE1hbmFnZVF1ZXVlRGlhbG9nIHtcclxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IF9uYW1lOiBcIk1hbmFnZVF1ZXVlRGlhbG9nXCI7XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgUE9MSUNJRVNfVVBfVE9fREFURSA9ICc8c3Bhbj48c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tZmxvcHB5LXNhdmVkXCI+PC9zcGFuPiBTYXZlZDwvc3Bhbj4nO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgUE9MSUNJRVNfVU5TQVZFRCA9ICc8c3Bhbj48c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tZmxvcHB5LW9wZW5cIj48L3NwYW4+IFVwZGF0ZSBDb25maWd1cmF0aW9uPC9zcGFuPic7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IF9hY3QhIDogTWVzc2FnZVJlc3BvbnNlcztcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHVwZGF0ZUNvbmZpZ3VyYXRpb25CdXR0b24gOiBKUXVlcnk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgbGV0IGRpYWxvZyA9ICQoXCIjbWFuYWdlUXVldWVEaWFsb2dcIik7XHJcblxyXG4gICAgICAgIGxldCBncm91cHNGb3JtID0gJChcIiNncm91cHNGb3JtXCIpO1xyXG4gICAgICAgIGdyb3Vwc0Zvcm0uc3VibWl0KGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSg8SFRNTEZvcm1FbGVtZW50Pmdyb3Vwc0Zvcm1bMF0pO1xyXG4gICAgICAgICAgICBsZXQgYXEgPSBRdWV1ZUFwcGxpY2F0aW9uLmluc3RhbmNlLmFjdGl2ZVF1ZXVlKCk7XHJcbiAgICAgICAgICAgIGFxICYmIGFxLnVwZGF0ZUdyb3Vwcyhmb3JtRGF0YSk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbGV0IHBvbGljaWVzRm9ybSA9ICQoXCIjcG9saWNpZXNGb3JtXCIpO1xyXG4gICAgICAgIHBvbGljaWVzRm9ybS5zdWJtaXQoKGUpID0+IHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGVDb25maWd1cmF0aW9uQnV0dG9uID0gJChcIiN1cGRhdGVDb25maWd1cmF0aW9uQnV0dG9uXCIpO1xyXG5cclxuICAgICAgICAkKFwiI3ByZXZlbnRVbnJlZ2lzdGVyZWRDaGVja2JveFwiKS5jaGFuZ2UodGhpcy51bnNhdmVkQ2hhbmdlcy5iaW5kKHRoaXMpKTtcclxuICAgICAgICAkKFwiI3ByZXZlbnRHcm91cHNDaGVja2JveFwiKS5jaGFuZ2UodGhpcy51bnNhdmVkQ2hhbmdlcy5iaW5kKHRoaXMpKTtcclxuICAgICAgICAkKFwiI3ByaW9yaXRpemVOZXdDaGVja2JveFwiKS5jaGFuZ2UodGhpcy51bnNhdmVkQ2hhbmdlcy5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICAgICAgUXVldWVBcHBsaWNhdGlvbi5pbnN0YW5jZS5vYnNlcnZhYmxlLmFkZExpc3RlbmVyKHRoaXMpO1xyXG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgfVxyXG5cclxuICAgIEBtZXNzYWdlUmVzcG9uc2UoXCJhY3RpdmVRdWV1ZVNldFwiKVxyXG4gICAgcHVibGljIHJlZnJlc2goKSB7XHJcbiAgICAgICAgbGV0IGFxID0gUXVldWVBcHBsaWNhdGlvbi5pbnN0YW5jZS5hY3RpdmVRdWV1ZSgpO1xyXG4gICAgICAgIGlmICghYXEpIHsgcmV0dXJuO31cclxuICAgICAgICBpZiAoIWFxLmlzQWRtaW4pIHsgcmV0dXJuOyB9XHJcblxyXG4gICAgICAgICQoXCIjY2hlY2tRdWV1ZVJvc3RlckxpbmtcIikuYXR0cihcImhyZWZcIiwgXCJhcGkvcm9zdGVyL1wiICsgYXEucXVldWVJZCk7XHJcbiAgICAgICAgJChcIiNjaGVja1F1ZXVlR3JvdXBzTGlua1wiKS5hdHRyKFwiaHJlZlwiLCBcImFwaS9ncm91cHMvXCIgKyBhcS5xdWV1ZUlkKTtcclxuXHJcbiAgICAgICAgcmV0dXJuICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIHVybDogXCJhcGkvcXVldWVDb25maWd1cmF0aW9uL1wiICsgYXEucXVldWVJZCxcclxuICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiB0aGlzLnJlZnJlc2hSZXNwb25zZS5iaW5kKHRoaXMpLFxyXG4gICAgICAgICAgICBlcnJvcjogb29wc1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVmcmVzaFJlc3BvbnNlKGRhdGEgOiB7W2luZGV4OnN0cmluZ106IHN0cmluZ30pIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShkYXRhKSk7XHJcbiAgICAgICAgJChcIiNwcmV2ZW50VW5yZWdpc3RlcmVkQ2hlY2tib3hcIikucHJvcChcImNoZWNrZWRcIiwgZGF0YVtcInByZXZlbnRVbnJlZ2lzdGVyZWRcIl0gPT09IFwieVwiKTtcclxuICAgICAgICAkKFwiI3ByZXZlbnRHcm91cHNDaGVja2JveFwiKS5wcm9wKFwiY2hlY2tlZFwiLCBkYXRhW1wicHJldmVudEdyb3Vwc1wiXSA9PT0gXCJ5XCIpO1xyXG4gICAgICAgICQoXCIjcHJpb3JpdGl6ZU5ld0NoZWNrYm94XCIpLnByb3AoXCJjaGVja2VkXCIsIGRhdGFbXCJwcmlvcml0aXplTmV3XCJdID09PSBcInlcIik7XHJcblxyXG4gICAgICAgIHRoaXMuY2hhbmdlc1VwVG9EYXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSgpIHtcclxuICAgICAgICBsZXQgYXEgPSBRdWV1ZUFwcGxpY2F0aW9uLmluc3RhbmNlLmFjdGl2ZVF1ZXVlKCk7XHJcbiAgICAgICAgaWYgKCFhcSkgeyByZXR1cm47fVxyXG4gICAgICAgIGFxLnVwZGF0ZUNvbmZpZ3VyYXRpb24oe1xyXG4gICAgICAgICAgICBwcmV2ZW50VW5yZWdpc3RlcmVkIDogJChcIiNwcmV2ZW50VW5yZWdpc3RlcmVkQ2hlY2tib3hcIikuaXMoXCI6Y2hlY2tlZFwiKSA/IFwieVwiIDogXCJuXCIsXHJcbiAgICAgICAgICAgIHByZXZlbnRHcm91cHMgOiAkKFwiI3ByZXZlbnRHcm91cHNDaGVja2JveFwiKS5pcyhcIjpjaGVja2VkXCIpID8gXCJ5XCIgOiBcIm5cIixcclxuICAgICAgICAgICAgcHJpb3JpdGl6ZU5ldyA6ICQoXCIjcHJpb3JpdGl6ZU5ld0NoZWNrYm94XCIpLmlzKFwiOmNoZWNrZWRcIikgPyBcInlcIiA6IFwiblwiXHJcbiAgICAgICAgfSkuZG9uZSh0aGlzLmNoYW5nZXNVcFRvRGF0ZS5iaW5kKHRoaXMpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVuc2F2ZWRDaGFuZ2VzKCkge1xyXG4gICAgICAgIHRoaXMudXBkYXRlQ29uZmlndXJhdGlvbkJ1dHRvbi5odG1sKE1hbmFnZVF1ZXVlRGlhbG9nLlBPTElDSUVTX1VOU0FWRUQpXHJcbiAgICAgICAgICAgIC5wcm9wKFwiZGlzYWJsZWRcIiwgZmFsc2UpXHJcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcyhcImJ0bi1zdWNjZXNzXCIpXHJcbiAgICAgICAgICAgIC5hZGRDbGFzcyhcImJ0bi13YXJuaW5nXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2hhbmdlc1VwVG9EYXRlKCkge1xyXG4gICAgICAgIHRoaXMudXBkYXRlQ29uZmlndXJhdGlvbkJ1dHRvbi5odG1sKE1hbmFnZVF1ZXVlRGlhbG9nLlBPTElDSUVTX1VQX1RPX0RBVEUpXHJcbiAgICAgICAgICAgIC5wcm9wKFwiZGlzYWJsZWRcIiwgdHJ1ZSlcclxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKFwiYnRuLXdhcm5pbmdcIilcclxuICAgICAgICAgICAgLmFkZENsYXNzKFwiYnRuLXN1Y2Nlc3NcIik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBuYW1lc3BhY2UgVXNlciB7XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHNpZ25JbihlbWFpbDogc3RyaW5nLCBpZHRva2VuOiBzdHJpbmcpIHtcclxuICAgICAgICBsZXQgbmV3VXNlciA9IG5ldyBBdXRoZW50aWNhdGVkVXNlcihlbWFpbCwgaWR0b2tlbik7XHJcblxyXG4gICAgICAgIHZhciBhY2NvdW50TWVzc2FnZUVsZW0gPSAkKFwiI2FjY291bnRNZXNzYWdlXCIpO1xyXG4gICAgICAgIC8vIElmIHRoZXkncmUgbm90IHVtaWNoLCB0aGV5IGNhbid0IHNpZ24gdXAhXHJcbiAgICAgICAgaWYgKCFuZXdVc2VyLmlzVW1pY2goKSl7XHJcbiAgICAgICAgICAgIGFjY291bnRNZXNzYWdlRWxlbS5zaG93KCk7XHJcbiAgICAgICAgICAgIGFjY291bnRNZXNzYWdlRWxlbS5odG1sKFwiSGkgXCIgKyBuZXdVc2VyLmVtYWlsICsgXCIhIFBsZWFzZSA8YT5zaWduIG91dDwvYT4gYW5kIHN3aXRjaCB0byBhbiBAdW1pY2guZWR1IGFjY291bnQgdG8gdXNlIHRoZSBxdWV1ZS5cIik7XHJcbiAgICAgICAgICAgIGFjY291bnRNZXNzYWdlRWxlbS5maW5kKFwiYVwiKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGF1dGgyID0gZ2FwaS5hdXRoMi5nZXRBdXRoSW5zdGFuY2UoKTtcclxuICAgICAgICAgICAgICAgIGF1dGgyLmRpc2Nvbm5lY3QoKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBVc2VyLnNpZ25PdXQoKTtcclxuICAgICAgICAgICAgICAgICAgICBhY2NvdW50TWVzc2FnZUVsZW0uaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgJChcIi5vcGVuU2lnblVwRGlhbG9nQnV0dG9uXCIpLnByb3AoXCJkaXNhYmxlZFwiLCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHNpZ25PdXQoKSB7XHJcbiAgICAgICAgdmFyIGFjY291bnRNZXNzYWdlRWxlbSA9ICQoXCIjYWNjb3VudE1lc3NhZ2VcIik7XHJcbiAgICAgICAgYWNjb3VudE1lc3NhZ2VFbGVtLmhpZGUoKTtcclxuXHJcbiAgICAgICAgdGhlVXNlciAmJiB0aGVVc2VyLm9uU2lnbk91dCgpO1xyXG5cclxuICAgICAgICBuZXcgVW5hdXRoZW50aWNhdGVkVXNlcigpOyAvLyB3aWxsIGltcGxpY2l0bHkgc2V0IHRoZVVzZXIgc2luZ2xldG9uIGluc3RhbmNlXHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGlkVG9rZW4oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoZVVzZXIuaWRUb2tlbigpO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBpc1VtaWNoKCkge1xyXG4gICAgICAgIHJldHVybiB0aGVVc2VyLmlzVW1pY2goKTtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gaXNDb3Vyc2VBZG1pbihjb3Vyc2VJZDogc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoZVVzZXIuaXNDb3Vyc2VBZG1pbihjb3Vyc2VJZCk7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGlzTWUoZW1haWw6IHN0cmluZykge1xyXG4gICAgICAgIHJldHVybiB0aGVVc2VyLmlzTWUoZW1haWwpO1xyXG4gICAgfVxyXG5cclxuICAgIGFic3RyYWN0IGNsYXNzIFVzZXJCYXNlIHtcclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBfbmFtZSA9IFwiVXNlckJhc2VcIjtcclxuICAgIFxyXG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCBpc1VtaWNoKCkgOiBib29sZWFuO1xyXG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCBpZFRva2VuKCkgOiBzdHJpbmc7XHJcbiAgICAgICAgcHVibGljIGFic3RyYWN0IGlzQ291cnNlQWRtaW4oY291cnNlSWQ6IHN0cmluZykgOiBib29sZWFuO1xyXG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCBpc01lKGVtYWlsOiBzdHJpbmcpIDogYm9vbGVhbjtcclxuICAgIFxyXG4gICAgICAgIHB1YmxpYyBvblNpZ25PdXQoKSB7XHJcbiAgICAgICAgICAgIC8vIG5vdGhpbmcgdG8gZG8gaGVyZSBmb3Igbm93XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgb25GaW5pc2hTaWduaW5nSW4oKSB7XHJcbiAgICAgICAgICAgIHRoZVVzZXIgPSB0aGlzO1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIE5vdGlmeSB0aGUgYXBwbGljYXRpb24gdGhlcmUncyBhIG5ldyB1c2VyIGluIHRvd25cclxuICAgICAgICAgICAgUXVldWVBcHBsaWNhdGlvbi5pbnN0YW5jZSAmJiBRdWV1ZUFwcGxpY2F0aW9uLmluc3RhbmNlLnVzZXJTaWduZWRJbigpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgfVxyXG5cclxuICAgIGNsYXNzIEF1dGhlbnRpY2F0ZWRVc2VyIGV4dGVuZHMgVXNlckJhc2Uge1xyXG5cclxuICAgICAgICBwdWJsaWMgcmVhZG9ubHkgZW1haWw6IHN0cmluZztcclxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IF9pZFRva2VuOiBzdHJpbmc7XHJcbiAgICAgICAgcHJpdmF0ZSBhZG1pbnM6IHtbaW5kZXg6IHN0cmluZ106IGJvb2xlYW59ID0ge307XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKGVtYWlsOiBzdHJpbmcsIGlkdG9rZW46IHN0cmluZykge1xyXG4gICAgICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgICAgICB0aGlzLmVtYWlsID0gZW1haWw7XHJcbiAgICAgICAgICAgIHRoaXMuX2lkVG9rZW4gPSBpZHRva2VuO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICAgICAgdXJsOiBcImFwaS9sb2dpblwiLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIGlkdG9rZW46IHRoaXMuaWRUb2tlbigpXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5jaGVja0FkbWluKCk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZXJyb3I6IG9vcHNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICBcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBwdWJsaWMgaXNVbWljaCgpIDogYm9vbGVhbiB7XHJcbiAgICAgICAgICAgIHJldHVybiBlbmRzV2l0aCh0aGlzLmVtYWlsLCBcIkB1bWljaC5lZHVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgcHVibGljIGlzTWUoZW1haWw6IHN0cmluZykgOiBib29sZWFuIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW1haWwgPT09IGVtYWlsO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIHB1YmxpYyBpZFRva2VuKCkgOiBzdHJpbmcge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faWRUb2tlbjtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBwcml2YXRlIGNoZWNrQWRtaW4oKSA6IHZvaWQge1xyXG4gICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgICAgICB1cmw6IFwiYXBpL2FkbWluQ291cnNlc1wiLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIGlkdG9rZW46IHRoaXMuaWRUb2tlbigpXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZG1pbnNbZGF0YVtpXVtcImNvdXJzZUlkXCJdXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIEhBQ0sgSWYgYWRtaW4gZm9yIGFueXRoaW5nLCBnaXZlIHRoZW0gZmFzdCByZWZyZXNoXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc2hvdWxkIG9ubHkgYmUgb24gdGhlIHF1ZXVlcyB0aGV5IGFkbWluaXN0ZXJcclxuICAgICAgICAgICAgICAgICAgICAvLyBhbHNvIGlmIGFkbWluIHByb21wdCBmb3Igbm90aWZpY2F0aW9uc1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUXVldWVBcHBsaWNhdGlvbi5pbnN0YW5jZS5yZWZyZXNoQWN0aXZlUXVldWUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTAwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoTm90aWZpY2F0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb3RpZmljYXRpb24ucmVxdWVzdFBlcm1pc3Npb24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUXVldWVBcHBsaWNhdGlvbi5pbnN0YW5jZS5yZWZyZXNoQWN0aXZlUXVldWUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgNjAwMDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkZpbmlzaFNpZ25pbmdJbigpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVycm9yOiBvb3BzXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIHB1YmxpYyBpc0NvdXJzZUFkbWluKGNvdXJzZUlkOiBzdHJpbmcpIDogYm9vbGVhbiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFkbWluc1tjb3Vyc2VJZF07XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICB9XHJcblxyXG4gICAgY2xhc3MgVW5hdXRoZW50aWNhdGVkVXNlciBleHRlbmRzIFVzZXJCYXNlIHtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLm9uRmluaXNoU2lnbmluZ0luKCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBRdWV1ZUFwcGxpY2F0aW9uLmluc3RhbmNlLnJlZnJlc2hBY3RpdmVRdWV1ZSgpO1xyXG4gICAgICAgICAgICB9LCA2MDAwMCk7XHJcblxyXG4gICAgICAgICAgICAvLyBUT0RPOiBjbGVhbiB1cCB3aGVyZSB0aGUgcmVmcmVzaCBpbnRlcnZhbHMgZ2V0IHNldFxyXG4gICAgICAgICAgICAvLyAgICAgICByaWdodCBub3cgaXQgc2VlbXMgbGlrZSBtdWx0aXBsZSBjYW4gZ2V0IHNldFxyXG4gICAgXHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgcHVibGljIGlzVW1pY2goKSA6IGJvb2xlYW4geyByZXR1cm4gZmFsc2U7IH1cclxuICAgICAgICBwdWJsaWMgaWRUb2tlbigpIDogc3RyaW5nIHsgcmV0dXJuIFwiXCI7IH1cclxuICAgICAgICBwdWJsaWMgaXNDb3Vyc2VBZG1pbihjb3Vyc2VJZDogc3RyaW5nKSA6IGJvb2xlYW4geyByZXR1cm4gZmFsc2U7IH1cclxuICAgICAgICBwdWJsaWMgaXNNZShlbWFpbDogc3RyaW5nKSA6IGJvb2xlYW4geyByZXR1cm4gZmFsc2U7IH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHRoZVVzZXI6IFVzZXJCYXNlID0gbmV3IFVuYXV0aGVudGljYXRlZFVzZXIoKTtcclxuXHJcbn0gLy8gZW5kIFVzZXIgbmFtZXNwYWNlXHJcblxyXG5cclxuLy8gR2l2ZSB3YXJuaW5nIHRvIHVzZXJzIGluIFNhZmFyaS9pT1MgcHJpdmF0ZSBicm93c2luZ1xyXG4vLyBtb2RlIHRoYXQgR29vZ2xlIHNpZ24taW4gd29uJ3Qgd29yay5cclxuLy8gVE9ETzogSSdtIG5vdCBjb252aW5jZWQgdGhpcyBhY3R1YWxseSBkb2VzIGFueXRoaW5nXHJcbi8vaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vcGhpbGZyZW8vNjhlYTNjZDk4MGQ3MjM4M2M5NTFcclxuaWYgKHR5cGVvZiBzZXNzaW9uU3RvcmFnZSA9PT0gJ29iamVjdCcpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnbG9jYWxTdG9yYWdlJywgXCIxXCIpO1xyXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oJ2xvY2FsU3RvcmFnZScpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIG9vcHMobnVsbCwgXCJJdCBsb29rcyBsaWtlIGxvY2FsIHN0b3JhZ2UgaXMgZGlzYWJsZWQgaW4geW91ciBicm93c2VyLiBUaGlzIG1heSBhZ2dyYXZhdGUgYW4gaXNzdWUgd2l0aCBHb29nbGUgc2lnbi1pbiBvbiBTYWZhcmkgb3IgaU9TIHdoaWxlIHVzaW5nIHByaXZhdGUgYnJvd3NpbmcgbW9kZS5cIik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9vcHMoeGhyOiBhbnksIHRleHRTdGF0dXM6IGFueSl7XHJcbiAgICBpZiAodGV4dFN0YXR1cyA9PT0gXCJhYm9ydFwiKSB7IHJldHVybjsgfVxyXG4gICAgY29uc29sZS5sb2coXCJPb3BzLiBBbiBlcnJvciBvY2N1cnJlZC4gVHJ5IHJlZnJlc2hpbmcgdGhlIHBhZ2UuXCIpO1xyXG4gICAgJChcIiNvb3BzRGlhbG9nXCIpLm1vZGFsKFwic2hvd1wiKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2hvd0Vycm9yTWVzc2FnZShtZXNzYWdlOiBhbnkpIHtcclxuICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpO1xyXG4gICAgJChcIiNlcnJvck1lc3NhZ2VcIikuaHRtbChtZXNzYWdlKTtcclxuICAgICQoXCIjZXJyb3JEaWFsb2dcIikubW9kYWwoXCJzaG93XCIpO1xyXG59XHJcbiIsImltcG9ydCB7UXVldWVBcHBsaWNhdGlvbiwgU2NoZWR1bGUsIE1hbmFnZVF1ZXVlRGlhbG9nLCBVc2VyfSBmcm9tIFwiLi9xdWV1ZVwiO1xyXG5cclxuLy8gaW1wb3J0IHtnYXBpfSBmcm9tIFwiaHR0cHM6Ly9hcGlzLmdvb2dsZS5jb20vanMvcGxhdGZvcm0uanNcIjtcclxuXHJcbmZ1bmN0aW9uIG9uU2lnbkluKGdvb2dsZVVzZXI6IGdhcGkuYXV0aDIuR29vZ2xlVXNlcikge1xyXG4gICAgdmFyIHByb2ZpbGUgPSBnb29nbGVVc2VyLmdldEJhc2ljUHJvZmlsZSgpO1xyXG4vLyAgICAgICAgY29uc29sZS5sb2coJ05hbWU6ICcgKyBwcm9maWxlLmdldE5hbWUoKSk7XHJcbi8vICAgICAgICBjb25zb2xlLmxvZygnSW1hZ2UgVVJMOiAnICsgcHJvZmlsZS5nZXRJbWFnZVVybCgpKTtcclxuLy8gICAgICAgIGNvbnNvbGUubG9nKCdJRDogJyArIHByb2ZpbGUuZ2V0SWQoKSk7IC8vIERvIG5vdCBzZW5kIHRvIHlvdXIgYmFja2VuZCEgVXNlIGFuIElEIHRva2VuIGluc3RlYWQuXHJcbiAgICBVc2VyLnNpZ25Jbihwcm9maWxlLmdldEVtYWlsKCksIGdvb2dsZVVzZXIuZ2V0QXV0aFJlc3BvbnNlKCkuaWRfdG9rZW4pO1xyXG4vLyAgICAgICAgY29uc29sZS5sb2coZ29vZ2xlVXNlci5nZXRBdXRoUmVzcG9uc2UoKS5leHBpcmVzX2F0KCkpO1xyXG4vLyAgICAgICAgdmFyIGV4cGlyZXNfYXQgPSBnb29nbGVVc2VyLmdldEF1dGhSZXNwb25zZSgpLmV4cGlyZXNfYXQ7XHJcbi8vICAgICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcclxuLy8gICAgICAgIHZhciBub3cyID0gRGF0ZS5ub3coKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0dXBEaWFsb2dzKCkge1xyXG4gICAgdmFyIGNsZWFySW5wdXQgPSAkKFwiI2NsZWFySW5wdXRcIik7XHJcbiAgICB2YXIgY2xlYXJUaGVRdWV1ZURpYWxvZyA9ICQoXCIjY2xlYXJUaGVRdWV1ZURpYWxvZ1wiKTtcclxuICAgIGNsZWFyVGhlUXVldWVEaWFsb2cub24oJ3Nob3duLmJzLm1vZGFsJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNsZWFySW5wdXQuZm9jdXMoKTtcclxuICAgIH0pO1xyXG4gICAgY2xlYXJUaGVRdWV1ZURpYWxvZy5vbignc2hvdy5icy5tb2RhbCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjbGVhcklucHV0LnZhbChcIlwiKTtcclxuICAgIH0pO1xyXG4gICAgY2xlYXJJbnB1dC5vbihcImlucHV0XCIsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgIGlmICgkKHRoaXMpLnZhbCgpID09IFwiY2xlYXJcIil7XHJcbiAgICAgICAgICAgIGNsZWFyVGhlUXVldWVEaWFsb2cubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAgICAgICBsZXQgYXEgPSBRdWV1ZUFwcGxpY2F0aW9uLmluc3RhbmNlLmFjdGl2ZVF1ZXVlKCk7XHJcbiAgICAgICAgICAgIGFxICYmIGFxLmNsZWFyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyIHNpZ25VcERpYWxvZyA9ICQoXCIjc2lnblVwRGlhbG9nXCIpO1xyXG4gICAgc2lnblVwRGlhbG9nLm9uKCdzaG93LmJzLm1vZGFsJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQodGhpcykuZmluZChcImlucHV0XCIpLnZhbChcIlwiKTtcclxuICAgIH0pO1xyXG4gICAgc2lnblVwRGlhbG9nLm9uKCdzaG93bi5icy5tb2RhbCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKHRoaXMpLmZpbmQoXCJpbnB1dDpmaXJzdFwiKS5mb2N1cygpO1xyXG4gICAgfSk7XHJcblxyXG5cclxuXHJcblxyXG4gICAgbGV0IHNlbmRNZXNzYWdlRGlhbG9nID0gJChcIiNzZW5kTWVzc2FnZURpYWxvZ1wiKTtcclxuICAgIHNlbmRNZXNzYWdlRGlhbG9nLm9uKCdzaG93LmJzLm1vZGFsJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQodGhpcykuZmluZChcImlucHV0XCIpLnZhbChcIlwiKTtcclxuICAgIH0pO1xyXG4gICAgc2VuZE1lc3NhZ2VEaWFsb2cub24oJ3Nob3duLmJzLm1vZGFsJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQodGhpcykuZmluZChcImlucHV0OmZpcnN0XCIpLmZvY3VzKCk7XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgbGV0IHNlbmRNZXNzYWdlRm9ybSA9ICQoXCIjc2VuZE1lc3NhZ2VGb3JtXCIpO1xyXG4gICAgc2VuZE1lc3NhZ2VGb3JtLnN1Ym1pdChmdW5jdGlvbihlKXtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgbGV0IGNvbnRlbnQgOiBzdHJpbmcgPSA8c3RyaW5nPiQoXCIjc2VuZE1lc3NhZ2VDb250ZW50XCIpLnZhbCgpO1xyXG5cclxuICAgICAgICBpZiAoIWNvbnRlbnQgfHwgY29udGVudC5sZW5ndGggPT0gMCl7XHJcbiAgICAgICAgICAgIGFsZXJ0KFwiWW91IGNhbid0IHNlbmQgYSBibGFuayBtZXNzYWdlLlwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgUXVldWVBcHBsaWNhdGlvbi5pbnN0YW5jZS5zZW5kTWVzc2FnZShjb250ZW50KTtcclxuXHJcbiAgICAgICAgc2VuZE1lc3NhZ2VEaWFsb2cubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICBuZXcgU2NoZWR1bGUoJChcIiNzY2hlZHVsZVBpY2tlclwiKSk7XHJcblxyXG4gICAgbmV3IE1hbmFnZVF1ZXVlRGlhbG9nKCk7XHJcbn1cclxuXHJcblxyXG5cclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcbiAgICBcclxuICAgIFF1ZXVlQXBwbGljYXRpb24uY3JlYXRlSW5zdGFuY2UoJChcIiNxdWV1ZUFwcGxpY2F0aW9uXCIpKTtcclxuICAgIC8vIFVzZXIuc2V0VGFyZ2V0KFVuYXV0aGVudGljYXRlZFVzZXIuaW5zdGFuY2UoKSk7XHJcblxyXG4gICAgc2V0dXBEaWFsb2dzKCk7XHJcblxyXG4gICAgLy8gPGRpdiBjbGFzcz1cImctc2lnbmluMlwiIGRhdGEtb25zdWNjZXNzPVwib25TaWduSW5cIj48L2Rpdj5cclxuICAgIC8vIFJlY3VycmluZyByZWZyZXNoXHJcbiAgICAvL3NldEludGVydmFsKGZ1bmN0aW9uKCl7XHJcbiAgICAvLyAgICBRdWV1ZUFwcGxpY2F0aW9uLnJlZnJlc2hBY3RpdmVRdWV1ZSgpO1xyXG4gICAgLy99LCA2MDAwMCk7XHJcbiAgICAvLyBNT1ZFRCBUTyBVU0VSIENPREUgSU4gcXVldWUuanNcclxuXHJcbiAgICBnYXBpLnNpZ25pbjIucmVuZGVyKCdnb29nbGVTaWduSW5CdXR0b24nLCB7XHJcbiAgICAgICAgJ3Njb3BlJzogJ3Byb2ZpbGUgZW1haWwnLFxyXG4gICAgICAgICd3aWR0aCc6IDI0MCxcclxuICAgICAgICAnaGVpZ2h0JzogNTAsXHJcbiAgICAgICAgJ2xvbmd0aXRsZSc6IHRydWUsXHJcbiAgICAgICAgJ3RoZW1lJzogJ2RhcmsnLFxyXG4gICAgICAgICdvbnN1Y2Nlc3MnOiBvblNpZ25JbixcclxuICAgICAgfSk7XHJcbn0pO1xyXG5cclxuY29uc29sZS5sb2coXCJURVNUIEJMQUhcIik7Il0sInNvdXJjZVJvb3QiOiIifQ==