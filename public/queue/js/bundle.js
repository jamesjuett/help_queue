var Bundle=function(e){var t={};function n(s){if(t[s])return t[s].exports;var i=t[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(s,i,function(t){return e[t]}.bind(null,i));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t,n){var s=n(4).Symbol;e.exports=s},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var s=n(0),i=n(25),o=n(26),a="[object Null]",r="[object Undefined]",u=s?s.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?r:a:u&&u in Object(e)?i(e):o(e)}},function(e,t,n){var s=n(23),i="object"==typeof self&&self&&self.Object===Object&&self,o=s||i||Function("return this")();e.exports=o},function(e,t){e.exports=function(e,t){for(var n=-1,s=null==e?0:e.length,i=Array(s);++n<s;)i[n]=t(e[n],n,e);return i}},function(e,t,n){var s=n(7);e.exports=function(e){return null==e?"":s(e)}},function(e,t,n){var s=n(0),i=n(5),o=n(44),a=n(8),r=1/0,u=s?s.prototype:void 0,p=u?u.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return p?p.call(t):"";var n=t+"";return"0"==n&&1/t==-r?"-0":n}},function(e,t,n){var s=n(3),i=n(45),o="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||i(e)&&s(e)==o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(10);t.onSignIn=function(e){var t=e.getBasicProfile();s.User.signIn(t.getEmail(),e.getAuthResponse().id_token)},$(document).ready(function(){s.QueueApplication.createInstance($("#queueApplication")),function(){var e=$("#clearInput"),t=$("#clearTheQueueDialog");t.on("shown.bs.modal",function(){e.focus()}),t.on("show.bs.modal",function(){e.val("")}),e.on("input",function(e){if("clear"==$(this).val()){t.modal("hide");var n=s.QueueApplication.instance.activeQueue();n&&n.clear()}});var n=$("#signUpDialog");n.on("show.bs.modal",function(){$(this).find("input").val("")}),n.on("shown.bs.modal",function(){$(this).find("input:first").focus()});var i=$("#sendMessageDialog");i.on("show.bs.modal",function(){$(this).find("input").val("")}),i.on("shown.bs.modal",function(){$(this).find("input:first").focus()}),$("#sendMessageForm").submit(function(e){e.preventDefault();var t=$("#sendMessageContent").val();return t&&0!=t.length?(s.QueueApplication.instance.sendMessage(t),i.modal("hide"),!1):(alert("You can't send a blank message."),!1)});var o=$("#addAnnouncementDialog");o.on("show.bs.modal",function(){$(this).find("textarea").val("")}),o.on("shown.bs.modal",function(){$(this).find("textarea").focus()}),$("#addAnnouncementForm").submit(function(e){e.preventDefault();var t=$("#addAnnouncementContent").val();if(!t||0==t.length)return alert("You can't post a blank announcement."),!1;var n=s.QueueApplication.instance.activeQueue();return n&&n.addAnnouncement(t),o.modal("hide"),!1}),new s.Schedule($("#schedulePicker")),new s.ManageQueueDialog}()}),console.log("TEST BLAH")},function(e,t,n){"use strict";var s,i=this&&this.__extends||(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,s){var i,o=arguments.length,a=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,s);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))(function(i,o){function a(e){try{u(s.next(e))}catch(e){o(e)}}function r(e){try{u(s.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,r)}u((s=s.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,s,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function r(o){return function(r){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,s&&(i=2&o[0]?s.return:o[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,o[1])).done)return i;switch(s=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,s=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],s=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,r])}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});Array.prototype.clear=function(){this.length=0};var p=n(11),c=u(n(41)),l=u(n(46)),d=function(){function e(e){this.courses=[],this.messagesShown={},this.observable=new p.Observable(this),this.elem=e,this.coursePills=e.find(".coursePills"),this.coursePanes=e.find(".coursePanes"),this.loadCourses()}return e.createInstance=function(t){e.instance=new e(t)},e.prototype.loadCourses=function(){return a(this,void 0,void 0,function(){var e,t;return r(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,$.getJSON("api/courseList")];case 1:return e=n.sent(),this.onCoursesLoad(e),[3,3];case 2:return x(t=n.sent(),t),[3,3];case 3:return[2]}})})},e.prototype.onCoursesLoad=function(e){var t=this;this.coursePills.empty(),this.coursePanes.empty(),this.courses.clear(),this.coursePanes.append($('<div class="tab-pane fade in active"><h1><span class="glyphicon glyphicon-arrow-left"></span> Please select a course.</h1></div>')),e.forEach(function(e){for(var n in e)e[n]=c.default(e[n]);var s=e.courseId,i=$('<li><a href="#'+s+'" data-toggle="pill"><h3>'+s+"</h3></a></li>");t.coursePills.append(i);var o=$('<div id="'+s+'" class="tab-pane fade"></div>');t.coursePanes.append(o);var a=new h(e,o);t.courses.push(a),i.find("a").click(function(){a.makeActive()})})},e.prototype.setActiveQueue=function(e){this._activeQueue=e,console.log("Setting active queue to "+e.queueId),this.updateSignUpForm(),this.observable.send("activeQueueSet")},e.prototype.activeQueue=function(){return this._activeQueue},e.prototype.updateSignUpForm=function(){this._activeQueue&&this._activeQueue.hasMap()?($("#signUpMapHolder").show(),$("#signUpMapMessage").show(),$("#signUpMapImage").attr("src",this._activeQueue.mapImageSrc)):($("#signUpMapHolder").hide(),$("#signUpMapMessage").hide())},e.prototype.userSignedIn=function(){this.courses.forEach(function(e){e.userSignedIn()})},e.prototype.refreshActiveQueue=function(){this._activeQueue&&this._activeQueue.refresh(),this.refreshContent()},e.prototype.message=function(e){this.messagesShown[e.id]||(this.messagesShown[e.id]=!0,$("#messageDialogHeader").html("Message"),$("#messageDialogContent").append('<p><span class="label label-info">'+e.sender+"</span> "+e.message+"</p>"),$("#messageDialog").modal("show"))},e.prototype.setSendMessagePostId=function(e){this.sendMessagePostId=e},e.prototype.sendMessage=function(e){$.ajax({type:"POST",url:"api/sendMessage",data:{idtoken:q.idToken(),id:this.sendMessagePostId,message:e},success:function(){},error:x})},e.prototype.refreshContent=function(){this._activeQueue&&(document.title=this._activeQueue.course.shortName+" OH ("+this._activeQueue.numEntries+")")},e.prototype.notify=function(e,t){Notification?"granted"!==Notification.permission?Notification.requestPermission():new Notification(e,{body:t}):alert(t)},e._name="QueueApplication",e}();t.QueueApplication=d;var h=function(){function e(e,t){this.isAdmin=!1,this.queues=[],this.courseId=e.courseId,this.shortName=e.shortName,this.fullName=e.fullName,this.elem=t,this.queuePillsElem=$('<ul class="queuePills nav nav-pills"></ul>'),this.elem.append(this.queuePillsElem),this.pickAQueueElem=$("<div></div>"),this.pickAQueueElem.append($('<h3><span class="glyphicon glyphicon-arrow-up"></span> Several queues are available for '+this.shortName+". Please select one.</h3>")),this.elem.append(this.pickAQueueElem),this.mainElem=$("<div></div>"),this.mainElem.hide(),this.queuePanesElem=$('<div class="col-xs-12 col-md-12 queuePanes tab-content"></div>'),this.mainElem.append(this.queuePanesElem),this.contentElem=$('<div class="col-xs-12 col-md-12"></div>'),this.mainElem.append(this.contentElem),this.elem.append(this.mainElem),this.loadContent(),this.loadQueues()}return e.prototype.makeActive=function(){this.activeQueue&&this.activeQueue.makeActive()},e.prototype.loadContent=function(){this.contentElem.load("queue-component/courseContent/"+this.courseId)},e.prototype.loadQueues=function(){var e=this;return $.ajax({type:"GET",url:"api/queueList/"+this.courseId,dataType:"json",success:function(t){e.onQueuesLoad(t)},error:x})},e.prototype.onQueuesLoad=function(e){var t=this;this.queues.clear(),this.queuePillsElem.empty(),this.queuePanesElem.empty(),e.forEach(function(e){var n=e.name,s=e.queueId,i=$('<li><a data-toggle="pill"><h6>'+n+"</h6></a></li>");i.find("a").prop("href","#queue"+s),t.queuePillsElem.append(i);var o=$('<div id="queue'+s+'"></div>');o.addClass("tab-pane fade"),t.queuePanesElem.append(o);var a=new m(e,t,o);t.queues.push(a),a.refresh(),i.find("a").click(function(){t.pickAQueueElem.empty(),t.activeQueue=a,t.mainElem.show(),a.makeActive()})}),1===this.queues.length?(this.queuePillsElem.children().first().addClass("active"),this.queuePanesElem.children().first().addClass("in active"),this.activeQueue=this.queues[0],this.pickAQueueElem.hide(),this.mainElem.show()):(this.pickAQueueElem.show(),this.mainElem.hide()),this.setAdmin(q.isCourseAdmin(this.courseId))},e.prototype.setAdmin=function(e){this.isAdmin=e;for(var t=0;t<this.queues.length;++t)this.queues[t].setAdmin(e);this.isAdmin?(this.elem.addClass("admin"),this.elem.removeClass("notAdmin")):(this.elem.addClass("notAdmin"),this.elem.removeClass("admin"))},e.prototype.userSignedIn=function(){this.setAdmin(q.isCourseAdmin(this.courseId)),this.queues.forEach(function(e){e.userSignedIn()})},e}(),f=function(){function e(e,t,n){var s,i=this;this.id=e.id,this.content=e.content,this.ts=e.ts,this.queue=t,this.elem=n,this.elem.addClass("panel panel-info").append(s=$('<div class="panel-body bg-info"></div>').append('<span class="glyphicon glyphicon-bullhorn"></span> ').append($("<strong>"+this.content+"</strong>"))),$('<button type="button" class="close adminOnly">&times;</button>').appendTo(s).click(function(e){confirm("Are you sure you want to remove this announcement?\n\n"+i.content)&&i.remove()})}return e.prototype.remove=function(){var e=this;$.ajax({type:"DELETE",url:"api/announcements/"+this.id,success:function(){e.queue.refresh()},error:x})},e}(),m=function(){function e(e,t,n){this.observable=new p.Observable(this),this.isAdmin=!1,this.numEntries=0,this.lastRefresh=new Date,this.isOpen=!1,this.myRequest=null,this.mapImageSrc="",this.refreshDisabled=!1,this.currentRefreshIndex=0,this.course=t,this.queueId=e.queueId,this.location=e.location,this.mapImageSrc=e.map?e.map:"",this.name=e.name,this.elem=n,this.isAdmin=!1,this.numEntries=0,this.currentRefreshIndex=0,this.lastRefresh=new Date,this.isOpen=!1,this.refreshDisabled=!1,this.announcementContainerElem=$("<div></div>").appendTo(this.elem);var s=$("<p></p>").appendTo(this.elem);s.append($('<span data-toggle="tooltip" title="Number of Students"><span class="glyphicon glyphicon-education"></span></span>').append(" ").append(this.numEntriesElem=$("<span></span>"))),s.append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"),s.append($('<span data-toggle="tooltip" title="Last Refresh"><span class="glyphicon glyphicon-refresh"></span></span>').append(" ").append(this.lastRefreshElem=$("<span></span>"))),s.append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"),this.statusMessageElem=$("<span>Loading queue information...</span>"),s.append(this.statusMessageElem),this.adminStatusElem=$('<span class="adminOnly"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;You are an admin for this queue.</b></span>'),s.append(this.adminStatusElem),this.adminControlsElem=$('<div class="panel panel-default adminOnly"><div class="panel-body"></div></div>').appendTo(this.elem).find(".panel-body"),this.adminControls=new g(this,this.adminControlsElem),this.studentControlsElem=$('<div class="panel panel-default"><div class="panel-body"></div></div>').appendTo(this.elem).find(".panel-body"),this.studentControls=new v(this,this.studentControlsElem),this.observable.addListener(this.studentControls),this.queueElem=$("<div></div>").appendTo(this.elem),this.stackElem=$('<div class="adminOnly"></div>').appendTo(this.elem),this.elem.find('[data-toggle="tooltip"]').tooltip(),this.userSignedIn()}return e.prototype.makeActiveOnClick=function(e){var t=this;e.click(function(){t.makeActive()})},e.prototype.makeActive=function(){d.instance.setActiveQueue(this),this.refresh()},e.prototype.refresh=function(){var e=this;this.currentRefreshIndex+=1;var t=this.currentRefreshIndex;return $.ajax({type:"POST",url:"api/list",data:{queueId:this.queueId},dataType:"json",success:function(n){t===e.currentRefreshIndex&&e.refreshResponse(n)},error:x})},e.prototype.refreshResponse=function(e){var t=this;if(!this.refreshDisabled){e.message&&d.instance.message(e.message),this.announcementContainerElem.empty();var n=e.announcements;if(n.forEach(function(e){var n=$("<div></div>").appendTo(t.announcementContainerElem);new f(e,t,n)}),n.length>0?this.announcementContainerElem.show():this.announcementContainerElem.hide(),this.isOpen=e.isOpen,this.isOpen)this.statusMessageElem.html("The queue is open.");else{for(var s=e.schedule,i=-1,o=e.halfHour;o<48;++o){var a=s.charAt(o);if("o"===a||"p"===a){i=o;break}}if(-1===i)this.statusMessageElem.html("The queue is closed for today.");else{var r=new Date;r.setHours(0),r.setMinutes(0),r.setSeconds(0);var u=new Date(r.getTime()+30*i*6e4);this.statusMessageElem.html("The queue is closed right now. It will open at "+u.toLocaleTimeString()+".")}}var p=e.queue;this.queueElem.empty();var c=[],l=null;for(o=0;o<p.length;++o){var h=p[o],m=$("<li class='list-group-item'></li>"),v=new y(this,h,o,m);c.push(v),!l&&q.isMe(v.email)&&(l=v),this.queueElem.append(m)}this.setMyRequest(l),this.observable.send("queueRefreshed"),this.stackElem.html("<h3>The Stack</h3><br /><p>Most recently removed at top</p><pre>"+JSON.stringify(e.stack,null,4)+"</pre>");var g=this.numEntries;this.numEntries=p.length,this.isAdmin&&0===g&&this.numEntries>0&&d.instance.notify("Request Received!",c[0].name),this.lastRefresh=new Date,this.numEntriesElem.html(""+this.numEntries),this.lastRefreshElem.html(this.lastRefresh.toLocaleTimeString())}},e.prototype.setMyRequest=function(e){this.myRequest=e,this.observable.send("myRequestSet")},e.prototype.removeRequest=function(e){console.log("attempting to remove "+e.email+" from queue "+this.queueId),this.disableRefresh();var t=this;$.ajax({type:"POST",url:"api/remove",data:{id:e.id},success:function(){console.log("successfully removed "+e.email+" from queue "+t.queueId),e.onRemove()},error:x}).always(function(){setTimeout(function(){t.enableRefresh(),t.refresh()},500)})},e.prototype.cancelIncomingRefresh=function(){this.currentRefreshIndex+=1},e.prototype.disableRefresh=function(){this.refreshDisabled=!0},e.prototype.enableRefresh=function(){this.refreshDisabled=!1},e.prototype.clear=function(){var e=this;return $.ajax({type:"POST",url:"api/clear",data:{idtoken:q.idToken(),queueId:this.queueId},success:function(){e.clearList()},error:x})},e.prototype.clearList=function(){this.queueElem.children().slideUp()},e.prototype.signUp=function(e,t,n,s,i){var o=this;return $.ajax({type:"POST",url:"api/signUp",data:{idtoken:q.idToken(),queueId:this.queueId,name:e,location:t,mapX:s,mapY:i,description:n},dataType:"json",success:function(e){e.fail?T(e.reason):o.refresh()},error:x})},e.prototype.updateRequest=function(e,t,n,s,i){var o=this;return $.ajax({type:"POST",url:"api/updateRequest",data:{id:this.myRequest.id,name:e,location:t,mapX:s,mapY:i,description:n},dataType:"json",success:function(e){e.fail?T(e.reason):o.refresh()},error:x})},e.prototype.setAdmin=function(e){var t=this.isAdmin;this.isAdmin=e,t!=this.isAdmin&&this.refresh()},e.prototype.userSignedIn=function(){this.observable.send("userSignedIn")},e.prototype.hasMap=function(){return""!==this.mapImageSrc},e.prototype.updateGroups=function(e){e.append("queueId",this.queueId),$.ajax({type:"POST",url:"api/updateGroups",cache:!1,contentType:!1,processData:!1,data:e,dataType:"json",success:function(e){e.success?alert("groups uploaded successfully"):alert("error uploading groups. roster and groups have been cleared - you'll have to upload them again, sorry!")},error:function(e){alert("error uploading groups")}})},e.prototype.updateConfiguration=function(e){return e.queueId=this.queueId,$.ajax({type:"POST",url:"api/updateQueueConfiguration",data:e,dataType:"json",success:function(e){e.fail&&T(e.reason)},error:x})},e.prototype.addAnnouncement=function(e){var t=this;return $.ajax({type:"POST",url:"api/announcements",data:{queueId:this.queueId,content:e},success:function(){t.refresh()},error:x})},e}(),v=function(){function e(t,n){var s=this;this.queue=t,this.elem=n,this.formHasChanges=!1;var i,o=$("<div></div>");if(this.signUpForm=$('<form id="signUpForm" role="form" class="form-horizontal"></form>').append(i=$("<div></div>").append($('<div class="form-group"></div>').append('<label class="control-label col-sm-3" for="signUpName'+t.queueId+'">Name:</label>').append($('<div class="col-sm-9"></div>').append(this.signUpNameInput=$('<input type="text" class="form-control" id="signUpName'+t.queueId+'" required="required" maxlength="30" placeholder="Nice to meet you!">')))).append($('<div class="form-group"></div>').append('<label class="control-label col-sm-3" for="signUpDescription'+t.queueId+'">Description:</label>').append($('<div class="col-sm-9"></div>').append(this.signUpDescriptionInput=$('<input type="text" class="form-control" id="signUpDescription'+t.queueId+'"required="required" maxlength="100" placeholder="e.g. Segfault in function X, using the map data structure, etc.">')))).append($('<div class="form-group"></div>').append('<label class="control-label col-sm-3" for="signUpLocation'+t.queueId+'">Location:</label>').append($('<div class="col-sm-9"></div>').append(this.signUpLocationInput=$('<input type="text" class="form-control" id="signUpLocation'+t.queueId+'"required="required" maxlength="30" placeholder="e.g. Computer #36, laptop by glass/atrium door, etc.">')))).append('<div class="hidden-xs form-group"><div class="col-sm-offset-3 col-sm-9"><button type="submit" class="btn btn-success queue-signUpButton">Sign Up</button> <button type="submit" class="btn btn-success queue-updateRequestButton" style="display:none;"></button></div></div>')),o.append(this.signUpForm),this.statusElem=$("<div></div>"),o.append(this.statusElem),this.signUpForm.find("input").on("input",function(){s.formChanged()}),this.queue.hasMap()){i.addClass("col-xs-12 col-sm-8"),i.css("padding","0"),this.signUpForm.append(this.mapHolder=$('<div class="col-xs-12 col-sm-4" style="position: relative; padding:0"></div>').append(this.signUpMap=$('<img src="img/'+this.queue.mapImageSrc+'" class="queue-signUpMap" style="width:100%"></img>')).append(this.signUpPin=$('<span class="queue-locatePin"><span class="glyphicon glyphicon-map-marker" style="position:absolute; left:-1.3ch;top:-0.95em;"></span></span>'))),this.signUpForm.append($('<div class="visible-xs col-xs-12" style="padding: 0;"><div class="form-group"><div class="col-sm-offset-3 col-sm-9"><button type="submit" class="btn btn-success queue-signUpButton">Sign Up</button> <button type="submit" class="btn btn-success queue-updateRequestButton" style="display:none;"></button></div></div></div>'));var a=this.signUpPin;this.mapX=50,this.mapY=50;var r=this;this.signUpMap.click(function(e){r.mapX=100*Math.trunc(e.pageX-$(this).offset().left)/$(this).width(),r.mapY=100*Math.trunc(e.pageY-$(this).offset().top)/$(this).height(),a.css("left",r.mapX+"%"),a.css("top",r.mapY+"%"),r.formChanged()}),this.signUpLocationInput.val("Click on the map!"),this.signUpLocationInput.prop("disabled",!0)}this.signUpForm.submit(function(t){t.preventDefault();var n=s.signUpNameInput.val(),i=s.signUpDescriptionInput.val(),o=s.signUpLocationInput.val();return n&&0!=n.length&&o&&0!=o.length&&i&&0!=i.length?(s.queue.myRequest?s.queue.updateRequest(n,o,i,s.mapX,s.mapY):s.queue.signUp(n,o,i,s.mapX,s.mapY),s.formHasChanges=!1,s.updateRequestButtons.removeClass("btn-warning"),s.updateRequestButtons.addClass("btn-success"),s.updateRequestButtons.prop("disabled",!0),s.updateRequestButtons.html(e.UPDATE_REQUEST_BUTTON_UP_TO_DATE),!1):(T("You must fill in all the fields."),!1)}),this.signUpButtons=this.signUpForm.find("button.queue-signUpButton"),this.updateRequestButtons=this.signUpForm.find("button.queue-updateRequestButton").prop("disabled",!0).html(e.UPDATE_REQUEST_BUTTON_UP_TO_DATE),this.elem.append(o)}return e.prototype.formChanged=function(){this.queue.myRequest&&(this.formHasChanges=!0,this.updateRequestButtons.removeClass("btn-success"),this.updateRequestButtons.addClass("btn-warning"),this.updateRequestButtons.prop("disabled",!1),this.updateRequestButtons.html(e.UPDATE_REQUEST_BUTTON_UPDATE))},e.prototype.refreshSignInEnabled=function(){var e=q.isUmich()&&this.queue.isOpen&&!this.queue.myRequest;this.signUpButtons.prop("disabled",!e),this.queue.myRequest&&this.updateRequestButtons.show()},e.prototype.queueRefreshed=function(){this.refreshSignInEnabled()},e.prototype.userSignedIn=function(){this.refreshSignInEnabled()},e.prototype.myRequestSet=function(){var e=this.queue.myRequest;this.statusElem.html(""),e&&(this.formHasChanges||(this.signUpNameInput.val(e.name),this.signUpDescriptionInput.val(e.description||""),this.signUpLocationInput.val(e.location||""),this.queue.hasMap()&&(this.mapX=e.mapX,this.mapY=e.mapY,this.signUpPin.css("left",this.mapX+"%"),this.signUpPin.css("top",this.mapY+"%"))),this.statusElem.html("You are at position "+e.index+" in the queue."),e.tag&&this.statusElem.prepend('<span class="label label-info">'+e.tag+"</span> "))},e._name="StudentControls",e.UPDATE_REQUEST_BUTTON_UP_TO_DATE="<span class='glyphicon glyphicon-ok'></span> Request Updated",e.UPDATE_REQUEST_BUTTON_UPDATE="Update Request",o([p.messageResponse()],e.prototype,"queueRefreshed",null),o([p.messageResponse()],e.prototype,"userSignedIn",null),o([p.messageResponse()],e.prototype,"myRequestSet",null),e}(),g=function(){function e(e,t){this.queue=e,this.elem=t,this.elem.append("<p><b>Admin Controls</b></p>");var n=$('<button type="button" class="btn btn-danger adminOnly" data-toggle="modal" data-target="#clearTheQueueDialog">Clear the queue</button>');this.queue.makeActiveOnClick(n),this.elem.append(n),this.elem.append(" ");var s=$('<button type="button" class="btn btn-info adminOnly" data-toggle="modal" data-target="#scheduleDialog">Schedule</button>');this.queue.makeActiveOnClick(s),this.elem.append(s),this.elem.append(" ");var i=$('<button type="button" class="btn btn-info adminOnly" data-toggle="modal" data-target="#manageQueueDialog">Manage Queue</button>');this.queue.makeActiveOnClick(i),this.elem.append(i),this.elem.append(" ");var o=$('<button type="button" class="btn btn-info adminOnly" data-toggle="modal" data-target="#addAnnouncementDialog">Add Announcement</button>');this.queue.makeActiveOnClick(o),this.elem.append(o)}return e._name="AdminControls",e}(),y=function(){function e(e,t,n,s){this.queue=e,this.id=t.id,this.email=t.email,this.index=n,this.isMe=!!t.name,this.elem=s;var i=$('<div class="queue-entryInfo"></div>'),o=t.name?t.name+" ("+t.email+")":"Anonymous Student";this.nameElem=$('<p><span class="glyphicon glyphicon-education"></span></p>').append(" "+o).appendTo(i),t.tag&&t.tag.length>0&&(this.tag=t.tag,this.nameElem.append(' <span class="label label-info">'+this.tag+"</span>")),this.name=t.name,t.location&&t.location.length>0&&(this.locationElem=$('<p><span class="glyphicon glyphicon-map-marker"></span></p>').append(" "+t.location).appendTo(i),this.location=t.location),t.description&&t.description.length>0&&(this.descriptionElem=$('<p><span class="glyphicon glyphicon-question-sign"></span></p>').append(" "+t.description).appendTo(i),this.description=t.description);var a=Date.now()-new Date(1e3*parseInt(t.ts)).getTime(),r=Math.round(a/1e3/60);this.tsElem=$('<p><span class="glyphicon glyphicon-time"></span></p>').append(" "+r+" min").appendTo(i);var u=$('<button type="button" class="btn btn-danger">Remove</button>');this.isMe||u.addClass("adminOnly"),u.on("click",this.queue.removeRequest.bind(this.queue,this)),i.append(u),i.append(" ");var p=$('<button type="button" class="btn btn-warning adminOnly">Message</button>'),c=this;if(p.on("click",function(){$("#sendMessageDialog").modal("show"),d.instance.setSendMessagePostId(c.id)}),i.append(p),this.queue.hasMap()&&void 0!==t.mapX&&void 0!==t.mapY){var l=this.mapX=parseFloat(t.mapX),h=this.mapY=parseFloat(t.mapY),f=$('<div class="adminOnly" style="display:inline-block; vertical-align: top; width: 25%; margin-right: 10px"></div>');this.elem.append(f);var m=$('<div style="position: relative"></div>');this.mapElem=$('<img class="adminOnly queue-entryMap" src="img/'+this.queue.mapImageSrc+'"></img>'),m.append(this.mapElem),this.mapPin=$('<span class="adminOnly queue-locatePin"><span class="glyphicon glyphicon-map-marker" style="position:absolute; left:-1.3ch;top:-0.95em;"></span></span>'),this.mapPin.css("left",l+"%"),this.mapPin.css("top",h+"%"),m.append(this.mapPin),f.append(m)}this.elem.append(i)}return e.prototype.onRemove=function(){this.elem.slideUp(500,function(){$(this).remove()})},e._name="QueueEntry",e}(),b=function(){function e(t){var n=this,s=$("#scheduleDialog");$("#scheduleForm").submit(function(e){return e.preventDefault(),n.update(),s.modal("hide"),!1}),s.on("shown.bs.modal",function(){n.refresh()});var i=$("#schedulePicker"),o=$("<tr></tr>").appendTo(i);o.append('<td style="width:1em; padding-right: 3px;"></td>');for(var a=0;a<24;++a)o.append('<td colspan="2">'+(0===a||12===a?12:a%12)+"</td>");this.unitElems=[];for(var r=["S","M","T","W","T","F","S"],u=0;u<7;++u){var p=[],c=$("<tr></tr>");c.append('<td style="width:1em; text-align: right; padding-right: 3px;">'+r[u]+"</td>");for(var l=0;l<48;++l){var d=$('<td><div class="scheduleUnit"></div></td>').appendTo(c).find(".scheduleUnit");p.push(d)}this.unitElems.push(p),i.append(c)}var h=!1;i.on("mousedown",function(e){return e.preventDefault(),h=!0,!1}),i.on("mouseup",function(){h=!1}),i.on("mouseleave",function(){h=!1}),s.on("hidden.bs.modal",function(){h=!1});var f=function(t){if(h){var n=t.data("scheduleType");t.removeClass("scheduleUnit-"+n);var s=e.sequence[n];t.data("scheduleType",s),t.addClass("scheduleUnit-"+s)}};i.on("mouseover",".scheduleUnit",function(e){return e.preventDefault(),f($(this)),!1}),i.on("mousedown",".scheduleUnit",function(e){return e.preventDefault(),h=!0,f($(this)),!1})}return e.prototype.refresh=function(){var e=this,t=d.instance.activeQueue();if(t)return $.ajax({type:"GET",url:"api/schedule/"+t.queueId,dataType:"json",success:function(t){for(var n=t,s=0;s<7;++s)for(var i=0;i<48;++i){var o=e.unitElems[s][i];o.removeClass(),o.addClass("scheduleUnit"),o.addClass("scheduleUnit-"+n[s].charAt(i)),o.data("scheduleType",n[s].charAt(i))}},error:x})},e.prototype.update=function(){if(d.instance.activeQueue()){for(var e=[],t=0;t<7;++t)e.push(this.unitElems[t].map(function(e){return e.data("scheduleType")}).join(""));var n=d.instance.activeQueue();return n?$.ajax({type:"POST",url:"api/updateSchedule",data:{idtoken:q.idToken(),queueId:n.queueId,schedule:e},success:function(){console.log("schedule updated")},error:x}):void 0}},e.sequence={o:"c",c:"p",p:"o"},e}();t.Schedule=b;var q,E=function(){function e(){var e=this,t=($("#manageQueueDialog"),$("#groupsForm"));t.submit(function(e){e.preventDefault();var n=new FormData(t[0]),s=d.instance.activeQueue();return s&&s.updateGroups(n),!1}),$("#policiesForm").submit(function(t){return t.preventDefault(),e.update(),!1}),this.updateConfigurationButton=$("#updateConfigurationButton"),$("#preventUnregisteredCheckbox").change(this.unsavedChanges.bind(this)),$("#preventGroupsCheckbox").change(this.unsavedChanges.bind(this)),$("#prioritizeNewCheckbox").change(this.unsavedChanges.bind(this)),$("#preventGroupsBoostCheckbox").change(this.unsavedChanges.bind(this)),d.instance.observable.addListener(this),this.refresh()}return e.prototype.refresh=function(){var e=d.instance.activeQueue();if(e&&e.isAdmin)return $("#checkQueueRosterLink").attr("href","api/roster/"+e.queueId),$("#checkQueueGroupsLink").attr("href","api/groups/"+e.queueId),$.ajax({type:"GET",url:"api/queueConfiguration/"+e.queueId,dataType:"json",success:this.refreshResponse.bind(this),error:x})},e.prototype.refreshResponse=function(e){console.log(JSON.stringify(e)),$("#preventUnregisteredCheckbox").prop("checked","y"===e.preventUnregistered),$("#preventGroupsCheckbox").prop("checked","y"===e.preventGroups),$("#prioritizeNewCheckbox").prop("checked","y"===e.prioritizeNew),$("#preventGroupsBoostCheckbox").prop("checked","y"===e.preventGroupsBoost),this.changesUpToDate()},e.prototype.update=function(){var e=d.instance.activeQueue();e&&e.updateConfiguration({preventUnregistered:$("#preventUnregisteredCheckbox").is(":checked")?"y":"n",preventGroups:$("#preventGroupsCheckbox").is(":checked")?"y":"n",prioritizeNew:$("#prioritizeNewCheckbox").is(":checked")?"y":"n",preventGroupsBoost:$("#preventGroupsBoostCheckbox").is(":checked")?"y":"n"}).done(this.changesUpToDate.bind(this))},e.prototype.unsavedChanges=function(){this.updateConfigurationButton.html(e.POLICIES_UNSAVED).prop("disabled",!1).removeClass("btn-success").addClass("btn-warning")},e.prototype.changesUpToDate=function(){this.updateConfigurationButton.html(e.POLICIES_UP_TO_DATE).prop("disabled",!0).removeClass("btn-warning").addClass("btn-success")},e.POLICIES_UP_TO_DATE='<span><span class="glyphicon glyphicon-floppy-saved"></span> Saved</span>',e.POLICIES_UNSAVED='<span><span class="glyphicon glyphicon-floppy-open"></span> Update Configuration</span>',o([p.messageResponse("activeQueueSet")],e.prototype,"refresh",null),e}();if(t.ManageQueueDialog=E,function(e){e.signIn=function(t,s){var i=new n(t,s),o=$("#accountMessage");i.isUmich()?(o.empty(),o.hide()):(o.show(),o.html("Hi "+i.email+"! Please <a>sign out</a> and switch to an @umich.edu account to use the queue."),o.find("a").click(function(){gapi.auth2.getAuthInstance().disconnect().then(function(){e.signOut(),o.hide()})}),$(".openSignUpDialogButton").prop("disabled",!0))},e.signOut=function(){$("#accountMessage").hide(),o&&o.onSignOut(),new s},e.idToken=function(){return o.idToken()},e.isUmich=function(){return o.isUmich()},e.isCourseAdmin=function(e){return o.isCourseAdmin(e)},e.isMe=function(e){return o.isMe(e)};var t=function(){function e(){}return e.prototype.onSignOut=function(){},e.prototype.onFinishSigningIn=function(){o=this,d.instance&&d.instance.userSignedIn()},e._name="UserBase",e}(),n=function(e){function t(t,n){var s=e.call(this)||this;return s.admins={},s.email=t,s._idToken=n,$.ajax({type:"POST",url:"api/login",data:{idtoken:s.idToken()},success:function(e){s.checkAdmin()},error:x}),s}return i(t,e),t.prototype.isUmich=function(){return l.default(this.email,"@umich.edu")},t.prototype.isMe=function(e){return this.email===e},t.prototype.idToken=function(){return this._idToken},t.prototype.checkAdmin=function(){var e=this;$.ajax({type:"POST",url:"api/adminCourses",data:{idtoken:this.idToken()},dataType:"json",success:function(t){for(var n=0;n<t.length;++n)e.admins[t[n].courseId]=!0;t.length>0?(setInterval(function(){d.instance.refreshActiveQueue()},5e3),Notification&&Notification.requestPermission()):setInterval(function(){d.instance.refreshActiveQueue()},6e4),e.onFinishSigningIn()},error:x})},t.prototype.isCourseAdmin=function(e){return this.admins[e]},t}(t),s=function(e){function t(){var t=e.call(this)||this;return t.onFinishSigningIn(),setInterval(function(){d.instance.refreshActiveQueue()},6e4),t}return i(t,e),t.prototype.isUmich=function(){return!1},t.prototype.idToken=function(){return""},t.prototype.isCourseAdmin=function(e){return!1},t.prototype.isMe=function(e){return!1},t}(t),o=new s}(q=t.User||(t.User={})),"object"==typeof sessionStorage)try{sessionStorage.setItem("localStorage","1"),sessionStorage.removeItem("localStorage")}catch(e){x(null,"It looks like local storage is disabled in your browser. This may aggravate an issue with Google sign-in on Safari or iOS while using private browsing mode.")}function x(e,t){"abort"!==t&&(console.log("Oops. An error occurred. Try refreshing the page."),$("#oopsDialog").modal("show"))}function T(e){console.log(e),$("#errorMessage").html(e),$("#errorDialog").modal("show")}},function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(12));function o(e,t){var n=e._act[t.category];n?n.call(e,t):e._act._default?e._act._default.call(e,t):assert(!1)}t.addListener=function(e,t,n){e.observable.addListener(t,n)},t.messageResponse=function(e){return function(t,n,s){t._act||(t._act={}),t._act[e||n]=t[n]}};var a=function(){function e(e){this.silent=!1,this.universalObservers=[],this.observers={},this.source=e}return e.prototype.send=function(e,t){if(!this.silent){var n={category:e,data:t,source:this.source},s=this.observers[n.category];if(s)for(var i=0;i<s.length;++i)o(s[i],n);for(i=0;i<this.universalObservers.length;++i)o(this.universalObservers[i],n)}},e.prototype.addListener=function(e,t){if(t)if(Array.isArray(t))for(var n=0;n<t.length;++n)this.addListener(e,t[n]);else this.observers[t]||(this.observers[t]=[]),this.observers[t].push(e),this.listenerAdded(e,t);else this.universalObservers.push(e),this.listenerAdded(e);return this},e.prototype.removeListener=function(e,t){if(t){var n=this.observers[t];n&&i.default(n,e),this.listenerRemoved(e,t)}else{for(var s in this.observers)this.removeListener(e,s);i.default(this.universalObservers,e),this.listenerRemoved(e)}return this},e.prototype.listenerAdded=function(e,t){},e.prototype.listenerRemoved=function(e,t){},e}();t.Observable=a},function(e,t,n){var s=n(13)(n(32));e.exports=s},function(e,t,n){var s=n(2),i=n(14),o=n(16);e.exports=function(e,t){return o(i(e,t,s),e+"")}},function(e,t,n){var s=n(15),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,r=i(o.length-t,0),u=Array(r);++a<r;)u[a]=o[t+a];a=-1;for(var p=Array(t+1);++a<t;)p[a]=o[a];return p[t]=n(u),s(e,this,p)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var s=n(17),i=n(31)(s);e.exports=i},function(e,t,n){var s=n(18),i=n(19),o=n(2),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:s(t),writable:!0})}:o;e.exports=a},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t,n){var s=n(20),i=function(){try{var e=s(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,n){var s=n(21),i=n(30);e.exports=function(e,t){var n=i(e,t);return s(n)?n:void 0}},function(e,t,n){var s=n(22),i=n(27),o=n(1),a=n(29),r=/^\[object .+?Constructor\]$/,u=Function.prototype,p=Object.prototype,c=u.toString,l=p.hasOwnProperty,d=RegExp("^"+c.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(s(e)?d:r).test(a(e))}},function(e,t,n){var s=n(3),i=n(1),o="[object AsyncFunction]",a="[object Function]",r="[object GeneratorFunction]",u="[object Proxy]";e.exports=function(e){if(!i(e))return!1;var t=s(e);return t==a||t==r||t==o||t==u}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(24))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var s=n(0),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,r=s?s.toStringTag:void 0;e.exports=function(e){var t=o.call(e,r),n=e[r];try{e[r]=void 0;var s=!0}catch(e){}var i=a.call(e);return s&&(t?e[r]=n:delete e[r]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var s,i=n(28),o=(s=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+s:"";e.exports=function(e){return!!o&&o in e}},function(e,t,n){var s=n(4)["__core-js_shared__"];e.exports=s},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t){var n=800,s=16,i=Date.now;e.exports=function(e){var t=0,o=0;return function(){var a=i(),r=s-(a-o);if(o=a,r>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var s=n(33);e.exports=function(e,t){return e&&e.length&&t&&t.length?s(e,t):e}},function(e,t,n){var s=n(5),i=n(34),o=n(38),a=n(39),r=n(40),u=Array.prototype.splice;e.exports=function(e,t,n,p){var c=p?o:i,l=-1,d=t.length,h=e;for(e===t&&(t=r(t)),n&&(h=s(e,a(n)));++l<d;)for(var f=0,m=t[l],v=n?n(m):m;(f=c(h,v,f,p))>-1;)h!==e&&u.call(h,f,1),u.call(e,f,1);return e}},function(e,t,n){var s=n(35),i=n(36),o=n(37);e.exports=function(e,t,n){return t==t?o(e,t,n):s(e,i,n)}},function(e,t){e.exports=function(e,t,n,s){for(var i=e.length,o=n+(s?1:-1);s?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,n){for(var s=n-1,i=e.length;++s<i;)if(e[s]===t)return s;return-1}},function(e,t){e.exports=function(e,t,n,s){for(var i=n-1,o=e.length;++i<o;)if(s(e[i],t))return i;return-1}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t){e.exports=function(e,t){var n=-1,s=e.length;for(t||(t=Array(s));++n<s;)t[n]=e[n];return t}},function(e,t,n){var s=n(42),i=n(6),o=/[&<>"']/g,a=RegExp(o.source);e.exports=function(e){return(e=i(e))&&a.test(e)?e.replace(o,s):e}},function(e,t,n){var s=n(43)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=s},function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var s=n(47),i=n(7),o=n(48),a=n(6);e.exports=function(e,t,n){e=a(e),t=i(t);var r=e.length,u=n=void 0===n?r:s(o(n),0,r);return(n-=t.length)>=0&&e.slice(n,u)==t}},function(e,t){e.exports=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}},function(e,t,n){var s=n(49);e.exports=function(e){var t=s(e),n=t%1;return t==t?n?t-n:t:0}},function(e,t,n){var s=n(50),i=1/0,o=1.7976931348623157e308;e.exports=function(e){return e?(e=s(e))===i||e===-i?(e<0?-1:1)*o:e==e?e:0:0===e?e:0}},function(e,t,n){var s=n(1),i=n(8),o=NaN,a=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,p=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return o;if(s(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=s(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=u.test(e);return n||p.test(e)?c(e.slice(2),n?2:8):r.test(e)?o:+e}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9CdW5kbGUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fU3ltYm9sLmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNPYmplY3QuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pZGVudGl0eS5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlR2V0VGFnLmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3Jvb3QuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYXJyYXlNYXAuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC90b1N0cmluZy5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlVG9TdHJpbmcuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc1N5bWJvbC5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9zcmMvanMvbWFpbi50cyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9zcmMvanMvcXVldWUudHMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vc3JjL2pzL3V0aWwvbWl4aW5zLnRzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvcHVsbC5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlUmVzdC5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19vdmVyUmVzdC5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19hcHBseS5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19zZXRUb1N0cmluZy5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlU2V0VG9TdHJpbmcuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9jb25zdGFudC5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19kZWZpbmVQcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXROYXRpdmUuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUlzTmF0aXZlLmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNGdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19mcmVlR2xvYmFsLmpzIiwid2VicGFjazovL0J1bmRsZS8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZ2V0UmF3VGFnLmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX29iamVjdFRvU3RyaW5nLmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2lzTWFza2VkLmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2NvcmVKc0RhdGEuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fdG9Tb3VyY2UuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZ2V0VmFsdWUuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fc2hvcnRPdXQuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9wdWxsQWxsLmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VQdWxsQWxsLmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VJbmRleE9mLmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VGaW5kSW5kZXguanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUlzTmFOLmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3N0cmljdEluZGV4T2YuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUluZGV4T2ZXaXRoLmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VVbmFyeS5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19jb3B5QXJyYXkuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9lc2NhcGUuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZXNjYXBlSHRtbENoYXIuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZVByb3BlcnR5T2YuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc0FycmF5LmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNPYmplY3RMaWtlLmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvZW5kc1dpdGguanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUNsYW1wLmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvdG9JbnRlZ2VyLmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvdG9GaW5pdGUuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC90b051bWJlci5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInR5cGUiLCJnZXRSYXdUYWciLCJvYmplY3RUb1N0cmluZyIsIm51bGxUYWciLCJ1bmRlZmluZWRUYWciLCJzeW1Ub1N0cmluZ1RhZyIsInVuZGVmaW5lZCIsImZyZWVHbG9iYWwiLCJmcmVlU2VsZiIsInNlbGYiLCJyb290IiwiRnVuY3Rpb24iLCJhcnJheSIsIml0ZXJhdGVlIiwiaW5kZXgiLCJsZW5ndGgiLCJyZXN1bHQiLCJBcnJheSIsImJhc2VUb1N0cmluZyIsImFycmF5TWFwIiwiaXNBcnJheSIsImlzU3ltYm9sIiwiSU5GSU5JVFkiLCJzeW1ib2xQcm90byIsInN5bWJvbFRvU3RyaW5nIiwidG9TdHJpbmciLCJiYXNlR2V0VGFnIiwiaXNPYmplY3RMaWtlIiwic3ltYm9sVGFnIiwicXVldWVfMSIsIm9uU2lnbkluIiwiZ29vZ2xlVXNlciIsInByb2ZpbGUiLCJnZXRCYXNpY1Byb2ZpbGUiLCJVc2VyIiwic2lnbkluIiwiZ2V0RW1haWwiLCJnZXRBdXRoUmVzcG9uc2UiLCJpZF90b2tlbiIsIiQiLCJkb2N1bWVudCIsInJlYWR5IiwiUXVldWVBcHBsaWNhdGlvbiIsImNyZWF0ZUluc3RhbmNlIiwiY2xlYXJJbnB1dCIsImNsZWFyVGhlUXVldWVEaWFsb2ciLCJvbiIsImZvY3VzIiwidmFsIiwiZSIsInRoaXMiLCJtb2RhbCIsImFxIiwiaW5zdGFuY2UiLCJhY3RpdmVRdWV1ZSIsImNsZWFyIiwic2lnblVwRGlhbG9nIiwiZmluZCIsInNlbmRNZXNzYWdlRGlhbG9nIiwic3VibWl0IiwicHJldmVudERlZmF1bHQiLCJjb250ZW50Iiwic2VuZE1lc3NhZ2UiLCJhbGVydCIsImFkZEFubm91bmNlbWVudERpYWxvZyIsImFkZEFubm91bmNlbWVudCIsIlNjaGVkdWxlIiwiTWFuYWdlUXVldWVEaWFsb2ciLCJzZXR1cERpYWxvZ3MiLCJjb25zb2xlIiwibG9nIiwibWl4aW5zXzEiLCJlc2NhcGVfMSIsIl9faW1wb3J0RGVmYXVsdCIsImVuZHNXaXRoXzEiLCJlbGVtIiwiY291cnNlcyIsIm1lc3NhZ2VzU2hvd24iLCJvYnNlcnZhYmxlIiwiT2JzZXJ2YWJsZSIsImNvdXJzZVBpbGxzIiwiY291cnNlUGFuZXMiLCJsb2FkQ291cnNlcyIsImdldEpTT04iLCJsaXN0IiwiX2EiLCJzZW50Iiwib25Db3Vyc2VzTG9hZCIsIm9vcHMiLCJlXzEiLCJfdGhpcyIsImVtcHR5IiwiYXBwZW5kIiwiZm9yRWFjaCIsImNvdXJzZURhdGEiLCJkZWZhdWx0IiwiY291cnNlSWQiLCJwaWxsRWxlbSIsImNvdXJzZUVsZW0iLCJjb3Vyc2UiLCJDb3Vyc2UiLCJwdXNoIiwiY2xpY2siLCJtYWtlQWN0aXZlIiwic2V0QWN0aXZlUXVldWUiLCJxdWV1ZSIsIl9hY3RpdmVRdWV1ZSIsInF1ZXVlSWQiLCJ1cGRhdGVTaWduVXBGb3JtIiwic2VuZCIsImhhc01hcCIsInNob3ciLCJhdHRyIiwibWFwSW1hZ2VTcmMiLCJoaWRlIiwidXNlclNpZ25lZEluIiwicmVmcmVzaEFjdGl2ZVF1ZXVlIiwicmVmcmVzaCIsInJlZnJlc2hDb250ZW50IiwibWVzc2FnZSIsImlkIiwiaHRtbCIsInNldFNlbmRNZXNzYWdlUG9zdElkIiwic2VuZE1lc3NhZ2VQb3N0SWQiLCJhamF4IiwidXJsIiwiZGF0YSIsImlkdG9rZW4iLCJpZFRva2VuIiwic3VjY2VzcyIsImVycm9yIiwidGl0bGUiLCJzaG9ydE5hbWUiLCJudW1FbnRyaWVzIiwibm90aWZ5IiwiTm90aWZpY2F0aW9uIiwicGVybWlzc2lvbiIsInJlcXVlc3RQZXJtaXNzaW9uIiwiYm9keSIsIl9uYW1lIiwiaXNBZG1pbiIsInF1ZXVlcyIsImZ1bGxOYW1lIiwicXVldWVQaWxsc0VsZW0iLCJwaWNrQVF1ZXVlRWxlbSIsIm1haW5FbGVtIiwicXVldWVQYW5lc0VsZW0iLCJjb250ZW50RWxlbSIsImxvYWRDb250ZW50IiwibG9hZFF1ZXVlcyIsImxvYWQiLCJkYXRhVHlwZSIsIm9uUXVldWVzTG9hZCIsIml0ZW0iLCJwcm9wIiwicXVldWVFbGVtIiwiYWRkQ2xhc3MiLCJRdWV1ZSIsImNoaWxkcmVuIiwiZmlyc3QiLCJzZXRBZG1pbiIsImlzQ291cnNlQWRtaW4iLCJyZW1vdmVDbGFzcyIsIkFubm91bmNlbWVudCIsInBhbmVsQm9keSIsInRzIiwiYXBwZW5kVG8iLCJjb25maXJtIiwicmVtb3ZlIiwibGFzdFJlZnJlc2giLCJEYXRlIiwiaXNPcGVuIiwibXlSZXF1ZXN0IiwicmVmcmVzaERpc2FibGVkIiwiY3VycmVudFJlZnJlc2hJbmRleCIsImxvY2F0aW9uIiwiYW5ub3VuY2VtZW50Q29udGFpbmVyRWxlbSIsInN0YXR1c0VsZW0iLCJudW1FbnRyaWVzRWxlbSIsImxhc3RSZWZyZXNoRWxlbSIsInN0YXR1c01lc3NhZ2VFbGVtIiwiYWRtaW5TdGF0dXNFbGVtIiwiYWRtaW5Db250cm9sc0VsZW0iLCJhZG1pbkNvbnRyb2xzIiwiQWRtaW5Db250cm9scyIsInN0dWRlbnRDb250cm9sc0VsZW0iLCJzdHVkZW50Q29udHJvbHMiLCJTdHVkZW50Q29udHJvbHMiLCJhZGRMaXN0ZW5lciIsInN0YWNrRWxlbSIsInRvb2x0aXAiLCJtYWtlQWN0aXZlT25DbGljayIsIm15UmVmcmVzaEluZGV4IiwicmVmcmVzaFJlc3BvbnNlIiwiYW5ub3VuY2VtZW50c0RhdGEiLCJhRGF0YSIsImFubm91bmNlbWVudEVsZW0iLCJzY2hlZHVsZSIsIm5leHRPcGVuIiwic2NoZWR1bGVUeXBlIiwiY2hhckF0Iiwic2V0SG91cnMiLCJzZXRNaW51dGVzIiwic2V0U2Vjb25kcyIsIm5ld0RhdGUiLCJnZXRUaW1lIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwicXVldWVFbnRyaWVzIiwiaXRlbUVsZW0iLCJlbnRyeSIsIlF1ZXVlRW50cnkiLCJpc01lIiwiZW1haWwiLCJzZXRNeVJlcXVlc3QiLCJKU09OIiwic3RyaW5naWZ5Iiwib2xkTnVtRW50cmllcyIsInJlbW92ZVJlcXVlc3QiLCJyZXF1ZXN0IiwiZGlzYWJsZVJlZnJlc2giLCJvblJlbW92ZSIsImFsd2F5cyIsInNldFRpbWVvdXQiLCJlbmFibGVSZWZyZXNoIiwiY2FuY2VsSW5jb21pbmdSZWZyZXNoIiwiY2xlYXJMaXN0Iiwic2xpZGVVcCIsInNpZ25VcCIsImRlc2NyaXB0aW9uIiwibWFwWCIsIm1hcFkiLCJzaG93RXJyb3JNZXNzYWdlIiwidXBkYXRlUmVxdWVzdCIsIm9sZEFkbWluIiwidXBkYXRlR3JvdXBzIiwiZm9ybURhdGEiLCJjYWNoZSIsImNvbnRlbnRUeXBlIiwicHJvY2Vzc0RhdGEiLCJ1cGRhdGVDb25maWd1cmF0aW9uIiwib3B0aW9ucyIsImZvcm1IYXNDaGFuZ2VzIiwicmVndWxhckZvcm1FbGVtIiwiY29udGFpbmVyRWxlbSIsInNpZ25VcEZvcm0iLCJzaWduVXBOYW1lSW5wdXQiLCJzaWduVXBEZXNjcmlwdGlvbklucHV0Iiwic2lnblVwTG9jYXRpb25JbnB1dCIsImZvcm1DaGFuZ2VkIiwiY3NzIiwibWFwSG9sZGVyIiwic2lnblVwTWFwIiwic2lnblVwUGluIiwicGluIiwic2VsZl8xIiwiTWF0aCIsInRydW5jIiwicGFnZVgiLCJvZmZzZXQiLCJsZWZ0Iiwid2lkdGgiLCJwYWdlWSIsInRvcCIsImhlaWdodCIsInNpZ25VcE5hbWUiLCJzaWduVXBEZXNjcmlwdGlvbiIsInNpZ25VcExvY2F0aW9uIiwidXBkYXRlUmVxdWVzdEJ1dHRvbnMiLCJVUERBVEVfUkVRVUVTVF9CVVRUT05fVVBfVE9fREFURSIsInNpZ25VcEJ1dHRvbnMiLCJVUERBVEVfUkVRVUVTVF9CVVRUT05fVVBEQVRFIiwicmVmcmVzaFNpZ25JbkVuYWJsZWQiLCJpc0VuYWJsZWQiLCJpc1VtaWNoIiwicXVldWVSZWZyZXNoZWQiLCJteVJlcXVlc3RTZXQiLCJyZXEiLCJ0YWciLCJwcmVwZW5kIiwiX19kZWNvcmF0ZSIsIm1lc3NhZ2VSZXNwb25zZSIsImNsZWFyUXVldWVCdXR0b24iLCJvcGVuU2NoZWR1bGVEaWFsb2dCdXR0b24iLCJvcGVuTWFuYWdlUXVldWVEaWFsb2dCdXR0b24iLCJvcGVuQWRkQW5ub3VuY2VtZW50RGlhbG9nQnV0dG9uIiwiaW5mb0VsZW0iLCJuYW1lRWxlbSIsImxvY2F0aW9uRWxlbSIsImRlc2NyaXB0aW9uRWxlbSIsInRpbWVXYWl0aW5nIiwibm93IiwicGFyc2VJbnQiLCJtaW51dGVzV2FpdGluZyIsInJvdW5kIiwidHNFbGVtIiwicmVtb3ZlQnV0dG9uIiwic2VuZE1lc3NhZ2VCdXR0b24iLCJwYXJzZUZsb2F0IiwibWFwRWxlbSIsIm1hcFBpbiIsImRpYWxvZyIsInVwZGF0ZSIsInNjaGVkdWxlUGlja2VyIiwiZmlyc3RSb3ciLCJ1bml0RWxlbXMiLCJkYXlMZXR0ZXJzIiwiZGF5Iiwicm93RWxlbSIsInVuaXRFbGVtIiwicHJlc3NlZCIsImNoYW5nZUNvbG9yIiwiY3VycmVudFR5cGUiLCJuZXh0VHlwZSIsInNlcXVlbmNlIiwibWFwIiwiam9pbiIsImdyb3Vwc0Zvcm0iLCJGb3JtRGF0YSIsInVwZGF0ZUNvbmZpZ3VyYXRpb25CdXR0b24iLCJjaGFuZ2UiLCJ1bnNhdmVkQ2hhbmdlcyIsImNoYW5nZXNVcFRvRGF0ZSIsInByZXZlbnRVbnJlZ2lzdGVyZWQiLCJpcyIsInByZXZlbnRHcm91cHMiLCJwcmlvcml0aXplTmV3IiwicHJldmVudEdyb3Vwc0Jvb3N0IiwiZG9uZSIsIlBPTElDSUVTX1VOU0FWRUQiLCJQT0xJQ0lFU19VUF9UT19EQVRFIiwibmV3VXNlciIsIkF1dGhlbnRpY2F0ZWRVc2VyIiwiYWNjb3VudE1lc3NhZ2VFbGVtIiwiZ2FwaSIsImF1dGgyIiwiZ2V0QXV0aEluc3RhbmNlIiwiZGlzY29ubmVjdCIsInRoZW4iLCJzaWduT3V0IiwidGhlVXNlciIsIm9uU2lnbk91dCIsIlVuYXV0aGVudGljYXRlZFVzZXIiLCJVc2VyQmFzZSIsIm9uRmluaXNoU2lnbmluZ0luIiwiX3N1cGVyIiwiYWRtaW5zIiwiX2lkVG9rZW4iLCJjaGVja0FkbWluIiwiX19leHRlbmRzIiwic2V0SW50ZXJ2YWwiLCJzZXNzaW9uU3RvcmFnZSIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwieGhyIiwidGV4dFN0YXR1cyIsInB1bGxfMSIsInJlY2VpdmVNZXNzYWdlIiwib2JzZXJ2ZXIiLCJtc2ciLCJjYXRBY3QiLCJfYWN0IiwiY2F0ZWdvcnkiLCJfZGVmYXVsdCIsImFzc2VydCIsIm9ialdpdGhPYnNlcnZhYmxlIiwibGlzdGVuZXIiLCJtZXNzYWdlQ2F0ZWdvcnkiLCJ0YXJnZXQiLCJwcm9wZXJ0eUtleSIsImRlc2NyaXB0b3IiLCJzb3VyY2UiLCJzaWxlbnQiLCJ1bml2ZXJzYWxPYnNlcnZlcnMiLCJvYnNlcnZlcnMiLCJsaXN0ZW5lckFkZGVkIiwicmVtb3ZlTGlzdGVuZXIiLCJsaXN0ZW5lclJlbW92ZWQiLCJjYXQiLCJwdWxsIiwiYmFzZVJlc3QiLCJpZGVudGl0eSIsIm92ZXJSZXN0Iiwic2V0VG9TdHJpbmciLCJmdW5jIiwic3RhcnQiLCJhcHBseSIsIm5hdGl2ZU1heCIsIm1heCIsInRyYW5zZm9ybSIsImFyZ3MiLCJhcmd1bWVudHMiLCJvdGhlckFyZ3MiLCJ0aGlzQXJnIiwiYmFzZVNldFRvU3RyaW5nIiwic2hvcnRPdXQiLCJjb25zdGFudCIsInN0cmluZyIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiZ2V0TmF0aXZlIiwiYmFzZUlzTmF0aXZlIiwiZ2V0VmFsdWUiLCJpc0Z1bmN0aW9uIiwiaXNNYXNrZWQiLCJpc09iamVjdCIsInRvU291cmNlIiwicmVJc0hvc3RDdG9yIiwiZnVuY1Byb3RvIiwib2JqZWN0UHJvdG8iLCJmdW5jVG9TdHJpbmciLCJyZUlzTmF0aXZlIiwiUmVnRXhwIiwicmVwbGFjZSIsInRlc3QiLCJhc3luY1RhZyIsImZ1bmNUYWciLCJnZW5UYWciLCJwcm94eVRhZyIsImdsb2JhbCIsImciLCJ3aW5kb3ciLCJuYXRpdmVPYmplY3RUb1N0cmluZyIsImlzT3duIiwidW5tYXNrZWQiLCJ1aWQiLCJjb3JlSnNEYXRhIiwibWFza1NyY0tleSIsImV4ZWMiLCJrZXlzIiwiSUVfUFJPVE8iLCJIT1RfQ09VTlQiLCJIT1RfU1BBTiIsIm5hdGl2ZU5vdyIsImNvdW50IiwibGFzdENhbGxlZCIsInN0YW1wIiwicmVtYWluaW5nIiwiYmFzZVB1bGxBbGwiLCJ2YWx1ZXMiLCJiYXNlSW5kZXhPZiIsImJhc2VJbmRleE9mV2l0aCIsImJhc2VVbmFyeSIsImNvcHlBcnJheSIsInNwbGljZSIsImNvbXBhcmF0b3IiLCJpbmRleE9mIiwic2VlbiIsImZyb21JbmRleCIsImNvbXB1dGVkIiwiYmFzZUZpbmRJbmRleCIsImJhc2VJc05hTiIsInN0cmljdEluZGV4T2YiLCJwcmVkaWNhdGUiLCJmcm9tUmlnaHQiLCJlc2NhcGVIdG1sQ2hhciIsInJlVW5lc2NhcGVkSHRtbCIsInJlSGFzVW5lc2NhcGVkSHRtbCIsImJhc2VQcm9wZXJ0eU9mIiwiJiIsIjwiLCI+IiwiXCIiLCInIiwiYmFzZUNsYW1wIiwidG9JbnRlZ2VyIiwicG9zaXRpb24iLCJlbmQiLCJzbGljZSIsIm51bWJlciIsImxvd2VyIiwidXBwZXIiLCJ0b0Zpbml0ZSIsInJlbWFpbmRlciIsInRvTnVtYmVyIiwiTUFYX0lOVEVHRVIiLCJOQU4iLCJyZVRyaW0iLCJyZUlzQmFkSGV4IiwicmVJc0JpbmFyeSIsInJlSXNPY3RhbCIsImZyZWVQYXJzZUludCIsIm90aGVyIiwidmFsdWVPZiIsImlzQmluYXJ5Il0sIm1hcHBpbmdzIjoidUJBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQTBEQSxPQXJEQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxFQUFBLENBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxZQUFBLENBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFBLFNBQUFELEVBQUFFLEdBRUEsR0FEQSxFQUFBQSxJQUFBRixFQUFBckIsRUFBQXFCLElBQ0EsRUFBQUUsRUFBQSxPQUFBRixFQUNBLEtBQUFFLEdBQUEsaUJBQUFGLFFBQUFHLFdBQUEsT0FBQUgsRUFDQSxJQUFBSSxFQUFBWCxPQUFBWSxPQUFBLE1BR0EsR0FGQTFCLEVBQUFrQixFQUFBTyxHQUNBWCxPQUFBQyxlQUFBVSxFQUFBLFdBQXlDVCxZQUFBLEVBQUFLLFVBQ3pDLEVBQUFFLEdBQUEsaUJBQUFGLEVBQUEsUUFBQU0sS0FBQU4sRUFBQXJCLEVBQUFVLEVBQUFlLEVBQUFFLEVBQUEsU0FBQUEsR0FBZ0gs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QUEsS0FBQXdjLEVBQUF4YyxFQUFBd2MsRUFBQXhjLEVBQUEsb0JDaENBLElBQUF5YyxFQUFlN2YsRUFBUSxJQUd2QjBELEVBQUEsSUFDQW9jLEVBQUEsdUJBcUNBM2YsRUFBQUQsUUFaQSxTQUFBbUIsR0FDQSxPQUFBQSxHQUdBQSxFQUFBd2UsRUFBQXhlLE1BQ0FxQyxHQUFBckMsS0FBQXFDLEdBQ0FyQyxFQUFBLFFBQ0F5ZSxFQUVBemUsT0FBQSxFQVBBLElBQUFBLElBQUEsb0JDL0JBLElBQUFtYSxFQUFleGIsRUFBUSxHQUN2QnlELEVBQWV6RCxFQUFRLEdBR3ZCK2YsRUFBQSxJQUdBQyxFQUFBLGFBR0FDLEVBQUEscUJBR0FDLEVBQUEsYUFHQUMsRUFBQSxjQUdBQyxFQUFBN0wsU0E4Q0FwVSxFQUFBRCxRQXJCQSxTQUFBbUIsR0FDQSxvQkFBQUEsRUFDQSxPQUFBQSxFQUVBLEdBQUFvQyxFQUFBcEMsR0FDQSxPQUFBMGUsRUFFQSxHQUFBdkUsRUFBQW5hLEdBQUEsQ0FDQSxJQUFBZ2YsRUFBQSxtQkFBQWhmLEVBQUFpZixRQUFBamYsRUFBQWlmLFVBQUFqZixFQUNBQSxFQUFBbWEsRUFBQTZFLEtBQUEsR0FBQUEsRUFFQSxvQkFBQWhmLEVBQ0EsV0FBQUEsT0FFQUEsSUFBQTJhLFFBQUFnRSxFQUFBLElBQ0EsSUFBQU8sRUFBQUwsRUFBQWpFLEtBQUE1YSxHQUNBLE9BQUFrZixHQUFBSixFQUFBbEUsS0FBQTVhLEdBQ0ErZSxFQUFBL2UsRUFBQWtlLE1BQUEsR0FBQWdCLEVBQUEsS0FDQU4sRUFBQWhFLEtBQUE1YSxHQUFBMGUsR0FBQTFlIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA5KTtcbiIsInZhciByb290ID0gcmVxdWlyZSgnLi9fcm9vdCcpO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBTeW1ib2wgPSByb290LlN5bWJvbDtcblxubW9kdWxlLmV4cG9ydHMgPSBTeW1ib2w7XG4iLCIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc09iamVjdDtcbiIsIi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZmlyc3QgYXJndW1lbnQgaXQgcmVjZWl2ZXMuXG4gKlxuICogQHN0YXRpY1xuICogQHNpbmNlIDAuMS4wXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IFV0aWxcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgQW55IHZhbHVlLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKlxuICogY29uc29sZS5sb2coXy5pZGVudGl0eShvYmplY3QpID09PSBvYmplY3QpO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBpZGVudGl0eSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaWRlbnRpdHk7XG4iLCJ2YXIgU3ltYm9sID0gcmVxdWlyZSgnLi9fU3ltYm9sJyksXG4gICAgZ2V0UmF3VGFnID0gcmVxdWlyZSgnLi9fZ2V0UmF3VGFnJyksXG4gICAgb2JqZWN0VG9TdHJpbmcgPSByZXF1aXJlKCcuL19vYmplY3RUb1N0cmluZycpO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgbnVsbFRhZyA9ICdbb2JqZWN0IE51bGxdJyxcbiAgICB1bmRlZmluZWRUYWcgPSAnW29iamVjdCBVbmRlZmluZWRdJztcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldFRhZ2Agd2l0aG91dCBmYWxsYmFja3MgZm9yIGJ1Z2d5IGVudmlyb25tZW50cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBiYXNlR2V0VGFnKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWRUYWcgOiBudWxsVGFnO1xuICB9XG4gIHJldHVybiAoc3ltVG9TdHJpbmdUYWcgJiYgc3ltVG9TdHJpbmdUYWcgaW4gT2JqZWN0KHZhbHVlKSlcbiAgICA/IGdldFJhd1RhZyh2YWx1ZSlcbiAgICA6IG9iamVjdFRvU3RyaW5nKHZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlR2V0VGFnO1xuIiwidmFyIGZyZWVHbG9iYWwgPSByZXF1aXJlKCcuL19mcmVlR2xvYmFsJyk7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxubW9kdWxlLmV4cG9ydHMgPSByb290O1xuIiwiLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubWFwYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcbiAqIHNob3J0aGFuZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGFycmF5TWFwKGFycmF5LCBpdGVyYXRlZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBhcnJheU1hcDtcbiIsInZhciBiYXNlVG9TdHJpbmcgPSByZXF1aXJlKCcuL19iYXNlVG9TdHJpbmcnKTtcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nLiBBbiBlbXB0eSBzdHJpbmcgaXMgcmV0dXJuZWQgZm9yIGBudWxsYFxuICogYW5kIGB1bmRlZmluZWRgIHZhbHVlcy4gVGhlIHNpZ24gb2YgYC0wYCBpcyBwcmVzZXJ2ZWQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRvU3RyaW5nKG51bGwpO1xuICogLy8gPT4gJydcbiAqXG4gKiBfLnRvU3RyaW5nKC0wKTtcbiAqIC8vID0+ICctMCdcbiAqXG4gKiBfLnRvU3RyaW5nKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiAnMSwyLDMnXG4gKi9cbmZ1bmN0aW9uIHRvU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiBiYXNlVG9TdHJpbmcodmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRvU3RyaW5nO1xuIiwidmFyIFN5bWJvbCA9IHJlcXVpcmUoJy4vX1N5bWJvbCcpLFxuICAgIGFycmF5TWFwID0gcmVxdWlyZSgnLi9fYXJyYXlNYXAnKSxcbiAgICBpc0FycmF5ID0gcmVxdWlyZSgnLi9pc0FycmF5JyksXG4gICAgaXNTeW1ib2wgPSByZXF1aXJlKCcuL2lzU3ltYm9sJyk7XG5cbi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIElORklOSVRZID0gMSAvIDA7XG5cbi8qKiBVc2VkIHRvIGNvbnZlcnQgc3ltYm9scyB0byBwcmltaXRpdmVzIGFuZCBzdHJpbmdzLiAqL1xudmFyIHN5bWJvbFByb3RvID0gU3ltYm9sID8gU3ltYm9sLnByb3RvdHlwZSA6IHVuZGVmaW5lZCxcbiAgICBzeW1ib2xUb1N0cmluZyA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udG9TdHJpbmcgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9TdHJpbmdgIHdoaWNoIGRvZXNuJ3QgY29udmVydCBudWxsaXNoXG4gKiB2YWx1ZXMgdG8gZW1wdHkgc3RyaW5ncy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gYmFzZVRvU3RyaW5nKHZhbHVlKSB7XG4gIC8vIEV4aXQgZWFybHkgZm9yIHN0cmluZ3MgdG8gYXZvaWQgYSBwZXJmb3JtYW5jZSBoaXQgaW4gc29tZSBlbnZpcm9ubWVudHMuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgLy8gUmVjdXJzaXZlbHkgY29udmVydCB2YWx1ZXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICByZXR1cm4gYXJyYXlNYXAodmFsdWUsIGJhc2VUb1N0cmluZykgKyAnJztcbiAgfVxuICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIHN5bWJvbFRvU3RyaW5nID8gc3ltYm9sVG9TdHJpbmcuY2FsbCh2YWx1ZSkgOiAnJztcbiAgfVxuICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZVRvU3RyaW5nO1xuIiwidmFyIGJhc2VHZXRUYWcgPSByZXF1aXJlKCcuL19iYXNlR2V0VGFnJyksXG4gICAgaXNPYmplY3RMaWtlID0gcmVxdWlyZSgnLi9pc09iamVjdExpa2UnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N5bWJvbCcgfHxcbiAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzU3ltYm9sO1xuIiwiaW1wb3J0IHtRdWV1ZUFwcGxpY2F0aW9uLCBTY2hlZHVsZSwgTWFuYWdlUXVldWVEaWFsb2csIFVzZXJ9IGZyb20gXCIuL3F1ZXVlXCI7XHJcblxyXG4vLyBpbXBvcnQge2dhcGl9IGZyb20gXCJodHRwczovL2FwaXMuZ29vZ2xlLmNvbS9qcy9wbGF0Zm9ybS5qc1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG9uU2lnbkluKGdvb2dsZVVzZXI6IGdhcGkuYXV0aDIuR29vZ2xlVXNlcikge1xyXG4gICAgdmFyIHByb2ZpbGUgPSBnb29nbGVVc2VyLmdldEJhc2ljUHJvZmlsZSgpO1xyXG4vLyAgICAgICAgY29uc29sZS5sb2coJ05hbWU6ICcgKyBwcm9maWxlLmdldE5hbWUoKSk7XHJcbi8vICAgICAgICBjb25zb2xlLmxvZygnSW1hZ2UgVVJMOiAnICsgcHJvZmlsZS5nZXRJbWFnZVVybCgpKTtcclxuLy8gICAgICAgIGNvbnNvbGUubG9nKCdJRDogJyArIHByb2ZpbGUuZ2V0SWQoKSk7IC8vIERvIG5vdCBzZW5kIHRvIHlvdXIgYmFja2VuZCEgVXNlIGFuIElEIHRva2VuIGluc3RlYWQuXHJcbiAgICBVc2VyLnNpZ25Jbihwcm9maWxlLmdldEVtYWlsKCksIGdvb2dsZVVzZXIuZ2V0QXV0aFJlc3BvbnNlKCkuaWRfdG9rZW4pO1xyXG4vLyAgICAgICAgY29uc29sZS5sb2coZ29vZ2xlVXNlci5nZXRBdXRoUmVzcG9uc2UoKS5leHBpcmVzX2F0KCkpO1xyXG4vLyAgICAgICAgdmFyIGV4cGlyZXNfYXQgPSBnb29nbGVVc2VyLmdldEF1dGhSZXNwb25zZSgpLmV4cGlyZXNfYXQ7XHJcbi8vICAgICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcclxuLy8gICAgICAgIHZhciBub3cyID0gRGF0ZS5ub3coKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0dXBEaWFsb2dzKCkge1xyXG4gICAgdmFyIGNsZWFySW5wdXQgPSAkKFwiI2NsZWFySW5wdXRcIik7XHJcbiAgICB2YXIgY2xlYXJUaGVRdWV1ZURpYWxvZyA9ICQoXCIjY2xlYXJUaGVRdWV1ZURpYWxvZ1wiKTtcclxuICAgIGNsZWFyVGhlUXVldWVEaWFsb2cub24oJ3Nob3duLmJzLm1vZGFsJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNsZWFySW5wdXQuZm9jdXMoKTtcclxuICAgIH0pO1xyXG4gICAgY2xlYXJUaGVRdWV1ZURpYWxvZy5vbignc2hvdy5icy5tb2RhbCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjbGVhcklucHV0LnZhbChcIlwiKTtcclxuICAgIH0pO1xyXG4gICAgY2xlYXJJbnB1dC5vbihcImlucHV0XCIsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgIGlmICgkKHRoaXMpLnZhbCgpID09IFwiY2xlYXJcIil7XHJcbiAgICAgICAgICAgIGNsZWFyVGhlUXVldWVEaWFsb2cubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAgICAgICBsZXQgYXEgPSBRdWV1ZUFwcGxpY2F0aW9uLmluc3RhbmNlLmFjdGl2ZVF1ZXVlKCk7XHJcbiAgICAgICAgICAgIGFxICYmIGFxLmNsZWFyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyIHNpZ25VcERpYWxvZyA9ICQoXCIjc2lnblVwRGlhbG9nXCIpO1xyXG4gICAgc2lnblVwRGlhbG9nLm9uKCdzaG93LmJzLm1vZGFsJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQodGhpcykuZmluZChcImlucHV0XCIpLnZhbChcIlwiKTtcclxuICAgIH0pO1xyXG4gICAgc2lnblVwRGlhbG9nLm9uKCdzaG93bi5icy5tb2RhbCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKHRoaXMpLmZpbmQoXCJpbnB1dDpmaXJzdFwiKS5mb2N1cygpO1xyXG4gICAgfSk7XHJcblxyXG5cclxuXHJcblxyXG4gICAgbGV0IHNlbmRNZXNzYWdlRGlhbG9nID0gJChcIiNzZW5kTWVzc2FnZURpYWxvZ1wiKTtcclxuICAgIHNlbmRNZXNzYWdlRGlhbG9nLm9uKCdzaG93LmJzLm1vZGFsJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQodGhpcykuZmluZChcImlucHV0XCIpLnZhbChcIlwiKTtcclxuICAgIH0pO1xyXG4gICAgc2VuZE1lc3NhZ2VEaWFsb2cub24oJ3Nob3duLmJzLm1vZGFsJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQodGhpcykuZmluZChcImlucHV0OmZpcnN0XCIpLmZvY3VzKCk7XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgbGV0IHNlbmRNZXNzYWdlRm9ybSA9ICQoXCIjc2VuZE1lc3NhZ2VGb3JtXCIpO1xyXG4gICAgc2VuZE1lc3NhZ2VGb3JtLnN1Ym1pdChmdW5jdGlvbihlKXtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgbGV0IGNvbnRlbnQgOiBzdHJpbmcgPSA8c3RyaW5nPiQoXCIjc2VuZE1lc3NhZ2VDb250ZW50XCIpLnZhbCgpO1xyXG5cclxuICAgICAgICBpZiAoIWNvbnRlbnQgfHwgY29udGVudC5sZW5ndGggPT0gMCl7XHJcbiAgICAgICAgICAgIGFsZXJ0KFwiWW91IGNhbid0IHNlbmQgYSBibGFuayBtZXNzYWdlLlwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgUXVldWVBcHBsaWNhdGlvbi5pbnN0YW5jZS5zZW5kTWVzc2FnZShjb250ZW50KTtcclxuXHJcbiAgICAgICAgc2VuZE1lc3NhZ2VEaWFsb2cubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0pO1xyXG5cclxuICAgIGxldCBhZGRBbm5vdW5jZW1lbnREaWFsb2cgPSAkKFwiI2FkZEFubm91bmNlbWVudERpYWxvZ1wiKTtcclxuICAgIGFkZEFubm91bmNlbWVudERpYWxvZy5vbignc2hvdy5icy5tb2RhbCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKHRoaXMpLmZpbmQoXCJ0ZXh0YXJlYVwiKS52YWwoXCJcIik7XHJcbiAgICB9KTtcclxuICAgIGFkZEFubm91bmNlbWVudERpYWxvZy5vbignc2hvd24uYnMubW9kYWwnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCh0aGlzKS5maW5kKFwidGV4dGFyZWFcIikuZm9jdXMoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGxldCBhZGRBbm5vdW5jZW1lbnRGb3JtID0gJChcIiNhZGRBbm5vdW5jZW1lbnRGb3JtXCIpO1xyXG4gICAgYWRkQW5ub3VuY2VtZW50Rm9ybS5zdWJtaXQoKGUpID0+IHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgbGV0IGNvbnRlbnQgPSA8c3RyaW5nPiQoXCIjYWRkQW5ub3VuY2VtZW50Q29udGVudFwiKS52YWwoKTtcclxuXHJcbiAgICAgICAgaWYgKCFjb250ZW50IHx8IGNvbnRlbnQubGVuZ3RoID09IDApe1xyXG4gICAgICAgICAgICBhbGVydChcIllvdSBjYW4ndCBwb3N0IGEgYmxhbmsgYW5ub3VuY2VtZW50LlwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGFxID0gUXVldWVBcHBsaWNhdGlvbi5pbnN0YW5jZS5hY3RpdmVRdWV1ZSgpO1xyXG4gICAgICAgIGFxICYmIGFxLmFkZEFubm91bmNlbWVudChjb250ZW50KTtcclxuXHJcbiAgICAgICAgYWRkQW5ub3VuY2VtZW50RGlhbG9nLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgbmV3IFNjaGVkdWxlKCQoXCIjc2NoZWR1bGVQaWNrZXJcIikpO1xyXG5cclxuICAgIG5ldyBNYW5hZ2VRdWV1ZURpYWxvZygpO1xyXG59XHJcblxyXG5cclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gICAgXHJcbiAgICBRdWV1ZUFwcGxpY2F0aW9uLmNyZWF0ZUluc3RhbmNlKCQoXCIjcXVldWVBcHBsaWNhdGlvblwiKSk7XHJcbiAgICAvLyBVc2VyLnNldFRhcmdldChVbmF1dGhlbnRpY2F0ZWRVc2VyLmluc3RhbmNlKCkpO1xyXG5cclxuICAgIHNldHVwRGlhbG9ncygpO1xyXG5cclxuICAgIC8vIDxkaXYgY2xhc3M9XCJnLXNpZ25pbjJcIiBkYXRhLW9uc3VjY2Vzcz1cIm9uU2lnbkluXCI+PC9kaXY+XHJcbiAgICAvLyBSZWN1cnJpbmcgcmVmcmVzaFxyXG4gICAgLy9zZXRJbnRlcnZhbChmdW5jdGlvbigpe1xyXG4gICAgLy8gICAgUXVldWVBcHBsaWNhdGlvbi5yZWZyZXNoQWN0aXZlUXVldWUoKTtcclxuICAgIC8vfSwgNjAwMDApO1xyXG4gICAgLy8gTU9WRUQgVE8gVVNFUiBDT0RFIElOIHF1ZXVlLmpzXHJcbn0pO1xyXG5cclxuY29uc29sZS5sb2coXCJURVNUIEJMQUhcIik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSmFtZXMgSnVldHQgb24gOS81LzIwMTYuXHJcbiAqL1xyXG5cclxuaW1wb3J0IGJvb3Rib3ggZnJvbSBcImJvb3Rib3hcIlxyXG5cclxuLy8gaW1wb3J0IFwiLi91dGlsL3V0aWwuanNcIlxyXG5mdW5jdGlvbiBkZWJ1ZyhtZXNzYWdlOiBzdHJpbmcsIGNhdGVnb3J5OiBzdHJpbmcpIHtcclxuICAgIGlmIChjYXRlZ29yeSl7XHJcbiAgICAgICAgY29uc29sZS5sb2coY2F0ZWdvcnkgKyBcIjogXCIgKyBtZXNzYWdlKTtcclxuICAgICAgICAkKFwiLmRlYnVnLlwiK2NhdGVnb3J5KS5odG1sKFwiXCIrbWVzc2FnZSk7IC8vXCJcIisgaXMgdG8gZm9yY2UgY29udmVyc2lvbiB0byBzdHJpbmcgKHZpYSAudG9TdHJpbmcgaWYgb2JqZWN0KVxyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTtcclxuICAgICAgICAkKFwiLmRlYnVnLmRlYnVnQWxsXCIpLmh0bWwoXCJcIittZXNzYWdlKTsgLy9cIlwiKyBpcyB0byBmb3JjZSBjb252ZXJzaW9uIHRvIHN0cmluZyAodmlhIC50b1N0cmluZyBpZiBvYmplY3QpXHJcbiAgICB9XHJcbn1cclxuXHJcbnZhciBhc3NlcnQgPSBmdW5jdGlvbihjb25kaXRpb246IGFueSwgbWVzc2FnZSA9IFwiXCIpIHtcclxuICAgIGlmICghY29uZGl0aW9uKVxyXG4gICAgICAgIHRocm93IEVycm9yKFwiQXNzZXJ0IGZhaWxlZDogXCIgKyBtZXNzYWdlKTtcclxufTtcclxuXHJcbmludGVyZmFjZSBBcnJheTxUPiB7XHJcbiAgICBjbGVhcigpIDogdm9pZDtcclxufSBcclxuQXJyYXkucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5sZW5ndGggPSAwO1xyXG59XHJcblxyXG5pbXBvcnQge09ic2VydmFibGUsIE1lc3NhZ2VSZXNwb25zZXMsIG1lc3NhZ2VSZXNwb25zZX0gZnJvbSBcIi4vdXRpbC9taXhpbnNcIjtcclxuaW1wb3J0IGVzY2FwZSBmcm9tIFwibG9kYXNoL2VzY2FwZVwiXHJcbmltcG9ydCBlbmRzV2l0aCBmcm9tIFwibG9kYXNoL2VuZHNXaXRoXCJcclxuXHJcbnZhciBBTklNQVRJT05fREVMQVkgPSA1MDA7XHJcblxyXG5leHBvcnQgY2xhc3MgUXVldWVBcHBsaWNhdGlvbiB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBfbmFtZSA9IFwiUXVldWVBcHBsaWNhdGlvblwiO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgaW5zdGFuY2UgOiBRdWV1ZUFwcGxpY2F0aW9uO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlSW5zdGFuY2UoZWxlbTogSlF1ZXJ5KSB7XHJcbiAgICAgICAgKDxRdWV1ZUFwcGxpY2F0aW9uPlF1ZXVlQXBwbGljYXRpb24uaW5zdGFuY2UpID0gbmV3IFF1ZXVlQXBwbGljYXRpb24oZWxlbSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBlbGVtIDogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSBjb3Vyc2VQaWxscyA6IEpRdWVyeTtcclxuICAgIHByaXZhdGUgY291cnNlUGFuZXMgOiBKUXVlcnk7XHJcblxyXG4gICAgcHJpdmF0ZSBjb3Vyc2VzIDogQ291cnNlW10gPSBbXTtcclxuICAgIHByaXZhdGUgX2FjdGl2ZVF1ZXVlPyA6IFF1ZXVlO1xyXG5cclxuICAgIHByaXZhdGUgbWVzc2FnZXNTaG93biA6IHtbaW5kZXg6c3RyaW5nXTogYm9vbGVhbn0gPSB7fTtcclxuICAgIHByaXZhdGUgc2VuZE1lc3NhZ2VQb3N0SWQ/OiBzdHJpbmc7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZSh0aGlzKTtcclxuXHJcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKGVsZW0gOiBKUXVlcnkpIHtcclxuICAgICAgICB0aGlzLmVsZW0gPSBlbGVtO1xyXG4gICAgICAgIHRoaXMuY291cnNlUGlsbHMgPSBlbGVtLmZpbmQoXCIuY291cnNlUGlsbHNcIik7XHJcbiAgICAgICAgdGhpcy5jb3Vyc2VQYW5lcyA9IGVsZW0uZmluZChcIi5jb3Vyc2VQYW5lc1wiKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkQ291cnNlcygpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBsb2FkQ291cnNlcygpIHtcclxuICAgICAgICB0cnl7XHJcbiAgICAgICAgICAgIGxldCBsaXN0ID0gYXdhaXQgJC5nZXRKU09OKFwiYXBpL2NvdXJzZUxpc3RcIik7XHJcbiAgICAgICAgICAgIHRoaXMub25Db3Vyc2VzTG9hZChsaXN0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2goZSkge1xyXG4gICAgICAgICAgICBvb3BzKGUsIGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25Db3Vyc2VzTG9hZChsaXN0IDoge1tpbmRleDpzdHJpbmddOiBzdHJpbmd9W10pIHtcclxuICAgICAgICB0aGlzLmNvdXJzZVBpbGxzLmVtcHR5KCk7XHJcbiAgICAgICAgdGhpcy5jb3Vyc2VQYW5lcy5lbXB0eSgpO1xyXG4gICAgICAgIHRoaXMuY291cnNlcy5jbGVhcigpO1xyXG5cclxuXHJcbiAgICAgICAgLy8gTm8gYWN0aXZlIGNvdXJzZSBpbml0aWFsbHlcclxuICAgICAgICB0aGlzLmNvdXJzZVBhbmVzLmFwcGVuZCgkKCc8ZGl2IGNsYXNzPVwidGFiLXBhbmUgZmFkZSBpbiBhY3RpdmVcIj48aDE+PHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLWFycm93LWxlZnRcIj48L3NwYW4+IFBsZWFzZSBzZWxlY3QgYSBjb3Vyc2UuPC9oMT48L2Rpdj4nKSk7XHJcblxyXG4gICAgICAgIGxpc3QuZm9yRWFjaCgoY291cnNlRGF0YSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgLy8gRXNjYXBlIGV2ZXJ5dGhpbmdcclxuICAgICAgICAgICAgLy8gVE9ETyByZWR1bmRhbnQgLSB0aGlzIGhhcHBlbnMgb24gdGhlIHNlcnZlclxyXG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gY291cnNlRGF0YSl7XHJcbiAgICAgICAgICAgICAgICBjb3Vyc2VEYXRhW2tleV0gPSBlc2NhcGUoY291cnNlRGF0YVtrZXldKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGNvdXJzZUlkID0gY291cnNlRGF0YVtcImNvdXJzZUlkXCJdO1xyXG5cclxuICAgICAgICAgICAgLy8gQWRkIHRoZSBwaWxsIHVzZWQgdG8gc2VsZWN0IHRoZSBjb3Vyc2VcclxuICAgICAgICAgICAgbGV0IHBpbGxFbGVtID0gJCgnPGxpPjxhIGhyZWY9XCIjJyArIGNvdXJzZUlkICsgJ1wiIGRhdGEtdG9nZ2xlPVwicGlsbFwiPjxoMz4nICsgY291cnNlSWQgKyAnPC9oMz48L2E+PC9saT4nKTtcclxuICAgICAgICAgICAgdGhpcy5jb3Vyc2VQaWxscy5hcHBlbmQocGlsbEVsZW0pO1xyXG5cclxuICAgICAgICAgICAgLy8gQWRkIHRoZSBlbGVtZW50IHRoYXQgd2lsbCBjb250YWluIHRoZSBjb3Vyc2UgY29udGVudFxyXG4gICAgICAgICAgICBsZXQgY291cnNlRWxlbSA9ICQoJzxkaXYgaWQ9XCInICsgY291cnNlSWQgKyAnXCIgY2xhc3M9XCJ0YWItcGFuZSBmYWRlXCI+PC9kaXY+Jyk7XHJcbiAgICAgICAgICAgIHRoaXMuY291cnNlUGFuZXMuYXBwZW5kKGNvdXJzZUVsZW0pO1xyXG5cclxuICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBjb3Vyc2UgaXRzZWxmXHJcbiAgICAgICAgICAgIGxldCBjb3Vyc2UgPSBuZXcgQ291cnNlKGNvdXJzZURhdGEsIGNvdXJzZUVsZW0pO1xyXG4gICAgICAgICAgICB0aGlzLmNvdXJzZXMucHVzaChjb3Vyc2UpO1xyXG5cclxuICAgICAgICAgICAgcGlsbEVsZW0uZmluZChcImFcIikuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGNvdXJzZS5tYWtlQWN0aXZlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRBY3RpdmVRdWV1ZShxdWV1ZSA6IGFueSkge1xyXG4gICAgICAgIHRoaXMuX2FjdGl2ZVF1ZXVlID0gcXVldWU7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJTZXR0aW5nIGFjdGl2ZSBxdWV1ZSB0byBcIiArIHF1ZXVlLnF1ZXVlSWQpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlU2lnblVwRm9ybSgpO1xyXG4gICAgICAgIHRoaXMub2JzZXJ2YWJsZS5zZW5kKFwiYWN0aXZlUXVldWVTZXRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFjdGl2ZVF1ZXVlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hY3RpdmVRdWV1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlU2lnblVwRm9ybSgpIHtcclxuICAgICAgICBpZiAodGhpcy5fYWN0aXZlUXVldWUgJiYgdGhpcy5fYWN0aXZlUXVldWUuaGFzTWFwKCkpIHtcclxuICAgICAgICAgICAgJChcIiNzaWduVXBNYXBIb2xkZXJcIikuc2hvdygpO1xyXG4gICAgICAgICAgICAkKFwiI3NpZ25VcE1hcE1lc3NhZ2VcIikuc2hvdygpO1xyXG4gICAgICAgICAgICAkKFwiI3NpZ25VcE1hcEltYWdlXCIpLmF0dHIoXCJzcmNcIiwgdGhpcy5fYWN0aXZlUXVldWUubWFwSW1hZ2VTcmMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgJChcIiNzaWduVXBNYXBIb2xkZXJcIikuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKFwiI3NpZ25VcE1hcE1lc3NhZ2VcIikuaGlkZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXNlclNpZ25lZEluKCkge1xyXG4gICAgICAgIHRoaXMuY291cnNlcy5mb3JFYWNoKChjb3Vyc2UpID0+IHtcclxuICAgICAgICAgICAgY291cnNlLnVzZXJTaWduZWRJbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWZyZXNoQWN0aXZlUXVldWUoKSB7XHJcbiAgICAgICAgdGhpcy5fYWN0aXZlUXVldWUgJiYgdGhpcy5fYWN0aXZlUXVldWUucmVmcmVzaCgpO1xyXG4gICAgICAgIHRoaXMucmVmcmVzaENvbnRlbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbWVzc2FnZShtZXNzYWdlOiB7W2luZGV4OnN0cmluZ106IHN0cmluZ30pIHtcclxuICAgICAgICBpZiAoIXRoaXMubWVzc2FnZXNTaG93blttZXNzYWdlLmlkXSl7XHJcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZXNTaG93blttZXNzYWdlLmlkXSA9IHRydWU7XHJcbiAgICAgICAgICAgICQoXCIjbWVzc2FnZURpYWxvZ0hlYWRlclwiKS5odG1sKCdNZXNzYWdlJyk7XHJcbiAgICAgICAgICAgICQoXCIjbWVzc2FnZURpYWxvZ0NvbnRlbnRcIikuYXBwZW5kKCc8cD48c3BhbiBjbGFzcz1cImxhYmVsIGxhYmVsLWluZm9cIj4nICArIG1lc3NhZ2VbXCJzZW5kZXJcIl0gKyAnPC9zcGFuPiAnICsgbWVzc2FnZVtcIm1lc3NhZ2VcIl0gKyAnPC9wPicpO1xyXG4gICAgICAgICAgICAkKFwiI21lc3NhZ2VEaWFsb2dcIikubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0U2VuZE1lc3NhZ2VQb3N0SWQoaWQ6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuc2VuZE1lc3NhZ2VQb3N0SWQgPSBpZDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2VuZE1lc3NhZ2UobWVzc2FnZTogc3RyaW5nKSB7XHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIHVybDogXCJhcGkvc2VuZE1lc3NhZ2VcIixcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgaWR0b2tlbjogVXNlci5pZFRva2VuKCksXHJcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5zZW5kTWVzc2FnZVBvc3RJZCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2VcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IG9vcHNcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVmcmVzaENvbnRlbnQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVF1ZXVlKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnRpdGxlID0gdGhpcy5fYWN0aXZlUXVldWUuY291cnNlLnNob3J0TmFtZSArIFwiIE9IIChcIiArIHRoaXMuX2FjdGl2ZVF1ZXVlLm51bUVudHJpZXMgKyBcIilcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG5vdGlmeSh0aXRsZTogc3RyaW5nLCBtZXNzYWdlOiBzdHJpbmcpIHtcclxuICAgICAgaWYgKCFOb3RpZmljYXRpb24pIHtcclxuICAgICAgICBhbGVydChtZXNzYWdlKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICAvLyBUT0RPOiBidWcgaW4gdHlwZXNjcmlwdCByZXF1aXJlcyBjYXN0IGJlbG93LiBDYW4gYmUgcmVtb3ZlZCBldmVudHVhbGx5LlxyXG4gICAgICAgIGlmICgoPGFueT5Ob3RpZmljYXRpb24pLnBlcm1pc3Npb24gIT09IFwiZ3JhbnRlZFwiKSB7XHJcbiAgICAgICAgICBOb3RpZmljYXRpb24ucmVxdWVzdFBlcm1pc3Npb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBuZXcgTm90aWZpY2F0aW9uKHRpdGxlLCB7XHJcbiAgICAgICAgICAgIGJvZHk6IG1lc3NhZ2VcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBDb3Vyc2Uge1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGNvdXJzZUlkIDogc3RyaW5nO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHNob3J0TmFtZSA6IHN0cmluZztcclxuICAgIHB1YmxpYyByZWFkb25seSBmdWxsTmFtZSA6IHN0cmluZztcclxuXHJcbiAgICBwcml2YXRlIGlzQWRtaW4gOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIHF1ZXVlcyA6IGFueVtdID0gW107XHJcbiAgICBwcml2YXRlIGFjdGl2ZVF1ZXVlIDogYW55O1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgZWxlbSA6IEpRdWVyeTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgcXVldWVQaWxsc0VsZW0gOiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHBpY2tBUXVldWVFbGVtIDogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBtYWluRWxlbSA6IEpRdWVyeTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgcXVldWVQYW5lc0VsZW0gOiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGNvbnRlbnRFbGVtIDogSlF1ZXJ5O1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhOiB7W2luZGV4OnN0cmluZ106IHN0cmluZ30sIGVsZW06IEpRdWVyeSkge1xyXG5cclxuICAgICAgICB0aGlzLmNvdXJzZUlkID0gZGF0YVtcImNvdXJzZUlkXCJdO1xyXG4gICAgICAgIHRoaXMuc2hvcnROYW1lID0gZGF0YVtcInNob3J0TmFtZVwiXTtcclxuICAgICAgICB0aGlzLmZ1bGxOYW1lID0gZGF0YVtcImZ1bGxOYW1lXCJdO1xyXG5cclxuICAgICAgICB0aGlzLmVsZW0gPSBlbGVtO1xyXG5cclxuICAgICAgICB0aGlzLnF1ZXVlUGlsbHNFbGVtID0gJCgnPHVsIGNsYXNzPVwicXVldWVQaWxscyBuYXYgbmF2LXBpbGxzXCI+PC91bD4nKTtcclxuICAgICAgICB0aGlzLmVsZW0uYXBwZW5kKHRoaXMucXVldWVQaWxsc0VsZW0pO1xyXG5cclxuICAgICAgICB0aGlzLnBpY2tBUXVldWVFbGVtID0gJCgnPGRpdj48L2Rpdj4nKTtcclxuICAgICAgICB0aGlzLnBpY2tBUXVldWVFbGVtLmFwcGVuZCgkKCc8aDM+PHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLWFycm93LXVwXCI+PC9zcGFuPiBTZXZlcmFsIHF1ZXVlcyBhcmUgYXZhaWxhYmxlIGZvciAnICsgdGhpcy5zaG9ydE5hbWUgKyAnLiBQbGVhc2Ugc2VsZWN0IG9uZS48L2gzPicpKTtcclxuICAgICAgICB0aGlzLmVsZW0uYXBwZW5kKHRoaXMucGlja0FRdWV1ZUVsZW0pO1xyXG5cclxuICAgICAgICB0aGlzLm1haW5FbGVtID0gJCgnPGRpdj48L2Rpdj4nKTtcclxuICAgICAgICB0aGlzLm1haW5FbGVtLmhpZGUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5xdWV1ZVBhbmVzRWxlbSA9ICQoJzxkaXYgY2xhc3M9XCJjb2wteHMtMTIgY29sLW1kLTEyIHF1ZXVlUGFuZXMgdGFiLWNvbnRlbnRcIj48L2Rpdj4nKTtcclxuICAgICAgICB0aGlzLm1haW5FbGVtLmFwcGVuZCh0aGlzLnF1ZXVlUGFuZXNFbGVtKTtcclxuXHJcbiAgICAgICAgdGhpcy5jb250ZW50RWxlbSA9ICQoJzxkaXYgY2xhc3M9XCJjb2wteHMtMTIgY29sLW1kLTEyXCI+PC9kaXY+Jyk7XHJcbiAgICAgICAgdGhpcy5tYWluRWxlbS5hcHBlbmQodGhpcy5jb250ZW50RWxlbSk7XHJcblxyXG4gICAgICAgIHRoaXMuZWxlbS5hcHBlbmQodGhpcy5tYWluRWxlbSk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZENvbnRlbnQoKTtcclxuICAgICAgICB0aGlzLmxvYWRRdWV1ZXMoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbWFrZUFjdGl2ZSgpIHtcclxuICAgICAgICAvLyBEb24ndCBuZWVkIHRvIGRvIGFueXRoaW5nIGluIHBhcnRpY3VsYXIgZm9yIHRoZSBjb3Vyc2UgaXRzZWxmLFxyXG4gICAgICAgIC8vIGJ1dCB3ZSBkbyBuZWVkIHRvIG1ha2Ugc3VyZSB0aGUgYWN0aXZlIHF1ZXVlIHdpdGhpbiB0aGlzIGNvdXJzZVxyXG4gICAgICAgIC8vIGlzIHRoZSBhY3RpdmUgcXVldWUgb3ZlcmFsbCBzaW5jZSBpdCB3aWxsIGJlIHNob3duLlxyXG4gICAgICAgIHRoaXMuYWN0aXZlUXVldWUgJiYgdGhpcy5hY3RpdmVRdWV1ZS5tYWtlQWN0aXZlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsb2FkQ29udGVudCgpIHtcclxuICAgICAgICB0aGlzLmNvbnRlbnRFbGVtLmxvYWQoXCJxdWV1ZS1jb21wb25lbnQvY291cnNlQ29udGVudC9cIiArIHRoaXMuY291cnNlSWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbG9hZFF1ZXVlcygpIHtcclxuICAgICAgICByZXR1cm4gJC5hamF4KHtcclxuICAgICAgICAgICAgdHlwZTogXCJHRVRcIixcclxuICAgICAgICAgICAgdXJsOiBcImFwaS9xdWV1ZUxpc3QvXCIgKyB0aGlzLmNvdXJzZUlkLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uUXVldWVzTG9hZChkYXRhKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IG9vcHNcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG9uUXVldWVzTG9hZChsaXN0IDogYW55W10pIHtcclxuICAgICAgICB0aGlzLnF1ZXVlcy5jbGVhcigpO1xyXG4gICAgICAgIHRoaXMucXVldWVQaWxsc0VsZW0uZW1wdHkoKTtcclxuICAgICAgICB0aGlzLnF1ZXVlUGFuZXNFbGVtLmVtcHR5KCk7XHJcblxyXG4gICAgICAgIGxpc3QuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICB2YXIgbmFtZSA9IGl0ZW1bXCJuYW1lXCJdO1xyXG4gICAgICAgICAgICB2YXIgcXVldWVJZCA9IGl0ZW1bXCJxdWV1ZUlkXCJdO1xyXG5cclxuICAgICAgICAgICAgLy8gQWRkIHBpbGxzIGZvciBlYWNoIHF1ZXVlIGJlbG9uZ2luZyB0byB0aGlzIGNvdXJzZVxyXG4gICAgICAgICAgICB2YXIgcGlsbEVsZW0gPSAkKCc8bGk+PGEgZGF0YS10b2dnbGU9XCJwaWxsXCI+PGg2PicgKyBuYW1lICsgJzwvaDY+PC9hPjwvbGk+Jyk7XHJcbiAgICAgICAgICAgIHBpbGxFbGVtLmZpbmQoXCJhXCIpLnByb3AoXCJocmVmXCIsIFwiI3F1ZXVlXCIgKyBxdWV1ZUlkKTtcclxuICAgICAgICAgICAgdGhpcy5xdWV1ZVBpbGxzRWxlbS5hcHBlbmQocGlsbEVsZW0pO1xyXG5cclxuICAgICAgICAgICAgLy8gQWRkIHBhbmVzIHRvIGhvbGQgdGhlIHF1ZXVlXHJcbiAgICAgICAgICAgIHZhciBxdWV1ZUVsZW0gPSAkKCc8ZGl2IGlkPVwicXVldWUnICsgcXVldWVJZCArICdcIj48L2Rpdj4nKTtcclxuICAgICAgICAgICAgcXVldWVFbGVtLmFkZENsYXNzKFwidGFiLXBhbmUgZmFkZVwiKTtcclxuICAgICAgICAgICAgdGhpcy5xdWV1ZVBhbmVzRWxlbS5hcHBlbmQocXVldWVFbGVtKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgcXVldWUgb2JqZWN0cyB0aGVtc2VsdmVzXHJcbiAgICAgICAgICAgIHZhciBxdWV1ZSA9IG5ldyBRdWV1ZShpdGVtLCB0aGlzLCBxdWV1ZUVsZW0pO1xyXG4gICAgICAgICAgICB0aGlzLnF1ZXVlcy5wdXNoKHF1ZXVlKTtcclxuXHJcbiAgICAgICAgICAgIHF1ZXVlLnJlZnJlc2goKTtcclxuXHJcbiAgICAgICAgICAgIHBpbGxFbGVtLmZpbmQoXCJhXCIpLmNsaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGlja0FRdWV1ZUVsZW0uZW1wdHkoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlUXVldWUgPSBxdWV1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMubWFpbkVsZW0uc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgcXVldWUubWFrZUFjdGl2ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIC8vIElmIG9ubHkgb25lIHF1ZXVlLCBzZWxlY3QgaXQgYXV0b21hdGljYWxseVxyXG4gICAgICAgIC8vIChwaWxsRWxlbSBhbmQgcXVldWVFbGVtIGFyZSBzdGlsbCBpbiBzY29wZSBldmVuIGFmdGVyIHRoZSBsb29wIGJvZHkpXHJcbiAgICAgICAgaWYgKHRoaXMucXVldWVzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICB0aGlzLnF1ZXVlUGlsbHNFbGVtLmNoaWxkcmVuKCkuZmlyc3QoKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgdGhpcy5xdWV1ZVBhbmVzRWxlbS5jaGlsZHJlbigpLmZpcnN0KCkuYWRkQ2xhc3MoXCJpbiBhY3RpdmVcIik7XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlUXVldWUgPSB0aGlzLnF1ZXVlc1swXTtcclxuICAgICAgICAgICAgdGhpcy5waWNrQVF1ZXVlRWxlbS5oaWRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMubWFpbkVsZW0uc2hvdygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICB0aGlzLnBpY2tBUXVldWVFbGVtLnNob3coKTtcclxuICAgICAgICAgICAgdGhpcy5tYWluRWxlbS5oaWRlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNldEFkbWluKFVzZXIuaXNDb3Vyc2VBZG1pbih0aGlzLmNvdXJzZUlkKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldEFkbWluKGlzQWRtaW4gOiBib29sZWFuKXtcclxuICAgICAgICB0aGlzLmlzQWRtaW4gPSBpc0FkbWluO1xyXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLnF1ZXVlcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICB0aGlzLnF1ZXVlc1tpXS5zZXRBZG1pbihpc0FkbWluKVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0FkbWluKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbS5hZGRDbGFzcyhcImFkbWluXCIpO1xyXG4gICAgICAgICAgICB0aGlzLmVsZW0ucmVtb3ZlQ2xhc3MoXCJub3RBZG1pblwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgdGhpcy5lbGVtLmFkZENsYXNzKFwibm90QWRtaW5cIik7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbS5yZW1vdmVDbGFzcyhcImFkbWluXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXNlclNpZ25lZEluKCl7XHJcbiAgICAgICAgdGhpcy5zZXRBZG1pbihVc2VyLmlzQ291cnNlQWRtaW4odGhpcy5jb3Vyc2VJZCkpO1xyXG4gICAgICAgIHRoaXMucXVldWVzLmZvckVhY2goZnVuY3Rpb24ocXVldWUpe1xyXG4gICAgICAgICAgICBxdWV1ZS51c2VyU2lnbmVkSW4oKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmNsYXNzIEFubm91bmNlbWVudCB7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaWQgOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29udGVudCA6IHN0cmluZztcclxuICAgIHB1YmxpYyByZWFkb25seSB0cyA6IHN0cmluZztcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcXVldWUgOiBRdWV1ZTtcclxuICAgIFxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBlbGVtIDogSlF1ZXJ5O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGRhdGE6IHtbaW5kZXg6c3RyaW5nXTogYW55fSwgcXVldWUgOiBRdWV1ZSwgZWxlbSA6IEpRdWVyeSkge1xyXG4gICAgICAgIHRoaXMuaWQgPSBkYXRhW1wiaWRcIl07XHJcbiAgICAgICAgdGhpcy5jb250ZW50ID0gZGF0YVtcImNvbnRlbnRcIl07XHJcbiAgICAgICAgdGhpcy50cyA9IGRhdGFbXCJ0c1wiXTtcclxuICAgICAgICB0aGlzLnF1ZXVlID0gcXVldWU7XHJcbiAgICAgICAgdGhpcy5lbGVtID0gZWxlbTtcclxuXHJcbiAgICAgICAgbGV0IHBhbmVsQm9keTogSlF1ZXJ5O1xyXG4gICAgICAgIHRoaXMuZWxlbS5hZGRDbGFzcyhcInBhbmVsIHBhbmVsLWluZm9cIikuYXBwZW5kKFxyXG4gICAgICAgICAgICBwYW5lbEJvZHkgPSAkKCc8ZGl2IGNsYXNzPVwicGFuZWwtYm9keSBiZy1pbmZvXCI+PC9kaXY+JylcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJzxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1idWxsaG9yblwiPjwvc3Bhbj4gJylcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHN0cm9uZz4nICsgdGhpcy5jb250ZW50ICsgJzwvc3Ryb25nPicpKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgJCgnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJjbG9zZSBhZG1pbk9ubHlcIj4mdGltZXM7PC9idXR0b24+JylcclxuICAgICAgICAgICAgLmFwcGVuZFRvKHBhbmVsQm9keSlcclxuICAgICAgICAgICAgLmNsaWNrKChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBSZW1vdmUgdWdseSBjb25maXJtXHJcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlybShcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZW1vdmUgdGhpcyBhbm5vdW5jZW1lbnQ/XFxuXFxuXCIgKyB0aGlzLmNvbnRlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZSgpIHtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB0eXBlOiBcIkRFTEVURVwiLFxyXG4gICAgICAgICAgICB1cmw6IFwiYXBpL2Fubm91bmNlbWVudHMvXCIgKyB0aGlzLmlkLFxyXG4gICAgICAgICAgICBzdWNjZXNzIDogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5xdWV1ZS5yZWZyZXNoKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBvb3BzXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFF1ZXVlIHtcclxuICAgIHByaXZhdGUgc3RhdGljIF9uYW1lOiBcIlF1ZXVlXCI7XHJcbiAgICBcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKHRoaXMpO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBjb3Vyc2U6IENvdXJzZTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcXVldWVJZDogc3RyaW5nO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGxvY2F0aW9uOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBpc0FkbWluOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbnVtRW50cmllczogbnVtYmVyID0gMDtcclxuICAgIHB1YmxpYyByZWFkb25seSBsYXN0UmVmcmVzaDogRGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNPcGVuOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbXlSZXF1ZXN0OiBRdWV1ZUVudHJ5IHwgbnVsbCA9IG51bGw7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbWFwSW1hZ2VTcmM6IHN0cmluZyA9IFwiXCI7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBlbGVtOiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IG51bUVudHJpZXNFbGVtOiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGxhc3RSZWZyZXNoRWxlbTogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBzdGF0dXNNZXNzYWdlRWxlbTogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBhbm5vdW5jZW1lbnRDb250YWluZXJFbGVtOiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGFkbWluU3RhdHVzRWxlbTogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBhZG1pbkNvbnRyb2xzRWxlbTogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBzdHVkZW50Q29udHJvbHNFbGVtOiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHF1ZXVlRWxlbTogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBzdGFja0VsZW06IEpRdWVyeTtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGFkbWluQ29udHJvbHM6IEFkbWluQ29udHJvbHM7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHN0dWRlbnRDb250cm9sczogU3R1ZGVudENvbnRyb2xzO1xyXG4gICAgXHJcbiAgICBwcml2YXRlIHJlZnJlc2hEaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBjdXJyZW50UmVmcmVzaEluZGV4ID0gMDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhOiB7W2luZGV4OnN0cmluZ106IGFueX0sIGNvdXJzZTogQ291cnNlLCBlbGVtOiBKUXVlcnkpIHtcclxuXHJcbiAgICAgICAgdGhpcy5jb3Vyc2UgPSBjb3Vyc2U7XHJcblxyXG4gICAgICAgIHRoaXMucXVldWVJZCA9IGRhdGFbXCJxdWV1ZUlkXCJdO1xyXG4gICAgICAgIHRoaXMubG9jYXRpb24gPSBkYXRhW1wibG9jYXRpb25cIl07XHJcbiAgICAgICAgdGhpcy5tYXBJbWFnZVNyYyA9IGRhdGFbXCJtYXBcIl0gPyBkYXRhW1wibWFwXCJdIDogXCJcIjtcclxuICAgICAgICB0aGlzLm5hbWUgPSBkYXRhW1wibmFtZVwiXTtcclxuICAgICAgICB0aGlzLmVsZW0gPSBlbGVtO1xyXG5cclxuICAgICAgICB0aGlzLmlzQWRtaW4gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm51bUVudHJpZXMgPSAwO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFJlZnJlc2hJbmRleCA9IDA7XHJcbiAgICAgICAgdGhpcy5sYXN0UmVmcmVzaCA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnJlZnJlc2hEaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuYW5ub3VuY2VtZW50Q29udGFpbmVyRWxlbSA9ICQoJzxkaXY+PC9kaXY+JykuYXBwZW5kVG8odGhpcy5lbGVtKTtcclxuICAgICAgICBcclxuXHJcbiAgICAgICAgdmFyIHN0YXR1c0VsZW0gPSAkKCc8cD48L3A+JykuYXBwZW5kVG8odGhpcy5lbGVtKTtcclxuICAgICAgICBzdGF0dXNFbGVtLmFwcGVuZChcclxuICAgICAgICAgICAgJCgnPHNwYW4gZGF0YS10b2dnbGU9XCJ0b29sdGlwXCIgdGl0bGU9XCJOdW1iZXIgb2YgU3R1ZGVudHNcIj48c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tZWR1Y2F0aW9uXCI+PC9zcGFuPjwvc3Bhbj4nKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZChcIiBcIilcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQodGhpcy5udW1FbnRyaWVzRWxlbSA9ICQoJzxzcGFuPjwvc3Bhbj4nKSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHN0YXR1c0VsZW0uYXBwZW5kKCcmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsnKTtcclxuICAgICAgICBzdGF0dXNFbGVtLmFwcGVuZChcclxuICAgICAgICAgICAgJCgnPHNwYW4gZGF0YS10b2dnbGU9XCJ0b29sdGlwXCIgdGl0bGU9XCJMYXN0IFJlZnJlc2hcIj48c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tcmVmcmVzaFwiPjwvc3Bhbj48L3NwYW4+JylcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoXCIgXCIpXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKHRoaXMubGFzdFJlZnJlc2hFbGVtID0gJCgnPHNwYW4+PC9zcGFuPicpKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgc3RhdHVzRWxlbS5hcHBlbmQoJyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOycpO1xyXG5cclxuICAgICAgICB0aGlzLnN0YXR1c01lc3NhZ2VFbGVtID0gJCgnPHNwYW4+TG9hZGluZyBxdWV1ZSBpbmZvcm1hdGlvbi4uLjwvc3Bhbj4nKTtcclxuICAgICAgICBzdGF0dXNFbGVtLmFwcGVuZCh0aGlzLnN0YXR1c01lc3NhZ2VFbGVtKTtcclxuXHJcbiAgICAgICAgdGhpcy5hZG1pblN0YXR1c0VsZW0gPSAkKCc8c3BhbiBjbGFzcz1cImFkbWluT25seVwiPjxiPiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwO1lvdSBhcmUgYW4gYWRtaW4gZm9yIHRoaXMgcXVldWUuPC9iPjwvc3Bhbj4nKTtcclxuICAgICAgICBzdGF0dXNFbGVtLmFwcGVuZCh0aGlzLmFkbWluU3RhdHVzRWxlbSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRtaW5Db250cm9sc0VsZW0gPSAkKCc8ZGl2IGNsYXNzPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBhZG1pbk9ubHlcIj48ZGl2IGNsYXNzPVwicGFuZWwtYm9keVwiPjwvZGl2PjwvZGl2PicpXHJcbiAgICAgICAgICAgIC5hcHBlbmRUbyh0aGlzLmVsZW0pXHJcbiAgICAgICAgICAgIC5maW5kKFwiLnBhbmVsLWJvZHlcIik7XHJcblxyXG4gICAgICAgIHRoaXMuYWRtaW5Db250cm9scyA9IG5ldyBBZG1pbkNvbnRyb2xzKHRoaXMsIHRoaXMuYWRtaW5Db250cm9sc0VsZW0pO1xyXG4gICAgICAgIC8vIHRoaXMub2JzZXJ2YWJsZS5hZGRMaXN0ZW5lcih0aGlzLmFkbWluQ29udHJvbHMpOyAvLyBBZG1pbkNvbnRyb2xzIGN1cnJlbnRseSBub3QgYW4gT2JzZXJ2ZXJcclxuXHJcbiAgICAgICAgdGhpcy5zdHVkZW50Q29udHJvbHNFbGVtID0gJCgnPGRpdiBjbGFzcz1cInBhbmVsIHBhbmVsLWRlZmF1bHRcIj48ZGl2IGNsYXNzPVwicGFuZWwtYm9keVwiPjwvZGl2PjwvZGl2PicpXHJcbiAgICAgICAgICAgIC5hcHBlbmRUbyh0aGlzLmVsZW0pXHJcbiAgICAgICAgICAgIC5maW5kKFwiLnBhbmVsLWJvZHlcIik7XHJcblxyXG4gICAgICAgIHRoaXMuc3R1ZGVudENvbnRyb2xzID0gbmV3IFN0dWRlbnRDb250cm9scyh0aGlzLCB0aGlzLnN0dWRlbnRDb250cm9sc0VsZW0pO1xyXG4gICAgICAgIHRoaXMub2JzZXJ2YWJsZS5hZGRMaXN0ZW5lcih0aGlzLnN0dWRlbnRDb250cm9scyk7XHJcblxyXG4gICAgICAgIC8vIFRPRE86IGlzIHRoaXMgb2xkP1xyXG4gICAgICAgIC8vIGlmICh0aGlzLmhhc01hcCgpKSB7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuYWRtaW5Db250cm9sc0VsZW0uYXBwZW5kKCc8cCBjbGFzcz1cImFkbWluT25seVwiPkNsaWNrIHRoZSBcIkxvY2F0ZVwiIGJ1dHRvbiBvbiBhIHN0dWRlbnRcXCdzIHJlcXVlc3QgdG8gdXBkYXRlIHRoZSBtYXAuPC9wPicpO1xyXG4gICAgICAgIC8vICAgICB2YXIgbWFwSG9sZGVyID0gJCgnPGRpdiBzdHlsZT1cInBvc2l0aW9uOiByZWxhdGl2ZTsgbWFyZ2luLXRvcDogMTBweDtcIj48L2Rpdj4nKTtcclxuICAgICAgICAvLyAgICAgdGhpcy5tYXBFbGVtID0gJCgnPGltZyBjbGFzcz1cImFkbWluT25seSBxdWV1ZS1zdGFmZk1hcFwiIHNyYz1cImltZy8nICsgdGhpcy5tYXBJbWFnZVNyYyArICdcIj48L2ltZz4nKTtcclxuICAgICAgICAvLyAgICAgbWFwSG9sZGVyLmFwcGVuZCh0aGlzLm1hcEVsZW0pO1xyXG4gICAgICAgIC8vICAgICB0aGlzLm1hcFBpbiA9ICQoJzxzcGFuIGNsYXNzPVwiYWRtaW5Pbmx5IHF1ZXVlLWxvY2F0ZVBpblwiPjxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1tYXAtbWFya2VyXCIgc3R5bGU9XCJwb3NpdGlvbjphYnNvbHV0ZTsgbGVmdDotMS4zY2g7dG9wOi0wLjk1ZW07XCI+PC9zcGFuPjwvc3Bhbj4nKTtcclxuICAgICAgICAvLyAgICAgbWFwSG9sZGVyLmFwcGVuZCh0aGlzLm1hcFBpbik7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuYWRtaW5Db250cm9sc0VsZW0uYXBwZW5kKG1hcEhvbGRlcik7XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICB0aGlzLnF1ZXVlRWxlbSA9ICQoJzxkaXY+PC9kaXY+JykuYXBwZW5kVG8odGhpcy5lbGVtKTtcclxuXHQgICAgdGhpcy5zdGFja0VsZW0gPSAkKCc8ZGl2IGNsYXNzPVwiYWRtaW5Pbmx5XCI+PC9kaXY+JykuYXBwZW5kVG8odGhpcy5lbGVtKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbGVtLmZpbmQoJ1tkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIl0nKS50b29sdGlwKCk7XHJcblxyXG4gICAgICAgIHRoaXMudXNlclNpZ25lZEluKCk7IC8vIFRPRE8gY2hhbmdlIG5hbWUgdG8gdXBkYXRlVXNlcj9cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbWFrZUFjdGl2ZU9uQ2xpY2soZWxlbSA6IEpRdWVyeSkge1xyXG4gICAgICAgIGVsZW0uY2xpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLm1ha2VBY3RpdmUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbWFrZUFjdGl2ZSgpIHtcclxuICAgICAgICBRdWV1ZUFwcGxpY2F0aW9uLmluc3RhbmNlLnNldEFjdGl2ZVF1ZXVlKHRoaXMpO1xyXG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWZyZXNoKCkge1xyXG5cclxuICAgICAgICAvLyBteVJlZnJlc2hJbmRleCBpcyBjYXB0dXJlZCBpbiBhIGNsb3N1cmUgd2l0aCB0aGUgY2FsbGJhY2suXHJcbiAgICAgICAgLy8gaWYgcmVmcmVzaCBoYWQgYmVlbiBjYWxsZWQgYWdhaW4sIHRoZSBpbmRleCB3b24ndCBtYXRjaCBhbmRcclxuICAgICAgICAvLyB3ZSBkb24ndCBkbyBhbnl0aGluZy4gdGhpcyBwcmV2ZW50cyB0aGUgc2l0dWF0aW9uIHdoZXJlIHNvbWVvbmVcclxuICAgICAgICAvLyBzaWducyB1cCBidXQgdGhlbiBhIHBlbmRpbmcgcmVxdWVzdCBmcm9tIGJlZm9yZSB0aGV5IGRpZCBzbyBmaW5pc2hlc1xyXG4gICAgICAgIC8vIGFuZCBjYXVzZXMgaXQgdG8gbG9vayBsaWtlIHRoZXkgd2VyZSBpbW1lZGlhdGVseSByZW1vdmVkLiB0aGlzIGFsc29cclxuICAgICAgICAvLyBmaXhlcyBhIHNpbWlsYXIgcHJvYmxlbSB3aGVuIGFuIGFkbWluIHJlbW92ZXMgc29tZW9uZSBidXQgdGhlbiBhXHJcbiAgICAgICAgLy8gcGVuZGluZyByZWZyZXNoIG1ha2VzIHRoZW0gcG9wIGJhY2sgdXAgdGVtcG9yYXJpbHkuXHJcbiAgICAgICAgdGhpcy5jdXJyZW50UmVmcmVzaEluZGV4ICs9IDE7XHJcbiAgICAgICAgdmFyIG15UmVmcmVzaEluZGV4ID0gdGhpcy5jdXJyZW50UmVmcmVzaEluZGV4O1xyXG5cclxuICAgICAgICByZXR1cm4gJC5hamF4KHtcclxuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIHVybDogXCJhcGkvbGlzdFwiLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBxdWV1ZUlkOiB0aGlzLnF1ZXVlSWRcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gaWYgYW5vdGhlciByZWZyZXNoIGhhcyBiZWVuIHJlcXVlc3RlZCwgaWdub3JlIHRoZSByZXN1bHRzIG9mIHRoaXMgb25lXHJcbiAgICAgICAgICAgICAgICBpZiAobXlSZWZyZXNoSW5kZXggPT09IHRoaXMuY3VycmVudFJlZnJlc2hJbmRleCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoUmVzcG9uc2UoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBvb3BzXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlZnJlc2hSZXNwb25zZShkYXRhIDoge1tpbmRleDogc3RyaW5nXTogYW55fSkge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5yZWZyZXNoRGlzYWJsZWQpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE1lc3NhZ2UgZm9yIGluZGl2aWR1YWwgdXNlclxyXG4gICAgICAgIGlmIChkYXRhW1wibWVzc2FnZVwiXSkge1xyXG4gICAgICAgICAgICBRdWV1ZUFwcGxpY2F0aW9uLmluc3RhbmNlLm1lc3NhZ2UoZGF0YVtcIm1lc3NhZ2VcIl0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQW5ub3VuY2VtZW50IGZvciB0aGlzIHF1ZXVlIGFzIGEgd2hvbGVcclxuICAgICAgICB0aGlzLmFubm91bmNlbWVudENvbnRhaW5lckVsZW0uZW1wdHkoKTtcclxuICAgICAgICBsZXQgYW5ub3VuY2VtZW50c0RhdGEgPSA8YW55W10+ZGF0YVtcImFubm91bmNlbWVudHNcIl07XHJcbiAgICAgICAgYW5ub3VuY2VtZW50c0RhdGEuZm9yRWFjaCgoYURhdGE6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgYW5ub3VuY2VtZW50RWxlbSA9ICQoXCI8ZGl2PjwvZGl2PlwiKS5hcHBlbmRUbyh0aGlzLmFubm91bmNlbWVudENvbnRhaW5lckVsZW0pO1xyXG4gICAgICAgICAgICBuZXcgQW5ub3VuY2VtZW50KGFEYXRhLCB0aGlzLCBhbm5vdW5jZW1lbnRFbGVtKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIGlmIChhbm5vdW5jZW1lbnRzRGF0YS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5ub3VuY2VtZW50Q29udGFpbmVyRWxlbS5zaG93KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmFubm91bmNlbWVudENvbnRhaW5lckVsZW0uaGlkZSgpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICg8Ym9vbGVhbj50aGlzLmlzT3BlbikgPSBkYXRhW1wiaXNPcGVuXCJdO1xyXG4gICAgICAgIGlmICh0aGlzLmlzT3Blbikge1xyXG4gICAgICAgICAgICB0aGlzLnN0YXR1c01lc3NhZ2VFbGVtLmh0bWwoXCJUaGUgcXVldWUgaXMgb3Blbi5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgc2NoZWR1bGUgPSBkYXRhW1wic2NoZWR1bGVcIl07XHJcbiAgICAgICAgICAgIGxldCBoYWxmSG91ciA9IGRhdGFbXCJoYWxmSG91clwiXTtcclxuICAgICAgICAgICAgbGV0IG5leHRPcGVuID0gLTE7XHJcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IGhhbGZIb3VyOyBpIDwgNDg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHNjaGVkdWxlVHlwZSA9IHNjaGVkdWxlLmNoYXJBdChpKTtcclxuICAgICAgICAgICAgICAgIGlmIChzY2hlZHVsZVR5cGUgPT09IFwib1wiIHx8IHNjaGVkdWxlVHlwZSA9PT0gXCJwXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0T3BlbiA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChuZXh0T3BlbiA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzTWVzc2FnZUVsZW0uaHRtbChcIlRoZSBxdWV1ZSBpcyBjbG9zZWQgZm9yIHRvZGF5LlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxldCBkID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgICAgIGQuc2V0SG91cnMoMCk7XHJcbiAgICAgICAgICAgICAgICBkLnNldE1pbnV0ZXMoMCk7XHJcbiAgICAgICAgICAgICAgICBkLnNldFNlY29uZHMoMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IG5ld0RhdGUgPSBuZXcgRGF0ZShkLmdldFRpbWUoKSArIG5leHRPcGVuKjMwKjYwMDAwKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzTWVzc2FnZUVsZW0uaHRtbChcIlRoZSBxdWV1ZSBpcyBjbG9zZWQgcmlnaHQgbm93LiBJdCB3aWxsIG9wZW4gYXQgXCIgKyBuZXdEYXRlLnRvTG9jYWxlVGltZVN0cmluZygpICsgXCIuXCIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBsZXQgcXVldWUgPSBkYXRhW1wicXVldWVcIl07XHJcbiAgICAgICAgdGhpcy5xdWV1ZUVsZW0uZW1wdHkoKTtcclxuICAgICAgICBsZXQgcXVldWVFbnRyaWVzID0gW107XHJcbiAgICAgICAgbGV0IG15UmVxdWVzdCA6IChRdWV1ZUVudHJ5IHwgbnVsbCkgPSBudWxsO1xyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICBsZXQgaXRlbSA9IHF1ZXVlW2ldO1xyXG5cclxuICAgICAgICAgICAgbGV0IGl0ZW1FbGVtID0gJChcIjxsaSBjbGFzcz0nbGlzdC1ncm91cC1pdGVtJz48L2xpPlwiKTtcclxuICAgICAgICAgICAgbGV0IGVudHJ5ID0gbmV3IFF1ZXVlRW50cnkodGhpcywgaXRlbSwgaSwgaXRlbUVsZW0pO1xyXG4gICAgICAgICAgICBxdWV1ZUVudHJpZXMucHVzaChlbnRyeSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIW15UmVxdWVzdCAmJiBVc2VyLmlzTWUoZW50cnkuZW1haWwpKSB7XHJcbiAgICAgICAgICAgICAgICBteVJlcXVlc3QgPSBlbnRyeTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5xdWV1ZUVsZW0uYXBwZW5kKGl0ZW1FbGVtKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0TXlSZXF1ZXN0KG15UmVxdWVzdCk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLm9ic2VydmFibGUuc2VuZChcInF1ZXVlUmVmcmVzaGVkXCIpO1xyXG5cclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShkYXRhW1wic3RhY2tcIl0sIG51bGwsIDQpKTtcclxuICAgICAgICB0aGlzLnN0YWNrRWxlbS5odG1sKFwiPGgzPlRoZSBTdGFjazwvaDM+PGJyIC8+PHA+TW9zdCByZWNlbnRseSByZW1vdmVkIGF0IHRvcDwvcD48cHJlPlwiICsgSlNPTi5zdHJpbmdpZnkoZGF0YVtcInN0YWNrXCJdLCBudWxsLCA0KSArIFwiPC9wcmU+XCIpO1xyXG5cclxuXHJcbiAgICAgICAgdmFyIG9sZE51bUVudHJpZXMgPSB0aGlzLm51bUVudHJpZXM7XHJcbiAgICAgICAgKDxudW1iZXI+dGhpcy5udW1FbnRyaWVzKSA9IHF1ZXVlLmxlbmd0aDtcclxuICAgICAgICBpZih0aGlzLmlzQWRtaW4gJiYgb2xkTnVtRW50cmllcyA9PT0gMCAmJiB0aGlzLm51bUVudHJpZXMgPiAwKSB7XHJcbiAgICAgICAgICBRdWV1ZUFwcGxpY2F0aW9uLmluc3RhbmNlLm5vdGlmeShcIlJlcXVlc3QgUmVjZWl2ZWQhXCIsIHF1ZXVlRW50cmllc1swXS5uYW1lKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICg8RGF0ZT50aGlzLmxhc3RSZWZyZXNoKSA9IG5ldyBEYXRlKCk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLm51bUVudHJpZXNFbGVtLmh0bWwoXCJcIit0aGlzLm51bUVudHJpZXMpO1xyXG4gICAgICAgIHRoaXMubGFzdFJlZnJlc2hFbGVtLmh0bWwodGhpcy5sYXN0UmVmcmVzaC50b0xvY2FsZVRpbWVTdHJpbmcoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldE15UmVxdWVzdChteVJlcXVlc3Q6IFF1ZXVlRW50cnkgfCBudWxsKSB7XHJcbiAgICAgICAgKDxRdWV1ZUVudHJ5IHwgbnVsbD50aGlzLm15UmVxdWVzdCkgPSBteVJlcXVlc3Q7XHJcbiAgICAgICAgdGhpcy5vYnNlcnZhYmxlLnNlbmQoXCJteVJlcXVlc3RTZXRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZVJlcXVlc3QocmVxdWVzdDogUXVldWVFbnRyeSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiYXR0ZW1wdGluZyB0byByZW1vdmUgXCIgKyByZXF1ZXN0LmVtYWlsICsgXCIgZnJvbSBxdWV1ZSBcIiArIHRoaXMucXVldWVJZCk7XHJcbiAgICAgICAgdGhpcy5kaXNhYmxlUmVmcmVzaCgpO1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgdXJsOiBcImFwaS9yZW1vdmVcIixcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QuaWRcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3VjY2VzcyA6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJzdWNjZXNzZnVsbHkgcmVtb3ZlZCBcIiArIHJlcXVlc3QuZW1haWwgKyBcIiBmcm9tIHF1ZXVlIFwiICsgc2VsZi5xdWV1ZUlkKTtcclxuICAgICAgICAgICAgICAgIHJlcXVlc3Qub25SZW1vdmUoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IG9vcHNcclxuICAgICAgICB9KS5hbHdheXMoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgc2VsZi5lbmFibGVSZWZyZXNoKCk7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnJlZnJlc2goKTtcclxuICAgICAgICAgICAgfSwgQU5JTUFUSU9OX0RFTEFZKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjYW5jZWxJbmNvbWluZ1JlZnJlc2goKSB7XHJcbiAgICAgIHRoaXMuY3VycmVudFJlZnJlc2hJbmRleCArPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkaXNhYmxlUmVmcmVzaCgpIHtcclxuICAgICAgdGhpcy5yZWZyZXNoRGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBlbmFibGVSZWZyZXNoKCkge1xyXG4gICAgICB0aGlzLnJlZnJlc2hEaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjbGVhcigpIHtcclxuICAgICAgICByZXR1cm4gJC5hamF4KHtcclxuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIHVybDogXCJhcGkvY2xlYXJcIixcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgaWR0b2tlbjogVXNlci5pZFRva2VuKCksXHJcbiAgICAgICAgICAgICAgICBxdWV1ZUlkOiB0aGlzLnF1ZXVlSWRcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3VjY2VzczogKCkgPT4geyB0aGlzLmNsZWFyTGlzdCgpIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBvb3BzXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjbGVhckxpc3QoKSB7XHJcbiAgICAgICAgdGhpcy5xdWV1ZUVsZW0uY2hpbGRyZW4oKS5zbGlkZVVwKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNpZ25VcChuYW1lOiBzdHJpbmcsIGxvY2F0aW9uOiBzdHJpbmcsIGRlc2NyaXB0aW9uOiBzdHJpbmcsIG1hcFg/OiBudW1iZXIsIG1hcFk/OiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gJC5hamF4KHtcclxuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIHVybDogXCJhcGkvc2lnblVwXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIGlkdG9rZW46IFVzZXIuaWRUb2tlbigpLFxyXG4gICAgICAgICAgICAgICAgcXVldWVJZDogdGhpcy5xdWV1ZUlkLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcclxuICAgICAgICAgICAgICAgIG1hcFg6IG1hcFgsXHJcbiAgICAgICAgICAgICAgICBtYXBZOiBtYXBZLFxyXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgc3VjY2VzczogKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhW1wiZmFpbFwiXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNob3dFcnJvck1lc3NhZ2UoZGF0YVtcInJlYXNvblwiXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IG9vcHNcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlUmVxdWVzdChuYW1lOiBzdHJpbmcsIGxvY2F0aW9uOiBzdHJpbmcsIGRlc2NyaXB0aW9uOiBzdHJpbmcsIG1hcFg/OiBudW1iZXIsIG1hcFk/OiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gJC5hamF4KHtcclxuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIHVybDogXCJhcGkvdXBkYXRlUmVxdWVzdFwiLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5teVJlcXVlc3QhLmlkLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcclxuICAgICAgICAgICAgICAgIG1hcFg6IG1hcFgsXHJcbiAgICAgICAgICAgICAgICBtYXBZOiBtYXBZLFxyXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgc3VjY2VzczogKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhW1wiZmFpbFwiXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNob3dFcnJvck1lc3NhZ2UoZGF0YVtcInJlYXNvblwiXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IG9vcHNcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0QWRtaW4oaXNBZG1pbjogYm9vbGVhbikge1xyXG4gICAgICAgIHZhciBvbGRBZG1pbiA9IHRoaXMuaXNBZG1pbjtcclxuICAgICAgICAoPGJvb2xlYW4+dGhpcy5pc0FkbWluKSA9IGlzQWRtaW47XHJcblxyXG4gICAgICAgIC8vIElmIG91ciBwcml2aWxlZ2VzIGNoYW5nZSwgaGl0IHRoZSBzZXJ2ZXIgZm9yIGFwcHJvcHJpYXRlIGRhdGEsXHJcbiAgICAgICAgLy8gYmVjYXVzZSBpdCBnaXZlcyBvdXQgZGlmZmVyZW50IHRoaW5ncyBmb3Igbm9ybWFsIHZzLiBhZG1pblxyXG4gICAgICAgIGlmIChvbGRBZG1pbiAhPSB0aGlzLmlzQWRtaW4pIHtcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdXNlclNpZ25lZEluKCkge1xyXG4gICAgICAgIHRoaXMub2JzZXJ2YWJsZS5zZW5kKFwidXNlclNpZ25lZEluXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBoYXNNYXAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwSW1hZ2VTcmMgIT09IFwiXCI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUdyb3Vwcyhmb3JtRGF0YTogRm9ybURhdGEpIHtcclxuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoXCJxdWV1ZUlkXCIsIHRoaXMucXVldWVJZCk7XHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIHVybDogXCJhcGkvdXBkYXRlR3JvdXBzXCIsXHJcbiAgICAgICAgICAgIGNhY2hlOiBmYWxzZSxcclxuICAgICAgICAgICAgY29udGVudFR5cGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBwcm9jZXNzRGF0YTogZmFsc2UsXHJcbiAgICAgICAgICAgIGRhdGE6IGZvcm1EYXRhLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGFbJ3N1Y2Nlc3MnXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiZ3JvdXBzIHVwbG9hZGVkIHN1Y2Nlc3NmdWxseVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiZXJyb3IgdXBsb2FkaW5nIGdyb3Vwcy4gcm9zdGVyIGFuZCBncm91cHMgaGF2ZSBiZWVuIGNsZWFyZWQgLSB5b3UnbGwgaGF2ZSB0byB1cGxvYWQgdGhlbSBhZ2Fpbiwgc29ycnkhXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gICAgIC8vIGlmIGFub3RoZXIgcmVmcmVzaCBoYXMgYmVlbiByZXF1ZXN0ZWQsIGlnbm9yZSB0aGUgcmVzdWx0cyBvZiB0aGlzIG9uZVxyXG4gICAgICAgICAgICAgICAgLy8gICAgIGlmIChteVJlZnJlc2hJbmRleCA9PT0gc2VsZi5jdXJyZW50UmVmcmVzaEluZGV4KXtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgc2VsZi5yZWZyZXNoUmVzcG9uc2UoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgICBhbGVydChcImVycm9yIHVwbG9hZGluZyBncm91cHNcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUNvbmZpZ3VyYXRpb24ob3B0aW9uczoge1tpbmRleDogc3RyaW5nXTogc3RyaW5nO30pIHtcclxuICAgICAgICBvcHRpb25zLnF1ZXVlSWQgPSB0aGlzLnF1ZXVlSWQ7XHJcbiAgICAgICAgcmV0dXJuICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICB1cmw6IFwiYXBpL3VwZGF0ZVF1ZXVlQ29uZmlndXJhdGlvblwiLFxyXG4gICAgICAgICAgICBkYXRhOiBvcHRpb25zLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVtcImZhaWxcIl0pIHtcclxuICAgICAgICAgICAgICAgICAgICBzaG93RXJyb3JNZXNzYWdlKGRhdGFbXCJyZWFzb25cIl0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogb29wc1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRBbm5vdW5jZW1lbnQoY29udGVudDogc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICB1cmw6IFwiYXBpL2Fubm91bmNlbWVudHNcIixcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgcXVldWVJZDogdGhpcy5xdWV1ZUlkLFxyXG4gICAgICAgICAgICAgICAgY29udGVudDogY29udGVudFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdWNjZXNzOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IG9vcHNcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgU3R1ZGVudENvbnRyb2xzIHtcclxuICAgIHByaXZhdGUgc3RhdGljIF9uYW1lID0gXCJTdHVkZW50Q29udHJvbHNcIjtcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBVUERBVEVfUkVRVUVTVF9CVVRUT05fVVBfVE9fREFURSA9IFwiPHNwYW4gY2xhc3M9J2dseXBoaWNvbiBnbHlwaGljb24tb2snPjwvc3Bhbj4gUmVxdWVzdCBVcGRhdGVkXCI7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBVUERBVEVfUkVRVUVTVF9CVVRUT05fVVBEQVRFID0gXCJVcGRhdGUgUmVxdWVzdFwiO1xyXG5cclxuICAgIHByaXZhdGUgcXVldWU6IFF1ZXVlO1xyXG5cclxuICAgIHByaXZhdGUgZm9ybUhhc0NoYW5nZXM6IGJvb2xlYW47XHJcblxyXG4gICAgcHJpdmF0ZSBlbGVtOiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIHN0YXR1c0VsZW06IEpRdWVyeTtcclxuICAgIHByaXZhdGUgc2lnblVwRm9ybTogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSBzaWduVXBOYW1lSW5wdXQ6IEpRdWVyeTtcclxuICAgIHByaXZhdGUgc2lnblVwRGVzY3JpcHRpb25JbnB1dDogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSBzaWduVXBMb2NhdGlvbklucHV0OiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIG1hcEhvbGRlcj86IEpRdWVyeTtcclxuICAgIHByaXZhdGUgc2lnblVwTWFwPzogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSBzaWduVXBQaW4/OiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIG1hcFg/OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIG1hcFk/OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHNpZ25VcEJ1dHRvbnM6IEpRdWVyeTtcclxuICAgIHByaXZhdGUgdXBkYXRlUmVxdWVzdEJ1dHRvbnM6IEpRdWVyeTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgX2FjdCEgOiBNZXNzYWdlUmVzcG9uc2VzO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHF1ZXVlOiBRdWV1ZSwgZWxlbTogSlF1ZXJ5KSB7XHJcbiAgICAgICAgdGhpcy5xdWV1ZSA9IHF1ZXVlO1xyXG4gICAgICAgIHRoaXMuZWxlbSA9IGVsZW07XHJcblxyXG4gICAgICAgIHRoaXMuZm9ybUhhc0NoYW5nZXMgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgbGV0IGNvbnRhaW5lckVsZW0gPSAkKCc8ZGl2PjwvZGl2PicpO1xyXG5cclxuICAgICAgICBsZXQgcmVndWxhckZvcm1FbGVtO1xyXG4gICAgICAgIHRoaXMuc2lnblVwRm9ybSA9ICQoJzxmb3JtIGlkPVwic2lnblVwRm9ybVwiIHJvbGU9XCJmb3JtXCIgY2xhc3M9XCJmb3JtLWhvcml6b250YWxcIj48L2Zvcm0+JylcclxuICAgICAgICAgICAgLmFwcGVuZChyZWd1bGFyRm9ybUVsZW0gPSAkKCc8ZGl2PjwvZGl2PicpXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+PC9kaXY+JylcclxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCc8bGFiZWwgY2xhc3M9XCJjb250cm9sLWxhYmVsIGNvbC1zbS0zXCIgZm9yPVwic2lnblVwTmFtZScgKyBxdWV1ZS5xdWV1ZUlkICsgJ1wiPk5hbWU6PC9sYWJlbD4nKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGRpdiBjbGFzcz1cImNvbC1zbS05XCI+PC9kaXY+JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCh0aGlzLnNpZ25VcE5hbWVJbnB1dCA9ICQoJzxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgaWQ9XCJzaWduVXBOYW1lJyArIHF1ZXVlLnF1ZXVlSWQgKyAnXCIgcmVxdWlyZWQ9XCJyZXF1aXJlZFwiIG1heGxlbmd0aD1cIjMwXCIgcGxhY2Vob2xkZXI9XCJOaWNlIHRvIG1lZXQgeW91IVwiPicpKVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj48L2Rpdj4nKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJzxsYWJlbCBjbGFzcz1cImNvbnRyb2wtbGFiZWwgY29sLXNtLTNcIiBmb3I9XCJzaWduVXBEZXNjcmlwdGlvbicgKyBxdWV1ZS5xdWV1ZUlkICsgJ1wiPkRlc2NyaXB0aW9uOjwvbGFiZWw+JylcclxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxkaXYgY2xhc3M9XCJjb2wtc20tOVwiPjwvZGl2PicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQodGhpcy5zaWduVXBEZXNjcmlwdGlvbklucHV0ID0gJCgnPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBpZD1cInNpZ25VcERlc2NyaXB0aW9uJyArIHF1ZXVlLnF1ZXVlSWQgKyAnXCJyZXF1aXJlZD1cInJlcXVpcmVkXCIgbWF4bGVuZ3RoPVwiMTAwXCIgcGxhY2Vob2xkZXI9XCJlLmcuIFNlZ2ZhdWx0IGluIGZ1bmN0aW9uIFgsIHVzaW5nIHRoZSBtYXAgZGF0YSBzdHJ1Y3R1cmUsIGV0Yy5cIj4nKSlcclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+PC9kaXY+JylcclxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCc8bGFiZWwgY2xhc3M9XCJjb250cm9sLWxhYmVsIGNvbC1zbS0zXCIgZm9yPVwic2lnblVwTG9jYXRpb24nICsgcXVldWUucXVldWVJZCArICdcIj5Mb2NhdGlvbjo8L2xhYmVsPicpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8ZGl2IGNsYXNzPVwiY29sLXNtLTlcIj48L2Rpdj4nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKHRoaXMuc2lnblVwTG9jYXRpb25JbnB1dCA9ICQoJzxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgaWQ9XCJzaWduVXBMb2NhdGlvbicgKyBxdWV1ZS5xdWV1ZUlkICsgJ1wicmVxdWlyZWQ9XCJyZXF1aXJlZFwiIG1heGxlbmd0aD1cIjMwXCIgcGxhY2Vob2xkZXI9XCJlLmcuIENvbXB1dGVyICMzNiwgbGFwdG9wIGJ5IGdsYXNzL2F0cml1bSBkb29yLCBldGMuXCI+JykpXHJcbiAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZCgnPGRpdiBjbGFzcz1cImhpZGRlbi14cyBmb3JtLWdyb3VwXCI+PGRpdiBjbGFzcz1cImNvbC1zbS1vZmZzZXQtMyBjb2wtc20tOVwiPjxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzPVwiYnRuIGJ0bi1zdWNjZXNzIHF1ZXVlLXNpZ25VcEJ1dHRvblwiPlNpZ24gVXA8L2J1dHRvbj4gPGJ1dHRvbiB0eXBlPVwic3VibWl0XCIgY2xhc3M9XCJidG4gYnRuLXN1Y2Nlc3MgcXVldWUtdXBkYXRlUmVxdWVzdEJ1dHRvblwiIHN0eWxlPVwiZGlzcGxheTpub25lO1wiPjwvYnV0dG9uPjwvZGl2PjwvZGl2PicpXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgIGNvbnRhaW5lckVsZW0uYXBwZW5kKHRoaXMuc2lnblVwRm9ybSk7XHJcblxyXG5cdHRoaXMuc3RhdHVzRWxlbSA9ICQoXCI8ZGl2PjwvZGl2PlwiKTtcclxuXHRjb250YWluZXJFbGVtLmFwcGVuZCh0aGlzLnN0YXR1c0VsZW0pO1xyXG5cclxuICAgICAgICB0aGlzLnNpZ25VcEZvcm0uZmluZChcImlucHV0XCIpLm9uKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmZvcm1DaGFuZ2VkKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICBpZiAodGhpcy5xdWV1ZS5oYXNNYXAoKSkge1xyXG4gICAgICAgICAgICByZWd1bGFyRm9ybUVsZW0uYWRkQ2xhc3MoXCJjb2wteHMtMTIgY29sLXNtLThcIik7XHJcbiAgICAgICAgICAgIHJlZ3VsYXJGb3JtRWxlbS5jc3MoXCJwYWRkaW5nXCIsIFwiMFwiKTtcclxuICAgICAgICAgICAgdGhpcy5zaWduVXBGb3JtLmFwcGVuZCh0aGlzLm1hcEhvbGRlciA9ICQoJzxkaXYgY2xhc3M9XCJjb2wteHMtMTIgY29sLXNtLTRcIiBzdHlsZT1cInBvc2l0aW9uOiByZWxhdGl2ZTsgcGFkZGluZzowXCI+PC9kaXY+JylcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQodGhpcy5zaWduVXBNYXAgPSAkKCc8aW1nIHNyYz1cImltZy8nICsgdGhpcy5xdWV1ZS5tYXBJbWFnZVNyYyArICdcIiBjbGFzcz1cInF1ZXVlLXNpZ25VcE1hcFwiIHN0eWxlPVwid2lkdGg6MTAwJVwiPjwvaW1nPicpKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZCh0aGlzLnNpZ25VcFBpbiA9ICQoJzxzcGFuIGNsYXNzPVwicXVldWUtbG9jYXRlUGluXCI+PHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLW1hcC1tYXJrZXJcIiBzdHlsZT1cInBvc2l0aW9uOmFic29sdXRlOyBsZWZ0Oi0xLjNjaDt0b3A6LTAuOTVlbTtcIj48L3NwYW4+PC9zcGFuPicpKVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgLy8gQWRkIGRpZmZlcmVudCBsYXlvdXQgZm9yIHNpZ24gdXAgYnV0dG9uIG9uIHNtYWxsIHNjcmVlbnNcclxuICAgICAgICAgICAgdGhpcy5zaWduVXBGb3JtLmFwcGVuZCgkKCc8ZGl2IGNsYXNzPVwidmlzaWJsZS14cyBjb2wteHMtMTJcIiBzdHlsZT1cInBhZGRpbmc6IDA7XCI+PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj48ZGl2IGNsYXNzPVwiY29sLXNtLW9mZnNldC0zIGNvbC1zbS05XCI+PGJ1dHRvbiB0eXBlPVwic3VibWl0XCIgY2xhc3M9XCJidG4gYnRuLXN1Y2Nlc3MgcXVldWUtc2lnblVwQnV0dG9uXCI+U2lnbiBVcDwvYnV0dG9uPiA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBjbGFzcz1cImJ0biBidG4tc3VjY2VzcyBxdWV1ZS11cGRhdGVSZXF1ZXN0QnV0dG9uXCIgc3R5bGU9XCJkaXNwbGF5Om5vbmU7XCI+PC9idXR0b24+PC9kaXY+PC9kaXY+PC9kaXY+JykpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHBpbiA9IHRoaXMuc2lnblVwUGluO1xyXG4gICAgICAgICAgICB0aGlzLm1hcFggPSA1MDtcclxuICAgICAgICAgICAgdGhpcy5tYXBZID0gNTA7XHJcbiAgICAgICAgICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgdGhpcy5zaWduVXBNYXAuY2xpY2soZnVuY3Rpb24gKGUpIHsgLy9PZmZzZXQgbW91c2UgUG9zaXRpb25cclxuICAgICAgICAgICAgICAgIC8vIFVzZSAhIGZvciBub24tbnVsbCBhc3NlcnRpb25cclxuICAgICAgICAgICAgICAgIHNlbGYubWFwWCA9IDEwMCAqIE1hdGgudHJ1bmMoKGUucGFnZVggLSAkKHRoaXMpLm9mZnNldCgpIS5sZWZ0KSkgLyAkKHRoaXMpLndpZHRoKCkhO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5tYXBZID0gMTAwICogTWF0aC50cnVuYyhlLnBhZ2VZIC0gJCh0aGlzKS5vZmZzZXQoKSEudG9wKSAvICQodGhpcykuaGVpZ2h0KCkhO1xyXG4gICAgICAgICAgICAgICAgLy8gdmFyIHBpbkxlZnQgPSBtYXBYIC0gcGluLndpZHRoKCkvMjtcclxuICAgICAgICAgICAgICAgIC8vIHZhciBwaW5Ub3AgPSBtYXBZIC0gcGluLmhlaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgcGluLmNzcyhcImxlZnRcIiwgc2VsZi5tYXBYICsgXCIlXCIpO1xyXG4gICAgICAgICAgICAgICAgcGluLmNzcyhcInRvcFwiLCBzZWxmLm1hcFkgKyBcIiVcIik7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmZvcm1DaGFuZ2VkKCk7XHJcbi8vICAgICAgICAgICAgYWxlcnQoXCJ4OlwiICsgbWFwWCArIFwiLCB5OlwiICsgbWFwWSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gRGlzYWJsZSByZWd1bGFyIGxvY2F0aW9uIGlucHV0XHJcbiAgICAgICAgICAgIHRoaXMuc2lnblVwTG9jYXRpb25JbnB1dC52YWwoXCJDbGljayBvbiB0aGUgbWFwIVwiKTtcclxuICAgICAgICAgICAgdGhpcy5zaWduVXBMb2NhdGlvbklucHV0LnByb3AoXCJkaXNhYmxlZFwiLCB0cnVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc2lnblVwRm9ybS5zdWJtaXQoKGUpID0+IHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB2YXIgc2lnblVwTmFtZTogc3RyaW5nID0gPHN0cmluZz50aGlzLnNpZ25VcE5hbWVJbnB1dC52YWwoKTtcclxuICAgICAgICAgICAgdmFyIHNpZ25VcERlc2NyaXB0aW9uOiBzdHJpbmcgPSA8c3RyaW5nPnRoaXMuc2lnblVwRGVzY3JpcHRpb25JbnB1dC52YWwoKTtcclxuICAgICAgICAgICAgdmFyIHNpZ25VcExvY2F0aW9uOiBzdHJpbmcgPSA8c3RyaW5nPnRoaXMuc2lnblVwTG9jYXRpb25JbnB1dC52YWwoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghc2lnblVwTmFtZSB8fCBzaWduVXBOYW1lLmxlbmd0aCA9PSAwIHx8XHJcbiAgICAgICAgICAgICAgICAhc2lnblVwTG9jYXRpb24gfHwgc2lnblVwTG9jYXRpb24ubGVuZ3RoID09IDAgfHxcclxuICAgICAgICAgICAgICAgICFzaWduVXBEZXNjcmlwdGlvbiB8fCBzaWduVXBEZXNjcmlwdGlvbi5sZW5ndGggPT0gMCl7XHJcbiAgICAgICAgICAgICAgICBzaG93RXJyb3JNZXNzYWdlKFwiWW91IG11c3QgZmlsbCBpbiBhbGwgdGhlIGZpZWxkcy5cIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICghdGhpcy5xdWV1ZS5teVJlcXVlc3QpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucXVldWUuc2lnblVwKFxyXG4gICAgICAgICAgICAgICAgICAgIHNpZ25VcE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgc2lnblVwTG9jYXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgc2lnblVwRGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBYLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFwWSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlLnVwZGF0ZVJlcXVlc3QoXHJcbiAgICAgICAgICAgICAgICAgICAgc2lnblVwTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBzaWduVXBMb2NhdGlvbixcclxuICAgICAgICAgICAgICAgICAgICBzaWduVXBEZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcFgsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBZKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMuZm9ybUhhc0NoYW5nZXMgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVSZXF1ZXN0QnV0dG9ucy5yZW1vdmVDbGFzcyhcImJ0bi13YXJuaW5nXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVJlcXVlc3RCdXR0b25zLmFkZENsYXNzKFwiYnRuLXN1Y2Nlc3NcIik7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUmVxdWVzdEJ1dHRvbnMucHJvcChcImRpc2FibGVkXCIsIHRydWUpO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVJlcXVlc3RCdXR0b25zLmh0bWwoU3R1ZGVudENvbnRyb2xzLlVQREFURV9SRVFVRVNUX0JVVFRPTl9VUF9UT19EQVRFKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNpZ25VcEJ1dHRvbnMgPSB0aGlzLnNpZ25VcEZvcm0uZmluZChcImJ1dHRvbi5xdWV1ZS1zaWduVXBCdXR0b25cIik7XHJcbiAgICAgICAgdGhpcy51cGRhdGVSZXF1ZXN0QnV0dG9ucyA9IHRoaXMuc2lnblVwRm9ybS5maW5kKFwiYnV0dG9uLnF1ZXVlLXVwZGF0ZVJlcXVlc3RCdXR0b25cIilcclxuICAgICAgICAgICAgLnByb3AoXCJkaXNhYmxlZFwiLCB0cnVlKS5odG1sKFN0dWRlbnRDb250cm9scy5VUERBVEVfUkVRVUVTVF9CVVRUT05fVVBfVE9fREFURSk7XHJcblxyXG4gICAgICAgIHRoaXMuZWxlbS5hcHBlbmQoY29udGFpbmVyRWxlbSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGZvcm1DaGFuZ2VkKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnF1ZXVlLm15UmVxdWVzdCkge1xyXG4gICAgICAgICAgICB0aGlzLmZvcm1IYXNDaGFuZ2VzID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVSZXF1ZXN0QnV0dG9ucy5yZW1vdmVDbGFzcyhcImJ0bi1zdWNjZXNzXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVJlcXVlc3RCdXR0b25zLmFkZENsYXNzKFwiYnRuLXdhcm5pbmdcIik7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUmVxdWVzdEJ1dHRvbnMucHJvcChcImRpc2FibGVkXCIsIGZhbHNlKTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVSZXF1ZXN0QnV0dG9ucy5odG1sKFN0dWRlbnRDb250cm9scy5VUERBVEVfUkVRVUVTVF9CVVRUT05fVVBEQVRFKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlZnJlc2hTaWduSW5FbmFibGVkKCkge1xyXG4gICAgICAgIHZhciBpc0VuYWJsZWQgPSBVc2VyLmlzVW1pY2goKSAmJiB0aGlzLnF1ZXVlLmlzT3BlbiAmJiAhdGhpcy5xdWV1ZS5teVJlcXVlc3Q7XHJcbiAgICAgICAgdGhpcy5zaWduVXBCdXR0b25zLnByb3AoXCJkaXNhYmxlZFwiLCAhaXNFbmFibGVkKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucXVldWUubXlSZXF1ZXN0KSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUmVxdWVzdEJ1dHRvbnMuc2hvdygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBAbWVzc2FnZVJlc3BvbnNlKClcclxuICAgIHByaXZhdGUgcXVldWVSZWZyZXNoZWQoKSB7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoU2lnbkluRW5hYmxlZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIEBtZXNzYWdlUmVzcG9uc2UoKVxyXG4gICAgcHJpdmF0ZSB1c2VyU2lnbmVkSW4oKSB7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoU2lnbkluRW5hYmxlZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIEBtZXNzYWdlUmVzcG9uc2UoKVxyXG4gICAgcHJpdmF0ZSBteVJlcXVlc3RTZXQoKSB7XHJcbiAgICAgICAgdmFyIHJlcSA9IHRoaXMucXVldWUubXlSZXF1ZXN0O1xyXG4gICAgICAgIHRoaXMuc3RhdHVzRWxlbS5odG1sKFwiXCIpO1xyXG4gICAgICAgIGlmIChyZXEpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmZvcm1IYXNDaGFuZ2VzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNpZ25VcE5hbWVJbnB1dC52YWwocmVxLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaWduVXBEZXNjcmlwdGlvbklucHV0LnZhbChyZXEuZGVzY3JpcHRpb24gfHwgXCJcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNpZ25VcExvY2F0aW9uSW5wdXQudmFsKHJlcS5sb2NhdGlvbiB8fCBcIlwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnF1ZXVlLmhhc01hcCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBYID0gcmVxLm1hcFg7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBZID0gcmVxLm1hcFk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaWduVXBQaW4hLmNzcyhcImxlZnRcIiwgdGhpcy5tYXBYICsgXCIlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2lnblVwUGluIS5jc3MoXCJ0b3BcIiwgdGhpcy5tYXBZICsgXCIlXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLnN0YXR1c0VsZW0uaHRtbChcIllvdSBhcmUgYXQgcG9zaXRpb24gXCIgKyByZXEuaW5kZXggKyBcIiBpbiB0aGUgcXVldWUuXCIpO1xyXG4gICAgICAgICAgICBpZiAocmVxLnRhZykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0dXNFbGVtLnByZXBlbmQoJzxzcGFuIGNsYXNzPVwibGFiZWwgbGFiZWwtaW5mb1wiPicgKyByZXEudGFnICsgJzwvc3Bhbj4gJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuY2xhc3MgQWRtaW5Db250cm9scyB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBfbmFtZSA9IFwiQWRtaW5Db250cm9sc1wiO1xyXG5cclxuICAgIHByaXZhdGUgcXVldWU6IGFueTtcclxuICAgIHByaXZhdGUgZWxlbTogSlF1ZXJ5O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHF1ZXVlOiBhbnksIGVsZW06IEpRdWVyeSkge1xyXG4gICAgICAgIHRoaXMucXVldWUgPSBxdWV1ZTtcclxuICAgICAgICB0aGlzLmVsZW0gPSBlbGVtO1xyXG5cclxuICAgICAgICB0aGlzLmVsZW0uYXBwZW5kKFwiPHA+PGI+QWRtaW4gQ29udHJvbHM8L2I+PC9wPlwiKTtcclxuICAgICAgICB2YXIgY2xlYXJRdWV1ZUJ1dHRvbiA9ICQoJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1kYW5nZXIgYWRtaW5Pbmx5XCIgZGF0YS10b2dnbGU9XCJtb2RhbFwiIGRhdGEtdGFyZ2V0PVwiI2NsZWFyVGhlUXVldWVEaWFsb2dcIj5DbGVhciB0aGUgcXVldWU8L2J1dHRvbj4nKTtcclxuICAgICAgICB0aGlzLnF1ZXVlLm1ha2VBY3RpdmVPbkNsaWNrKGNsZWFyUXVldWVCdXR0b24pOyAvLyBUT0RPIEkgZG9uJ3QgdGhpbmsgdGhpcyBpcyBuZWNlc3NhcnkgYW55bW9yZS4gSWYgdGhleSBjYW4gY2xpY2sgaXQsIGl0IHNob3VsZCBiZSBhY3RpdmUuXHJcbiAgICAgICAgdGhpcy5lbGVtLmFwcGVuZChjbGVhclF1ZXVlQnV0dG9uKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbGVtLmFwcGVuZChcIiBcIik7XHJcbiAgICAgICAgdmFyIG9wZW5TY2hlZHVsZURpYWxvZ0J1dHRvbiA9ICQoJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1pbmZvIGFkbWluT25seVwiIGRhdGEtdG9nZ2xlPVwibW9kYWxcIiBkYXRhLXRhcmdldD1cIiNzY2hlZHVsZURpYWxvZ1wiPlNjaGVkdWxlPC9idXR0b24+Jyk7XHJcbiAgICAgICAgdGhpcy5xdWV1ZS5tYWtlQWN0aXZlT25DbGljayhvcGVuU2NoZWR1bGVEaWFsb2dCdXR0b24pOyAvLyBUT0RPIEkgZG9uJ3QgdGhpbmsgdGhpcyBpcyBuZWNlc3NhcnkgYW55bW9yZS4gSWYgdGhleSBjYW4gY2xpY2sgaXQsIGl0IHNob3VsZCBiZSBhY3RpdmUuXHJcbiAgICAgICAgdGhpcy5lbGVtLmFwcGVuZChvcGVuU2NoZWR1bGVEaWFsb2dCdXR0b24pO1xyXG5cclxuICAgICAgICB0aGlzLmVsZW0uYXBwZW5kKFwiIFwiKTtcclxuICAgICAgICB2YXIgb3Blbk1hbmFnZVF1ZXVlRGlhbG9nQnV0dG9uID0gJCgnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWluZm8gYWRtaW5Pbmx5XCIgZGF0YS10b2dnbGU9XCJtb2RhbFwiIGRhdGEtdGFyZ2V0PVwiI21hbmFnZVF1ZXVlRGlhbG9nXCI+TWFuYWdlIFF1ZXVlPC9idXR0b24+Jyk7XHJcbiAgICAgICAgdGhpcy5xdWV1ZS5tYWtlQWN0aXZlT25DbGljayhvcGVuTWFuYWdlUXVldWVEaWFsb2dCdXR0b24pOyAvLyBUT0RPIEkgZG9uJ3QgdGhpbmsgdGhpcyBpcyBuZWNlc3NhcnkgYW55bW9yZS4gSWYgdGhleSBjYW4gY2xpY2sgaXQsIGl0IHNob3VsZCBiZSBhY3RpdmUuXHJcbiAgICAgICAgdGhpcy5lbGVtLmFwcGVuZChvcGVuTWFuYWdlUXVldWVEaWFsb2dCdXR0b24pO1xyXG5cclxuICAgICAgICB0aGlzLmVsZW0uYXBwZW5kKFwiIFwiKTtcclxuICAgICAgICBsZXQgb3BlbkFkZEFubm91bmNlbWVudERpYWxvZ0J1dHRvbiA9ICQoJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1pbmZvIGFkbWluT25seVwiIGRhdGEtdG9nZ2xlPVwibW9kYWxcIiBkYXRhLXRhcmdldD1cIiNhZGRBbm5vdW5jZW1lbnREaWFsb2dcIj5BZGQgQW5ub3VuY2VtZW50PC9idXR0b24+Jyk7XHJcbiAgICAgICAgdGhpcy5xdWV1ZS5tYWtlQWN0aXZlT25DbGljayhvcGVuQWRkQW5ub3VuY2VtZW50RGlhbG9nQnV0dG9uKTsgLy8gVE9ETyBJIGRvbid0IHRoaW5rIHRoaXMgaXMgbmVjZXNzYXJ5IGFueW1vcmUuIElmIHRoZXkgY2FuIGNsaWNrIGl0LCBpdCBzaG91bGQgYmUgYWN0aXZlLlxyXG4gICAgICAgIHRoaXMuZWxlbS5hcHBlbmQob3BlbkFkZEFubm91bmNlbWVudERpYWxvZ0J1dHRvbik7XHJcbiAgICB9XHJcbn07XHJcblxyXG5jbGFzcyBRdWV1ZUVudHJ5IHtcclxuICAgIHByaXZhdGUgc3RhdGljIF9uYW1lID0gXCJRdWV1ZUVudHJ5XCI7XHJcblxyXG4gICAgcHJpdmF0ZSBxdWV1ZTogYW55O1xyXG4gICAgXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaWQ6IHN0cmluZztcclxuICAgIHB1YmxpYyByZWFkb25seSBlbWFpbDogc3RyaW5nO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGluZGV4OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGlzTWU6IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbG9jYXRpb24/OiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZGVzY3JpcHRpb24/OiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdGFnPzogc3RyaW5nO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IG1hcFg/OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbWFwWT86IG51bWJlcjtcclxuXHJcbiAgICBwcml2YXRlIGVsZW06IEpRdWVyeTtcclxuICAgIHByaXZhdGUgbmFtZUVsZW06IEpRdWVyeTtcclxuICAgIHByaXZhdGUgbG9jYXRpb25FbGVtPzogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSBkZXNjcmlwdGlvbkVsZW0/OiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIHRhZ0VsZW0/OiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIHRzRWxlbTogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSBtYXBFbGVtPzogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSBtYXBQaW4/OiBKUXVlcnk7XHJcblxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHF1ZXVlOiBhbnksIGRhdGE6IHtbaW5kZXg6c3RyaW5nXTogc3RyaW5nfSwgaW5kZXg6IG51bWJlciwgZWxlbTogSlF1ZXJ5KSB7XHJcbiAgICAgICAgdGhpcy5xdWV1ZSA9IHF1ZXVlO1xyXG5cclxuICAgICAgICB0aGlzLmlkID0gZGF0YVtcImlkXCJdO1xyXG4gICAgICAgIHRoaXMuZW1haWwgPSBkYXRhW1wiZW1haWxcIl07XHJcblxyXG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcclxuICAgICAgICB0aGlzLmlzTWUgPSAhIWRhdGFbXCJuYW1lXCJdOyAvLyBpZiBpdCBoYXMgYSBuYW1lIGl0J3MgdGhlbVxyXG5cclxuICAgICAgICB0aGlzLmVsZW0gPSBlbGVtO1xyXG5cclxuICAgICAgICBsZXQgaW5mb0VsZW0gPSAkKCc8ZGl2IGNsYXNzPVwicXVldWUtZW50cnlJbmZvXCI+PC9kaXY+Jyk7XHJcblxyXG4gICAgICAgIGxldCBuYW1lID0gZGF0YVtcIm5hbWVcIl0gPyBkYXRhW1wibmFtZVwiXSArIFwiIChcIiArIGRhdGFbXCJlbWFpbFwiXSArIFwiKVwiIDogXCJBbm9ueW1vdXMgU3R1ZGVudFwiO1xyXG4gICAgICAgIHRoaXMubmFtZUVsZW0gPSAkKCc8cD48c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tZWR1Y2F0aW9uXCI+PC9zcGFuPjwvcD4nKVxyXG4gICAgICAgICAgICAuYXBwZW5kKFwiIFwiICsgbmFtZSlcclxuICAgICAgICAgICAgLmFwcGVuZFRvKGluZm9FbGVtKTtcclxuICAgICAgICBpZiAoZGF0YVtcInRhZ1wiXSAmJiBkYXRhW1widGFnXCJdLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy50YWcgPSBkYXRhW1widGFnXCJdO1xyXG4gICAgICAgICAgICB0aGlzLm5hbWVFbGVtLmFwcGVuZCgnIDxzcGFuIGNsYXNzPVwibGFiZWwgbGFiZWwtaW5mb1wiPicgKyB0aGlzLnRhZyArICc8L3NwYW4+Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubmFtZSA9IGRhdGFbXCJuYW1lXCJdO1xyXG5cclxuICAgICAgICBpZiAoZGF0YVtcImxvY2F0aW9uXCJdICYmIGRhdGFbXCJsb2NhdGlvblwiXS5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgdGhpcy5sb2NhdGlvbkVsZW0gPSAkKCc8cD48c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tbWFwLW1hcmtlclwiPjwvc3Bhbj48L3A+JylcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoXCIgXCIgKyBkYXRhW1wibG9jYXRpb25cIl0pXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kVG8oaW5mb0VsZW0pO1xyXG4gICAgICAgICAgICB0aGlzLmxvY2F0aW9uID0gZGF0YVtcImxvY2F0aW9uXCJdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGRhdGFbXCJkZXNjcmlwdGlvblwiXSAmJiBkYXRhW1wiZGVzY3JpcHRpb25cIl0ubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgIHRoaXMuZGVzY3JpcHRpb25FbGVtID0gJCgnPHA+PHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLXF1ZXN0aW9uLXNpZ25cIj48L3NwYW4+PC9wPicpXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKFwiIFwiICsgZGF0YVtcImRlc2NyaXB0aW9uXCJdKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZFRvKGluZm9FbGVtKTtcclxuICAgICAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRhdGFbXCJkZXNjcmlwdGlvblwiXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCB0aW1lV2FpdGluZyA9IERhdGUubm93KCkgLSBuZXcgRGF0ZShwYXJzZUludChkYXRhW1widHNcIl0pKjEwMDApLmdldFRpbWUoKTtcclxuICAgICAgICBsZXQgbWludXRlc1dhaXRpbmcgPSBNYXRoLnJvdW5kKHRpbWVXYWl0aW5nIC8gMTAwMCAvIDYwKTtcclxuICAgICAgICB0aGlzLnRzRWxlbSA9ICQoJzxwPjxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi10aW1lXCI+PC9zcGFuPjwvcD4nKVxyXG4gICAgICAgICAgICAuYXBwZW5kKFwiIFwiICsgbWludXRlc1dhaXRpbmcgKyBcIiBtaW5cIilcclxuICAgICAgICAgICAgLmFwcGVuZFRvKGluZm9FbGVtKTtcclxuXHJcbiAgICAgICAgbGV0IHJlbW92ZUJ1dHRvbiA9ICQoJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1kYW5nZXJcIj5SZW1vdmU8L2J1dHRvbj4nKTtcclxuICAgICAgICBpZiAoIXRoaXMuaXNNZSl7XHJcbiAgICAgICAgICAgIHJlbW92ZUJ1dHRvbi5hZGRDbGFzcyhcImFkbWluT25seVwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJlbW92ZUJ1dHRvbi5vbihcImNsaWNrXCIsIHRoaXMucXVldWUucmVtb3ZlUmVxdWVzdC5iaW5kKHRoaXMucXVldWUsIHRoaXMpKTtcclxuICAgICAgICBpbmZvRWxlbS5hcHBlbmQocmVtb3ZlQnV0dG9uKTtcclxuXHJcbiAgICAgICAgaW5mb0VsZW0uYXBwZW5kKFwiIFwiKTtcclxuXHJcblxyXG4gICAgICAgIGxldCBzZW5kTWVzc2FnZUJ1dHRvbiA9ICQoJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi13YXJuaW5nIGFkbWluT25seVwiPk1lc3NhZ2U8L2J1dHRvbj4nKTtcclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgc2VuZE1lc3NhZ2VCdXR0b24ub24oXCJjbGlja1wiLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBsZXQgc2VuZE1lc3NhZ2VEaWFsb2cgPSAkKFwiI3NlbmRNZXNzYWdlRGlhbG9nXCIpO1xyXG4gICAgICAgICAgICBzZW5kTWVzc2FnZURpYWxvZy5tb2RhbChcInNob3dcIik7XHJcbiAgICAgICAgICAgIFF1ZXVlQXBwbGljYXRpb24uaW5zdGFuY2Uuc2V0U2VuZE1lc3NhZ2VQb3N0SWQoc2VsZi5pZCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaW5mb0VsZW0uYXBwZW5kKHNlbmRNZXNzYWdlQnV0dG9uKTtcclxuXHJcblxyXG5cclxuICAgICAgICBpZih0aGlzLnF1ZXVlLmhhc01hcCgpICYmIGRhdGFbXCJtYXBYXCJdICE9PSB1bmRlZmluZWQgJiYgZGF0YVtcIm1hcFlcIl0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBsZXQgbWFwWCA9IHRoaXMubWFwWCA9IHBhcnNlRmxvYXQoZGF0YVtcIm1hcFhcIl0pO1xyXG4gICAgICAgICAgICBsZXQgbWFwWSA9IHRoaXMubWFwWSA9IHBhcnNlRmxvYXQoZGF0YVtcIm1hcFlcIl0pO1xyXG5cclxuICAgICAgICAgICAgbGV0IG1hcEVsZW0gPSAkKCc8ZGl2IGNsYXNzPVwiYWRtaW5Pbmx5XCIgc3R5bGU9XCJkaXNwbGF5OmlubGluZS1ibG9jazsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDI1JTsgbWFyZ2luLXJpZ2h0OiAxMHB4XCI+PC9kaXY+Jyk7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbS5hcHBlbmQobWFwRWxlbSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgbWFwSG9sZGVyID0gJCgnPGRpdiBzdHlsZT1cInBvc2l0aW9uOiByZWxhdGl2ZVwiPjwvZGl2PicpO1xyXG4gICAgICAgICAgICB0aGlzLm1hcEVsZW0gPSAkKCc8aW1nIGNsYXNzPVwiYWRtaW5Pbmx5IHF1ZXVlLWVudHJ5TWFwXCIgc3JjPVwiaW1nLycgKyB0aGlzLnF1ZXVlLm1hcEltYWdlU3JjICsgJ1wiPjwvaW1nPicpO1xyXG4gICAgICAgICAgICBtYXBIb2xkZXIuYXBwZW5kKHRoaXMubWFwRWxlbSk7XHJcbiAgICAgICAgICAgIHRoaXMubWFwUGluID0gJCgnPHNwYW4gY2xhc3M9XCJhZG1pbk9ubHkgcXVldWUtbG9jYXRlUGluXCI+PHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLW1hcC1tYXJrZXJcIiBzdHlsZT1cInBvc2l0aW9uOmFic29sdXRlOyBsZWZ0Oi0xLjNjaDt0b3A6LTAuOTVlbTtcIj48L3NwYW4+PC9zcGFuPicpO1xyXG4gICAgICAgICAgICB0aGlzLm1hcFBpbi5jc3MoXCJsZWZ0XCIsIG1hcFggKyBcIiVcIik7XHJcbiAgICAgICAgICAgIHRoaXMubWFwUGluLmNzcyhcInRvcFwiLCBtYXBZICsgXCIlXCIpO1xyXG4gICAgICAgICAgICBtYXBIb2xkZXIuYXBwZW5kKHRoaXMubWFwUGluKTtcclxuICAgICAgICAgICAgbWFwRWxlbS5hcHBlbmQobWFwSG9sZGVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGxldCBkaWJzQnV0dG9uID0gJCgnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWluZm8gYWRtaW5Pbmx5XCI+RGlicyE8L2J1dHRvbj4nKTtcclxuICAgICAgICAgICAgLy8gdGhpcy5lbGVtLmFwcGVuZChkaWJzQnV0dG9uKTtcclxuICAgICAgICAgICAgLy8gdGhpcy5lbGVtLmFwcGVuZChcIiBcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmVsZW0uYXBwZW5kKGluZm9FbGVtKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25SZW1vdmUoKSB7XHJcbiAgICAgICAgLy8gdGhpcy5zZW5kKFwicmVtb3ZlZFwiKTtcclxuICAgICAgICB0aGlzLmVsZW0uc2xpZGVVcChBTklNQVRJT05fREVMQVksIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFNjaGVkdWxlIHtcclxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IF9uYW1lOiBcIlNjaGVkdWxlXCI7XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgc2VxdWVuY2UgPSB7XHJcbiAgICAgICAgXCJvXCI6IFwiY1wiLFxyXG4gICAgICAgIFwiY1wiOiBcInBcIixcclxuICAgICAgICBcInBcIjogXCJvXCJcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSB1bml0RWxlbXMgOiBKUXVlcnlbXVtdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGVsZW0gOiBKUXVlcnkpIHtcclxuICAgICAgICBsZXQgZGlhbG9nID0gJChcIiNzY2hlZHVsZURpYWxvZ1wiKTtcclxuXHJcbiAgICAgICAgJChcIiNzY2hlZHVsZUZvcm1cIikuc3VibWl0KChlKSA9PiB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XHJcblxyXG4gICAgICAgICAgICBkaWFsb2cubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGRpYWxvZy5vbignc2hvd24uYnMubW9kYWwnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBTZXQgdXAgdGFibGUgaW4gc2NoZWR1bGUgcGlja2VyXHJcbiAgICAgICAgbGV0IHNjaGVkdWxlUGlja2VyID0gJChcIiNzY2hlZHVsZVBpY2tlclwiKTtcclxuXHJcbiAgICAgICAgLy8gRmlyc3Qgcm93IG9mIHRhYmxlIHdpdGggdGltZSBoZWFkZXJzXHJcbiAgICAgICAgbGV0IGZpcnN0Um93ID0gJChcIjx0cj48L3RyPlwiKS5hcHBlbmRUbyhzY2hlZHVsZVBpY2tlcik7XHJcblxyXG4gICAgICAgIC8vIEV4dHJhIGJsYW5rIGluIGZpcnN0IHJvdyB0byBjb3JyZXNwb25kIHRvIHJvdyBsYWJlbHMgaW4gb3RoZXIgcm93c1xyXG4gICAgICAgIGZpcnN0Um93LmFwcGVuZCgnPHRkIHN0eWxlPVwid2lkdGg6MWVtOyBwYWRkaW5nLXJpZ2h0OiAzcHg7XCI+PC90ZD4nKTtcclxuXHJcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IDI0OyArK2kpIHtcclxuICAgICAgICAgICAgZmlyc3RSb3cuYXBwZW5kKCc8dGQgY29sc3Bhbj1cIjJcIj4nICsgKGkgPT09IDAgfHwgaSA9PT0gMTIgPyAxMiA6IGkgJSAxMikgKyAnPC90ZD4nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudW5pdEVsZW1zID0gW107XHJcbiAgICAgICAgbGV0IGRheUxldHRlcnMgPSBbXCJTXCIsXCJNXCIsXCJUXCIsXCJXXCIsXCJUXCIsXCJGXCIsXCJTXCJdO1xyXG4gICAgICAgIGZvcih2YXIgciA9IDA7IHIgPCA3OyArK3IpIHtcclxuICAgICAgICAgICAgdmFyIGRheSA6IEpRdWVyeVtdID0gW107XHJcbiAgICAgICAgICAgIHZhciByb3dFbGVtID0gJCgnPHRyPjwvdHI+Jyk7XHJcbiAgICAgICAgICAgIHJvd0VsZW0uYXBwZW5kKCc8dGQgc3R5bGU9XCJ3aWR0aDoxZW07IHRleHQtYWxpZ246IHJpZ2h0OyBwYWRkaW5nLXJpZ2h0OiAzcHg7XCI+JyArIGRheUxldHRlcnNbcl0gKyAnPC90ZD4nKTtcclxuICAgICAgICAgICAgZm9yKHZhciBjID0gMDsgYyA8IDQ4OyArK2MpIHtcclxuICAgICAgICAgICAgICAgIHZhciB1bml0RWxlbSA9ICQoJzx0ZD48ZGl2IGNsYXNzPVwic2NoZWR1bGVVbml0XCI+PC9kaXY+PC90ZD4nKS5hcHBlbmRUbyhyb3dFbGVtKS5maW5kKFwiLnNjaGVkdWxlVW5pdFwiKTtcclxuICAgICAgICAgICAgICAgIGRheS5wdXNoKHVuaXRFbGVtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnVuaXRFbGVtcy5wdXNoKGRheSk7XHJcbiAgICAgICAgICAgIHNjaGVkdWxlUGlja2VyLmFwcGVuZChyb3dFbGVtKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBwcmVzc2VkID0gZmFsc2U7XHJcbiAgICAgICAgc2NoZWR1bGVQaWNrZXIub24oXCJtb3VzZWRvd25cIiwgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgcHJlc3NlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBzY2hlZHVsZVBpY2tlci5vbihcIm1vdXNldXBcIiwgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgcHJlc3NlZCA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNjaGVkdWxlUGlja2VyLm9uKFwibW91c2VsZWF2ZVwiLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBwcmVzc2VkID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZGlhbG9nLm9uKCdoaWRkZW4uYnMubW9kYWwnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHByZXNzZWQgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbGV0IGNoYW5nZUNvbG9yID0gKGVsZW06IEpRdWVyeSkgPT57XHJcbiAgICAgICAgICAgIGlmIChwcmVzc2VkKXtcclxuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50VHlwZTogXCJvXCIgfCBcImNcIiB8IFwicFwiID0gZWxlbS5kYXRhKFwic2NoZWR1bGVUeXBlXCIpO1xyXG4gICAgICAgICAgICAgICAgZWxlbS5yZW1vdmVDbGFzcyhcInNjaGVkdWxlVW5pdC1cIiArIGN1cnJlbnRUeXBlKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbmV4dFR5cGUgPSBTY2hlZHVsZS5zZXF1ZW5jZVtjdXJyZW50VHlwZV07XHJcbiAgICAgICAgICAgICAgICBlbGVtLmRhdGEoXCJzY2hlZHVsZVR5cGVcIiwgbmV4dFR5cGUpO1xyXG4gICAgICAgICAgICAgICAgZWxlbS5hZGRDbGFzcyhcInNjaGVkdWxlVW5pdC1cIiArIG5leHRUeXBlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2NoZWR1bGVQaWNrZXIub24oXCJtb3VzZW92ZXJcIiwgXCIuc2NoZWR1bGVVbml0XCIsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGNoYW5nZUNvbG9yKCQodGhpcykpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc2NoZWR1bGVQaWNrZXIub24oXCJtb3VzZWRvd25cIiwgXCIuc2NoZWR1bGVVbml0XCIsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHByZXNzZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBjaGFuZ2VDb2xvcigkKHRoaXMpKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWZyZXNoKCkge1xyXG4gICAgICAgIGxldCBhcSA9IFF1ZXVlQXBwbGljYXRpb24uaW5zdGFuY2UuYWN0aXZlUXVldWUoKTtcclxuICAgICAgICBpZiAoYXEpIHtcclxuICAgICAgICAgICAgcmV0dXJuICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICAgICAgdXJsOiBcImFwaS9zY2hlZHVsZS9cIiArIGFxLnF1ZXVlSWQsXHJcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzY2hlZHVsZSA9IGRhdGE7IC8vIGFycmF5IG9mIDcgc3RyaW5nc1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcih2YXIgciA9IDA7IHIgPCA3OyArK3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBjID0gMDsgYyA8IDQ4OyArK2MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbGVtID0gdGhpcy51bml0RWxlbXNbcl1bY107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtLnJlbW92ZUNsYXNzKCk7IC8vIHJlbW92ZXMgYWxsIGNsYXNzZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uYWRkQ2xhc3MoXCJzY2hlZHVsZVVuaXRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtLmFkZENsYXNzKFwic2NoZWR1bGVVbml0LVwiICsgc2NoZWR1bGVbcl0uY2hhckF0KGMpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uZGF0YShcInNjaGVkdWxlVHlwZVwiLCBzY2hlZHVsZVtyXS5jaGFyQXQoYykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVycm9yOiBvb3BzXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAoIVF1ZXVlQXBwbGljYXRpb24uaW5zdGFuY2UuYWN0aXZlUXVldWUoKSkgeyByZXR1cm47IH1cclxuXHJcbiAgICAgICAgLy8gbG9sIGNhbid0IG1ha2UgdXAgbXkgbWluZCB3aGV0aGVyIEkgbGlrZSBmdW5jdGlvbmFsIHZzLiBpdGVyYXRpdmVcclxuICAgICAgICB2YXIgc2NoZWR1bGUgPSBbXTtcclxuICAgICAgICBmb3IodmFyIHIgPSAwOyByIDwgNzsgKytyKSB7XHJcbiAgICAgICAgICAgIHNjaGVkdWxlLnB1c2godGhpcy51bml0RWxlbXNbcl0ubWFwKGZ1bmN0aW9uKHVuaXRFbGVtKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiB1bml0RWxlbS5kYXRhKFwic2NoZWR1bGVUeXBlXCIpO1xyXG4gICAgICAgICAgICB9KS5qb2luKFwiXCIpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBhcSA9IFF1ZXVlQXBwbGljYXRpb24uaW5zdGFuY2UuYWN0aXZlUXVldWUoKTtcclxuICAgICAgICBpZiAoYXEpIHtcclxuICAgICAgICAgICAgcmV0dXJuICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgIHVybDogXCJhcGkvdXBkYXRlU2NoZWR1bGVcIixcclxuICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICBpZHRva2VuOiBVc2VyLmlkVG9rZW4oKSxcclxuICAgICAgICAgICAgICAgICAgICBxdWV1ZUlkOiBhcS5xdWV1ZUlkLFxyXG4gICAgICAgICAgICAgICAgICAgIHNjaGVkdWxlOiBzY2hlZHVsZVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2NoZWR1bGUgdXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlcnJvcjogb29wc1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBNYW5hZ2VRdWV1ZURpYWxvZyB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBfbmFtZTogXCJNYW5hZ2VRdWV1ZURpYWxvZ1wiO1xyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFBPTElDSUVTX1VQX1RPX0RBVEUgPSAnPHNwYW4+PHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLWZsb3BweS1zYXZlZFwiPjwvc3Bhbj4gU2F2ZWQ8L3NwYW4+JztcclxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFBPTElDSUVTX1VOU0FWRUQgPSAnPHNwYW4+PHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLWZsb3BweS1vcGVuXCI+PC9zcGFuPiBVcGRhdGUgQ29uZmlndXJhdGlvbjwvc3Bhbj4nO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBfYWN0ISA6IE1lc3NhZ2VSZXNwb25zZXM7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSB1cGRhdGVDb25maWd1cmF0aW9uQnV0dG9uIDogSlF1ZXJ5O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIGxldCBkaWFsb2cgPSAkKFwiI21hbmFnZVF1ZXVlRGlhbG9nXCIpO1xyXG5cclxuICAgICAgICBsZXQgZ3JvdXBzRm9ybSA9ICQoXCIjZ3JvdXBzRm9ybVwiKTtcclxuICAgICAgICBncm91cHNGb3JtLnN1Ym1pdChmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBsZXQgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoPEhUTUxGb3JtRWxlbWVudD5ncm91cHNGb3JtWzBdKTtcclxuICAgICAgICAgICAgbGV0IGFxID0gUXVldWVBcHBsaWNhdGlvbi5pbnN0YW5jZS5hY3RpdmVRdWV1ZSgpO1xyXG4gICAgICAgICAgICBhcSAmJiBhcS51cGRhdGVHcm91cHMoZm9ybURhdGEpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxldCBwb2xpY2llc0Zvcm0gPSAkKFwiI3BvbGljaWVzRm9ybVwiKTtcclxuICAgICAgICBwb2xpY2llc0Zvcm0uc3VibWl0KChlKSA9PiB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlQ29uZmlndXJhdGlvbkJ1dHRvbiA9ICQoXCIjdXBkYXRlQ29uZmlndXJhdGlvbkJ1dHRvblwiKTtcclxuXHJcbiAgICAgICAgJChcIiNwcmV2ZW50VW5yZWdpc3RlcmVkQ2hlY2tib3hcIikuY2hhbmdlKHRoaXMudW5zYXZlZENoYW5nZXMuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgJChcIiNwcmV2ZW50R3JvdXBzQ2hlY2tib3hcIikuY2hhbmdlKHRoaXMudW5zYXZlZENoYW5nZXMuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgJChcIiNwcmlvcml0aXplTmV3Q2hlY2tib3hcIikuY2hhbmdlKHRoaXMudW5zYXZlZENoYW5nZXMuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgJChcIiNwcmV2ZW50R3JvdXBzQm9vc3RDaGVja2JveFwiKS5jaGFuZ2UodGhpcy51bnNhdmVkQ2hhbmdlcy5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICAgICAgUXVldWVBcHBsaWNhdGlvbi5pbnN0YW5jZS5vYnNlcnZhYmxlLmFkZExpc3RlbmVyKHRoaXMpO1xyXG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgfVxyXG5cclxuICAgIEBtZXNzYWdlUmVzcG9uc2UoXCJhY3RpdmVRdWV1ZVNldFwiKVxyXG4gICAgcHVibGljIHJlZnJlc2goKSB7XHJcbiAgICAgICAgbGV0IGFxID0gUXVldWVBcHBsaWNhdGlvbi5pbnN0YW5jZS5hY3RpdmVRdWV1ZSgpO1xyXG4gICAgICAgIGlmICghYXEpIHsgcmV0dXJuO31cclxuICAgICAgICBpZiAoIWFxLmlzQWRtaW4pIHsgcmV0dXJuOyB9XHJcblxyXG4gICAgICAgICQoXCIjY2hlY2tRdWV1ZVJvc3RlckxpbmtcIikuYXR0cihcImhyZWZcIiwgXCJhcGkvcm9zdGVyL1wiICsgYXEucXVldWVJZCk7XHJcbiAgICAgICAgJChcIiNjaGVja1F1ZXVlR3JvdXBzTGlua1wiKS5hdHRyKFwiaHJlZlwiLCBcImFwaS9ncm91cHMvXCIgKyBhcS5xdWV1ZUlkKTtcclxuXHJcbiAgICAgICAgcmV0dXJuICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIHVybDogXCJhcGkvcXVldWVDb25maWd1cmF0aW9uL1wiICsgYXEucXVldWVJZCxcclxuICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiB0aGlzLnJlZnJlc2hSZXNwb25zZS5iaW5kKHRoaXMpLFxyXG4gICAgICAgICAgICBlcnJvcjogb29wc1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVmcmVzaFJlc3BvbnNlKGRhdGEgOiB7W2luZGV4OnN0cmluZ106IHN0cmluZ30pIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShkYXRhKSk7XHJcbiAgICAgICAgJChcIiNwcmV2ZW50VW5yZWdpc3RlcmVkQ2hlY2tib3hcIikucHJvcChcImNoZWNrZWRcIiwgZGF0YVtcInByZXZlbnRVbnJlZ2lzdGVyZWRcIl0gPT09IFwieVwiKTtcclxuICAgICAgICAkKFwiI3ByZXZlbnRHcm91cHNDaGVja2JveFwiKS5wcm9wKFwiY2hlY2tlZFwiLCBkYXRhW1wicHJldmVudEdyb3Vwc1wiXSA9PT0gXCJ5XCIpO1xyXG4gICAgICAgICQoXCIjcHJpb3JpdGl6ZU5ld0NoZWNrYm94XCIpLnByb3AoXCJjaGVja2VkXCIsIGRhdGFbXCJwcmlvcml0aXplTmV3XCJdID09PSBcInlcIik7XHJcbiAgICAgICAgJChcIiNwcmV2ZW50R3JvdXBzQm9vc3RDaGVja2JveFwiKS5wcm9wKFwiY2hlY2tlZFwiLCBkYXRhW1wicHJldmVudEdyb3Vwc0Jvb3N0XCJdID09PSBcInlcIik7XHJcblxyXG4gICAgICAgIHRoaXMuY2hhbmdlc1VwVG9EYXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSgpIHtcclxuICAgICAgICBsZXQgYXEgPSBRdWV1ZUFwcGxpY2F0aW9uLmluc3RhbmNlLmFjdGl2ZVF1ZXVlKCk7XHJcbiAgICAgICAgaWYgKCFhcSkgeyByZXR1cm47fVxyXG4gICAgICAgIGFxLnVwZGF0ZUNvbmZpZ3VyYXRpb24oe1xyXG4gICAgICAgICAgICBwcmV2ZW50VW5yZWdpc3RlcmVkIDogJChcIiNwcmV2ZW50VW5yZWdpc3RlcmVkQ2hlY2tib3hcIikuaXMoXCI6Y2hlY2tlZFwiKSA/IFwieVwiIDogXCJuXCIsXHJcbiAgICAgICAgICAgIHByZXZlbnRHcm91cHMgOiAkKFwiI3ByZXZlbnRHcm91cHNDaGVja2JveFwiKS5pcyhcIjpjaGVja2VkXCIpID8gXCJ5XCIgOiBcIm5cIixcclxuICAgICAgICAgICAgcHJpb3JpdGl6ZU5ldyA6ICQoXCIjcHJpb3JpdGl6ZU5ld0NoZWNrYm94XCIpLmlzKFwiOmNoZWNrZWRcIikgPyBcInlcIiA6IFwiblwiLFxyXG4gICAgICAgICAgICBwcmV2ZW50R3JvdXBzQm9vc3QgOiAkKFwiI3ByZXZlbnRHcm91cHNCb29zdENoZWNrYm94XCIpLmlzKFwiOmNoZWNrZWRcIikgPyBcInlcIiA6IFwiblwiXHJcbiAgICAgICAgfSkuZG9uZSh0aGlzLmNoYW5nZXNVcFRvRGF0ZS5iaW5kKHRoaXMpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVuc2F2ZWRDaGFuZ2VzKCkge1xyXG4gICAgICAgIHRoaXMudXBkYXRlQ29uZmlndXJhdGlvbkJ1dHRvbi5odG1sKE1hbmFnZVF1ZXVlRGlhbG9nLlBPTElDSUVTX1VOU0FWRUQpXHJcbiAgICAgICAgICAgIC5wcm9wKFwiZGlzYWJsZWRcIiwgZmFsc2UpXHJcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcyhcImJ0bi1zdWNjZXNzXCIpXHJcbiAgICAgICAgICAgIC5hZGRDbGFzcyhcImJ0bi13YXJuaW5nXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2hhbmdlc1VwVG9EYXRlKCkge1xyXG4gICAgICAgIHRoaXMudXBkYXRlQ29uZmlndXJhdGlvbkJ1dHRvbi5odG1sKE1hbmFnZVF1ZXVlRGlhbG9nLlBPTElDSUVTX1VQX1RPX0RBVEUpXHJcbiAgICAgICAgICAgIC5wcm9wKFwiZGlzYWJsZWRcIiwgdHJ1ZSlcclxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKFwiYnRuLXdhcm5pbmdcIilcclxuICAgICAgICAgICAgLmFkZENsYXNzKFwiYnRuLXN1Y2Nlc3NcIik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBuYW1lc3BhY2UgVXNlciB7XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHNpZ25JbihlbWFpbDogc3RyaW5nLCBpZHRva2VuOiBzdHJpbmcpIHtcclxuICAgICAgICBsZXQgbmV3VXNlciA9IG5ldyBBdXRoZW50aWNhdGVkVXNlcihlbWFpbCwgaWR0b2tlbik7XHJcblxyXG4gICAgICAgIHZhciBhY2NvdW50TWVzc2FnZUVsZW0gPSAkKFwiI2FjY291bnRNZXNzYWdlXCIpO1xyXG4gICAgICAgIC8vIElmIHRoZXkncmUgbm90IHVtaWNoLCB0aGV5IGNhbid0IHNpZ24gdXAhXHJcbiAgICAgICAgaWYgKCFuZXdVc2VyLmlzVW1pY2goKSl7XHJcbiAgICAgICAgICAgIGFjY291bnRNZXNzYWdlRWxlbS5zaG93KCk7XHJcbiAgICAgICAgICAgIGFjY291bnRNZXNzYWdlRWxlbS5odG1sKFwiSGkgXCIgKyBuZXdVc2VyLmVtYWlsICsgXCIhIFBsZWFzZSA8YT5zaWduIG91dDwvYT4gYW5kIHN3aXRjaCB0byBhbiBAdW1pY2guZWR1IGFjY291bnQgdG8gdXNlIHRoZSBxdWV1ZS5cIik7XHJcbiAgICAgICAgICAgIGFjY291bnRNZXNzYWdlRWxlbS5maW5kKFwiYVwiKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGF1dGgyID0gZ2FwaS5hdXRoMi5nZXRBdXRoSW5zdGFuY2UoKTtcclxuICAgICAgICAgICAgICAgIGF1dGgyLmRpc2Nvbm5lY3QoKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBVc2VyLnNpZ25PdXQoKTtcclxuICAgICAgICAgICAgICAgICAgICBhY2NvdW50TWVzc2FnZUVsZW0uaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgJChcIi5vcGVuU2lnblVwRGlhbG9nQnV0dG9uXCIpLnByb3AoXCJkaXNhYmxlZFwiLCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGFjY291bnRNZXNzYWdlRWxlbS5lbXB0eSgpO1xyXG4gICAgICAgICAgICBhY2NvdW50TWVzc2FnZUVsZW0uaGlkZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gc2lnbk91dCgpIHtcclxuICAgICAgICB2YXIgYWNjb3VudE1lc3NhZ2VFbGVtID0gJChcIiNhY2NvdW50TWVzc2FnZVwiKTtcclxuICAgICAgICBhY2NvdW50TWVzc2FnZUVsZW0uaGlkZSgpO1xyXG5cclxuICAgICAgICB0aGVVc2VyICYmIHRoZVVzZXIub25TaWduT3V0KCk7XHJcblxyXG4gICAgICAgIG5ldyBVbmF1dGhlbnRpY2F0ZWRVc2VyKCk7IC8vIHdpbGwgaW1wbGljaXRseSBzZXQgdGhlVXNlciBzaW5nbGV0b24gaW5zdGFuY2VcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gaWRUb2tlbigpIHtcclxuICAgICAgICByZXR1cm4gdGhlVXNlci5pZFRva2VuKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGlzVW1pY2goKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoZVVzZXIuaXNVbWljaCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBpc0NvdXJzZUFkbWluKGNvdXJzZUlkOiBzdHJpbmcpIHtcclxuICAgICAgICByZXR1cm4gdGhlVXNlci5pc0NvdXJzZUFkbWluKGNvdXJzZUlkKTtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gaXNNZShlbWFpbDogc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoZVVzZXIuaXNNZShlbWFpbCk7XHJcbiAgICB9XHJcblxyXG4gICAgYWJzdHJhY3QgY2xhc3MgVXNlckJhc2Uge1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9uYW1lID0gXCJVc2VyQmFzZVwiO1xyXG4gICAgXHJcbiAgICAgICAgcHVibGljIGFic3RyYWN0IGlzVW1pY2goKSA6IGJvb2xlYW47XHJcbiAgICAgICAgcHVibGljIGFic3RyYWN0IGlkVG9rZW4oKSA6IHN0cmluZztcclxuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgaXNDb3Vyc2VBZG1pbihjb3Vyc2VJZDogc3RyaW5nKSA6IGJvb2xlYW47XHJcbiAgICAgICAgcHVibGljIGFic3RyYWN0IGlzTWUoZW1haWw6IHN0cmluZykgOiBib29sZWFuO1xyXG4gICAgXHJcbiAgICAgICAgcHVibGljIG9uU2lnbk91dCgpIHtcclxuICAgICAgICAgICAgLy8gbm90aGluZyB0byBkbyBoZXJlIGZvciBub3dcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBvbkZpbmlzaFNpZ25pbmdJbigpIHtcclxuICAgICAgICAgICAgdGhlVXNlciA9IHRoaXM7XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gTm90aWZ5IHRoZSBhcHBsaWNhdGlvbiB0aGVyZSdzIGEgbmV3IHVzZXIgaW4gdG93blxyXG4gICAgICAgICAgICBRdWV1ZUFwcGxpY2F0aW9uLmluc3RhbmNlICYmIFF1ZXVlQXBwbGljYXRpb24uaW5zdGFuY2UudXNlclNpZ25lZEluKCk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICB9XHJcblxyXG4gICAgY2xhc3MgQXV0aGVudGljYXRlZFVzZXIgZXh0ZW5kcyBVc2VyQmFzZSB7XHJcblxyXG4gICAgICAgIHB1YmxpYyByZWFkb25seSBlbWFpbDogc3RyaW5nO1xyXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgX2lkVG9rZW46IHN0cmluZztcclxuICAgICAgICBwcml2YXRlIGFkbWluczoge1tpbmRleDogc3RyaW5nXTogYm9vbGVhbn0gPSB7fTtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoZW1haWw6IHN0cmluZywgaWR0b2tlbjogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZW1haWwgPSBlbWFpbDtcclxuICAgICAgICAgICAgdGhpcy5faWRUb2tlbiA9IGlkdG9rZW47XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgICAgICB1cmw6IFwiYXBpL2xvZ2luXCIsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWR0b2tlbjogdGhpcy5pZFRva2VuKClcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrQWRtaW4oKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlcnJvcjogb29wc1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIFxyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIHB1YmxpYyBpc1VtaWNoKCkgOiBib29sZWFuIHtcclxuICAgICAgICAgICAgcmV0dXJuIGVuZHNXaXRoKHRoaXMuZW1haWwsIFwiQHVtaWNoLmVkdVwiKTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBwdWJsaWMgaXNNZShlbWFpbDogc3RyaW5nKSA6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbWFpbCA9PT0gZW1haWw7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgcHVibGljIGlkVG9rZW4oKSA6IHN0cmluZyB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pZFRva2VuO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIHByaXZhdGUgY2hlY2tBZG1pbigpIDogdm9pZCB7XHJcbiAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgIHVybDogXCJhcGkvYWRtaW5Db3Vyc2VzXCIsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWR0b2tlbjogdGhpcy5pZFRva2VuKClcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkbWluc1tkYXRhW2ldW1wiY291cnNlSWRcIl1dID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gSEFDSyBJZiBhZG1pbiBmb3IgYW55dGhpbmcsIGdpdmUgdGhlbSBmYXN0IHJlZnJlc2hcclxuICAgICAgICAgICAgICAgICAgICAvLyBzaG91bGQgb25seSBiZSBvbiB0aGUgcXVldWVzIHRoZXkgYWRtaW5pc3RlclxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFsc28gaWYgYWRtaW4gcHJvbXB0IGZvciBub3RpZmljYXRpb25zXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBRdWV1ZUFwcGxpY2F0aW9uLmluc3RhbmNlLnJlZnJlc2hBY3RpdmVRdWV1ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCA1MDAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChOb3RpZmljYXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5yZXF1ZXN0UGVybWlzc2lvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBRdWV1ZUFwcGxpY2F0aW9uLmluc3RhbmNlLnJlZnJlc2hBY3RpdmVRdWV1ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCA2MDAwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRmluaXNoU2lnbmluZ0luKCk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZXJyb3I6IG9vcHNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgcHVibGljIGlzQ291cnNlQWRtaW4oY291cnNlSWQ6IHN0cmluZykgOiBib29sZWFuIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWRtaW5zW2NvdXJzZUlkXTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgIH1cclxuXHJcbiAgICBjbGFzcyBVbmF1dGhlbnRpY2F0ZWRVc2VyIGV4dGVuZHMgVXNlckJhc2Uge1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMub25GaW5pc2hTaWduaW5nSW4oKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgIFF1ZXVlQXBwbGljYXRpb24uaW5zdGFuY2UucmVmcmVzaEFjdGl2ZVF1ZXVlKCk7XHJcbiAgICAgICAgICAgIH0sIDYwMDAwKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFRPRE86IGNsZWFuIHVwIHdoZXJlIHRoZSByZWZyZXNoIGludGVydmFscyBnZXQgc2V0XHJcbiAgICAgICAgICAgIC8vICAgICAgIHJpZ2h0IG5vdyBpdCBzZWVtcyBsaWtlIG11bHRpcGxlIGNhbiBnZXQgc2V0XHJcbiAgICBcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBwdWJsaWMgaXNVbWljaCgpIDogYm9vbGVhbiB7IHJldHVybiBmYWxzZTsgfVxyXG4gICAgICAgIHB1YmxpYyBpZFRva2VuKCkgOiBzdHJpbmcgeyByZXR1cm4gXCJcIjsgfVxyXG4gICAgICAgIHB1YmxpYyBpc0NvdXJzZUFkbWluKGNvdXJzZUlkOiBzdHJpbmcpIDogYm9vbGVhbiB7IHJldHVybiBmYWxzZTsgfVxyXG4gICAgICAgIHB1YmxpYyBpc01lKGVtYWlsOiBzdHJpbmcpIDogYm9vbGVhbiB7IHJldHVybiBmYWxzZTsgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBsZXQgdGhlVXNlcjogVXNlckJhc2UgPSBuZXcgVW5hdXRoZW50aWNhdGVkVXNlcigpO1xyXG5cclxufSAvLyBlbmQgVXNlciBuYW1lc3BhY2VcclxuXHJcblxyXG4vLyBHaXZlIHdhcm5pbmcgdG8gdXNlcnMgaW4gU2FmYXJpL2lPUyBwcml2YXRlIGJyb3dzaW5nXHJcbi8vIG1vZGUgdGhhdCBHb29nbGUgc2lnbi1pbiB3b24ndCB3b3JrLlxyXG4vLyBUT0RPOiBJJ20gbm90IGNvbnZpbmNlZCB0aGlzIGFjdHVhbGx5IGRvZXMgYW55dGhpbmdcclxuLy9odHRwczovL2dpc3QuZ2l0aHViLmNvbS9waGlsZnJlby82OGVhM2NkOTgwZDcyMzgzYzk1MVxyXG5pZiAodHlwZW9mIHNlc3Npb25TdG9yYWdlID09PSAnb2JqZWN0Jykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdsb2NhbFN0b3JhZ2UnLCBcIjFcIik7XHJcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgnbG9jYWxTdG9yYWdlJyk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgb29wcyhudWxsLCBcIkl0IGxvb2tzIGxpa2UgbG9jYWwgc3RvcmFnZSBpcyBkaXNhYmxlZCBpbiB5b3VyIGJyb3dzZXIuIFRoaXMgbWF5IGFnZ3JhdmF0ZSBhbiBpc3N1ZSB3aXRoIEdvb2dsZSBzaWduLWluIG9uIFNhZmFyaSBvciBpT1Mgd2hpbGUgdXNpbmcgcHJpdmF0ZSBicm93c2luZyBtb2RlLlwiKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gb29wcyh4aHI6IGFueSwgdGV4dFN0YXR1czogYW55KXtcclxuICAgIGlmICh0ZXh0U3RhdHVzID09PSBcImFib3J0XCIpIHsgcmV0dXJuOyB9XHJcbiAgICBjb25zb2xlLmxvZyhcIk9vcHMuIEFuIGVycm9yIG9jY3VycmVkLiBUcnkgcmVmcmVzaGluZyB0aGUgcGFnZS5cIik7XHJcbiAgICAkKFwiI29vcHNEaWFsb2dcIikubW9kYWwoXCJzaG93XCIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzaG93RXJyb3JNZXNzYWdlKG1lc3NhZ2U6IGFueSkge1xyXG4gICAgY29uc29sZS5sb2cobWVzc2FnZSk7XHJcbiAgICAkKFwiI2Vycm9yTWVzc2FnZVwiKS5odG1sKG1lc3NhZ2UpO1xyXG4gICAgJChcIiNlcnJvckRpYWxvZ1wiKS5tb2RhbChcInNob3dcIik7XHJcbn1cclxuIiwiXHJcbmltcG9ydCBwdWxsIGZyb20gXCJsb2Rhc2gvcHVsbFwiO1xyXG5cclxuaW50ZXJmYWNlIE1lc3NhZ2Uge1xyXG4gICAgY2F0ZWdvcnk6IHN0cmluZztcclxuICAgIGRhdGE6IHt9O1xyXG4gICAgc291cmNlOiBhbnk7XHJcbn1cclxuXHJcblxyXG4vLyBpbnRlcmZhY2UgT2JzZXJ2YWJsZVR5cGUge1xyXG4vLyAgICAgc2VuZChjYXRlZ29yeTogc3RyaW5nLCBkYXRhOiBhbnkpIDogdm9pZDtcclxuLy8gICAgIGFkZExpc3RlbmVyKGxpc3RlbmVyOiBPYnNlcnZlclR5cGUsIGNhdGVnb3J5Pzogc3RyaW5nIHwgc3RyaW5nW10pIDogT2JzZXJ2YWJsZVR5cGU7XHJcbi8vICAgICByZW1vdmVMaXN0ZW5lcihsaXN0ZW5lcjogT2JzZXJ2ZXJUeXBlLCBjYXRlZ29yeT86IHN0cmluZykgOiBPYnNlcnZhYmxlVHlwZTtcclxuLy8gICAgIGlkZW50aWZ5KGNhdGVnb3J5OiBzdHJpbmcsIGZ1bmM6IChvOk9ic2VydmVyVHlwZSkgPT4gYW55KSA6IE9ic2VydmVyVHlwZTtcclxuLy8gfVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZExpc3RlbmVyKG9ialdpdGhPYnNlcnZhYmxlOiB7b2JzZXJ2YWJsZTogT2JzZXJ2YWJsZX0sIGxpc3RlbmVyOiBPYnNlcnZlclR5cGUsIGNhdGVnb3J5Pzogc3RyaW5nIHwgc3RyaW5nW10pIHtcclxuICAgIG9ialdpdGhPYnNlcnZhYmxlLm9ic2VydmFibGUuYWRkTGlzdGVuZXIobGlzdGVuZXIsIGNhdGVnb3J5KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1lc3NhZ2VSZXNwb25zZShtZXNzYWdlQ2F0ZWdvcnk/OiBzdHJpbmcpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0OiBhbnksIHByb3BlcnR5S2V5OiBzdHJpbmcsIGRlc2NyaXB0b3I6IFByb3BlcnR5RGVzY3JpcHRvcikge1xyXG4gICAgICAgIGlmICghdGFyZ2V0Ll9hY3QpIHsgdGFyZ2V0Ll9hY3QgPSB7fTsgfVxyXG4gICAgICAgIHRhcmdldC5fYWN0W21lc3NhZ2VDYXRlZ29yeSB8fCBwcm9wZXJ0eUtleV0gPSB0YXJnZXRbcHJvcGVydHlLZXldO1xyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBNZXNzYWdlUmVzcG9uc2VzIHtcclxuICAgIFtpbmRleDogc3RyaW5nXTogKChtc2c6IE1lc3NhZ2UpID0+IHZvaWQpO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE9ic2VydmVyVHlwZSB7XHJcbiAgICBfYWN0IDogTWVzc2FnZVJlc3BvbnNlcztcclxufVxyXG5cclxuLy8gZXhwb3J0IGNsYXNzIE9ic2VydmVyIHtcclxuLy8gICAgIHByaXZhdGUgcmVhZG9ubHkgYWN0b3I6IEFjdG9yO1xyXG5cclxuLy8gICAgIGNvbnN0cnVjdG9yKGFjdG9yOiBBY3Rvcikge1xyXG4vLyAgICAgICAgIHRoaXMuYWN0b3IgPSBhY3RvcjtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgX0lERU5USUZZKG1zZyA6IHtkYXRhOihvOmFueSkgPT4gdm9pZH0pIHtcclxuLy8gICAgICAgICBtc2cuZGF0YSh0aGlzKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgbGlzdGVuVG8ob3RoZXI6IE9ic2VydmFibGVUeXBlLCBjYXRlZ29yeTogc3RyaW5nKSB7XHJcbi8vICAgICAgICAgb3RoZXIuYWRkTGlzdGVuZXIodGhpcywgY2F0ZWdvcnkpO1xyXG4vLyAgICAgICAgIHJldHVybiB0aGlzO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBzdG9wTGlzdGVuaW5nVG8ob3RoZXI6IE9ic2VydmFibGVUeXBlLCBjYXRlZ29yeTogc3RyaW5nKSB7XHJcbi8vICAgICAgICAgaWYgKG90aGVyKSB7XHJcbi8vICAgICAgICAgICAgIG90aGVyLnJlbW92ZUxpc3RlbmVyKHRoaXMsIGNhdGVnb3J5KTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIHJlY3YgKG1zZyA6IE1lc3NhZ2UpIHtcclxuXHJcbi8vICAgICAgICAgLy8gQ2FsbCB0aGUgXCJfYWN0XCIgZnVuY3Rpb24gZm9yIHRoaXNcclxuLy8gICAgICAgICB2YXIgY2F0QWN0ID0gdGhpcy5hY3Rvci5fYWN0W21zZy5jYXRlZ29yeV07XHJcbi8vICAgICAgICAgaWYgKGNhdEFjdCl7XHJcbi8vICAgICAgICAgICAgIGNhdEFjdC5jYWxsKHRoaXMuYWN0b3IsIG1zZyk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2UgaWYgKHRoaXMuYWN0b3IuX2FjdC5fZGVmYXVsdCkge1xyXG4vLyAgICAgICAgICAgICB0aGlzLmFjdG9yLl9hY3QuX2RlZmF1bHQuY2FsbCh0aGlzLmFjdG9yLCBtc2cpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNlIHtcclxuLy8gICAgICAgICAgICAgYXNzZXJ0KGZhbHNlKTtcclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgfVxyXG4vLyB9XHJcblxyXG5mdW5jdGlvbiByZWNlaXZlTWVzc2FnZShvYnNlcnZlcjogT2JzZXJ2ZXJUeXBlLCBtc2c6IE1lc3NhZ2UpIHtcclxuICAgIHZhciBjYXRBY3QgPSBvYnNlcnZlci5fYWN0W21zZy5jYXRlZ29yeV07XHJcbiAgICBpZiAoY2F0QWN0KXtcclxuICAgICAgICBjYXRBY3QuY2FsbChvYnNlcnZlciwgbXNnKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKG9ic2VydmVyLl9hY3QuX2RlZmF1bHQpIHtcclxuICAgICAgICBvYnNlcnZlci5fYWN0Ll9kZWZhdWx0LmNhbGwob2JzZXJ2ZXIsIG1zZyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBhc3NlcnQoZmFsc2UpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgT2JzZXJ2YWJsZSB7XHJcbiAgICBwcml2YXRlIHNpbGVudCA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSB1bml2ZXJzYWxPYnNlcnZlcnM6IE9ic2VydmVyVHlwZVtdID0gW107XHJcbiAgICBwcml2YXRlIG9ic2VydmVyczoge1tpbmRleDogc3RyaW5nXSA6IE9ic2VydmVyVHlwZVtdfSA9IHt9O1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgc291cmNlOiBhbnk7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc291cmNlOiBhbnkpIHtcclxuICAgICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2VuZChjYXRlZ29yeTogc3RyaW5nLCBkYXRhPzogYW55KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2lsZW50KXtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBsZXQgbXNnOiBNZXNzYWdlID0ge1xyXG4gICAgICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnksXHJcbiAgICAgICAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgICAgICAgIHNvdXJjZTogdGhpcy5zb3VyY2VcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBsZXQgb2JzZXJ2ZXJzID0gdGhpcy5vYnNlcnZlcnNbbXNnLmNhdGVnb3J5XTtcclxuICAgICAgICBpZiAob2JzZXJ2ZXJzKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JzZXJ2ZXJzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICByZWNlaXZlTWVzc2FnZShvYnNlcnZlcnNbaV0sIG1zZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy51bml2ZXJzYWxPYnNlcnZlcnMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgcmVjZWl2ZU1lc3NhZ2UodGhpcy51bml2ZXJzYWxPYnNlcnZlcnNbaV0sIG1zZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRMaXN0ZW5lcihsaXN0ZW5lcjogT2JzZXJ2ZXJUeXBlLCBjYXRlZ29yeT86IHN0cmluZyB8IHN0cmluZ1tdKSB7XHJcbiAgICAgICAgaWYgKGNhdGVnb3J5KSB7XHJcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNhdGVnb3J5KSkge1xyXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBhbiBhcnJheSBvZiBjYXRlZ29yaWVzLCBhZGQgdG8gYWxsIGluZGl2aWR1YWxseVxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYXRlZ29yeS5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkTGlzdGVuZXIobGlzdGVuZXIsIGNhdGVnb3J5W2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5vYnNlcnZlcnNbY2F0ZWdvcnldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vYnNlcnZlcnNbY2F0ZWdvcnldID0gW107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9ic2VydmVyc1tjYXRlZ29yeV0ucHVzaChsaXN0ZW5lcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyQWRkZWQobGlzdGVuZXIsIGNhdGVnb3J5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAvLyBpZiBubyBjYXRlZ29yeSwgaW50ZW50IGlzIHRvIGxpc3RlbiB0byBldmVyeXRoaW5nXHJcbiAgICAgICAgICAgIHRoaXMudW5pdmVyc2FsT2JzZXJ2ZXJzLnB1c2gobGlzdGVuZXIpO1xyXG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVyQWRkZWQobGlzdGVuZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcblxyXG4gICAgLypcclxuICAgIE5vdGU6IHRvIHJlbW92ZSBhIHVuaXZlcnNhbCBsaXN0ZW5lciwgeW91IG11c3QgY2FsbCB0aGlzIHdpdGggY2F0ZWdvcnk9PWZhbHNlLlxyXG4gICAgSWYgYSBsaXN0ZW5lciBpcyB1bml2ZXJzYWwsIHJlbW92aW5nIGl0IGZyb20gYSBwYXJ0aWN1bGFyIGNhdGVnb3J5IHdvbid0IGRvIGFueXRoaW5nLlxyXG4gICAgKi9cclxuICAgIHB1YmxpYyByZW1vdmVMaXN0ZW5lcihsaXN0ZW5lcjogT2JzZXJ2ZXJUeXBlLCBjYXRlZ29yeT86IHN0cmluZykge1xyXG4gICAgICAgIGlmKGNhdGVnb3J5KSB7XHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSBmcm9tIHRoZSBsaXN0IGZvciBhIHNwZWNpZmljIGNhdGVnb3J5IChpZiBsaXN0IGV4aXN0cylcclxuICAgICAgICAgICAgbGV0IG9ic2VydmVycyA9IHRoaXMub2JzZXJ2ZXJzW2NhdGVnb3J5XTtcclxuICAgICAgICAgICAgb2JzZXJ2ZXJzICYmIHB1bGwob2JzZXJ2ZXJzLCBsaXN0ZW5lcik7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJSZW1vdmVkKGxpc3RlbmVyLCBjYXRlZ29yeSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSBmcm9tIGFsbCBjYXRlZ29yaWVzXHJcbiAgICAgICAgICAgIGZvcih2YXIgY2F0IGluIHRoaXMub2JzZXJ2ZXJzKXtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIobGlzdGVuZXIsIGNhdCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEFsc28gcmVtb3ZlIGZyb20gdW5pdmVyc2FsIGxpc3RlbmVyc1xyXG4gICAgICAgICAgICBwdWxsKHRoaXMudW5pdmVyc2FsT2JzZXJ2ZXJzLCBsaXN0ZW5lcik7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJSZW1vdmVkKGxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGxpc3RlbmVyQWRkZWQobGlzdGVuZXI6IE9ic2VydmVyVHlwZSwgY2F0ZWdvcnk/OiBzdHJpbmcpIDogdm9pZCB7IH1cclxuICAgIHByb3RlY3RlZCBsaXN0ZW5lclJlbW92ZWQobGlzdGVuZXI6IE9ic2VydmVyVHlwZSwgY2F0ZWdvcnk/OiBzdHJpbmcpIDogdm9pZCB7IH1cclxuXHJcbiAgICAvLyBwdWJsaWMgaWRlbnRpZnkoY2F0ZWdvcnk6IHN0cmluZywgZnVuYzogKG86T2JzZXJ2ZXJUeXBlKSA9PiBhbnkpIHtcclxuICAgIC8vICAgICBsZXQgb3RoZXIhIDogT2JzZXJ2ZXJUeXBlOyAvLyBVc2VzIGRlZmluaXRlIGFzc2lnbm1lbnQgYW5ub3RhdGlvbiBzaW5jZSB0aGUgZnVuY3Rpb24gaXMgYXNzdW1lZCB0byBhc3NpZ24gdG8gb3RoZXJcclxuICAgIC8vICAgICB0aGlzLnNlbmQoY2F0ZWdvcnksIGZ1bmMgfHwgZnVuY3Rpb24obzpPYnNlcnZlclR5cGUpIHtvdGhlciA9IG87fSk7XHJcbiAgICAvLyAgICAgcmV0dXJuIG90aGVyO1xyXG4gICAgLy8gfVxyXG5cclxufVxyXG4iLCJ2YXIgYmFzZVJlc3QgPSByZXF1aXJlKCcuL19iYXNlUmVzdCcpLFxuICAgIHB1bGxBbGwgPSByZXF1aXJlKCcuL3B1bGxBbGwnKTtcblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBnaXZlbiB2YWx1ZXMgZnJvbSBgYXJyYXlgIHVzaW5nXG4gKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICpcbiAqICoqTm90ZToqKiBVbmxpa2UgYF8ud2l0aG91dGAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC4gVXNlIGBfLnJlbW92ZWBcbiAqIHRvIHJlbW92ZSBlbGVtZW50cyBmcm9tIGFuIGFycmF5IGJ5IHByZWRpY2F0ZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDIuMC4wXG4gKiBAY2F0ZWdvcnkgQXJyYXlcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gKiBAcGFyYW0gey4uLip9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnYScsICdiJywgJ2MnXTtcbiAqXG4gKiBfLnB1bGwoYXJyYXksICdhJywgJ2MnKTtcbiAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAqIC8vID0+IFsnYicsICdiJ11cbiAqL1xudmFyIHB1bGwgPSBiYXNlUmVzdChwdWxsQWxsKTtcblxubW9kdWxlLmV4cG9ydHMgPSBwdWxsO1xuIiwidmFyIGlkZW50aXR5ID0gcmVxdWlyZSgnLi9pZGVudGl0eScpLFxuICAgIG92ZXJSZXN0ID0gcmVxdWlyZSgnLi9fb3ZlclJlc3QnKSxcbiAgICBzZXRUb1N0cmluZyA9IHJlcXVpcmUoJy4vX3NldFRvU3RyaW5nJyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVzdGAgd2hpY2ggZG9lc24ndCB2YWxpZGF0ZSBvciBjb2VyY2UgYXJndW1lbnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VSZXN0KGZ1bmMsIHN0YXJ0KSB7XG4gIHJldHVybiBzZXRUb1N0cmluZyhvdmVyUmVzdChmdW5jLCBzdGFydCwgaWRlbnRpdHkpLCBmdW5jICsgJycpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VSZXN0O1xuIiwidmFyIGFwcGx5ID0gcmVxdWlyZSgnLi9fYXBwbHknKTtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZU1heCA9IE1hdGgubWF4O1xuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZVJlc3RgIHdoaWNoIHRyYW5zZm9ybXMgdGhlIHJlc3QgYXJyYXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIHJlc3QgYXJyYXkgdHJhbnNmb3JtLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCB0cmFuc2Zvcm0pIHtcbiAgc3RhcnQgPSBuYXRpdmVNYXgoc3RhcnQgPT09IHVuZGVmaW5lZCA/IChmdW5jLmxlbmd0aCAtIDEpIDogc3RhcnQsIDApO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1heChhcmdzLmxlbmd0aCAtIHN0YXJ0LCAwKSxcbiAgICAgICAgYXJyYXkgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGFycmF5W2luZGV4XSA9IGFyZ3Nbc3RhcnQgKyBpbmRleF07XG4gICAgfVxuICAgIGluZGV4ID0gLTE7XG4gICAgdmFyIG90aGVyQXJncyA9IEFycmF5KHN0YXJ0ICsgMSk7XG4gICAgd2hpbGUgKCsraW5kZXggPCBzdGFydCkge1xuICAgICAgb3RoZXJBcmdzW2luZGV4XSA9IGFyZ3NbaW5kZXhdO1xuICAgIH1cbiAgICBvdGhlckFyZ3Nbc3RhcnRdID0gdHJhbnNmb3JtKGFycmF5KTtcbiAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgb3RoZXJBcmdzKTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBvdmVyUmVzdDtcbiIsIi8qKlxuICogQSBmYXN0ZXIgYWx0ZXJuYXRpdmUgdG8gYEZ1bmN0aW9uI2FwcGx5YCwgdGhpcyBmdW5jdGlvbiBpbnZva2VzIGBmdW5jYFxuICogd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgYHRoaXNBcmdgIGFuZCB0aGUgYXJndW1lbnRzIG9mIGBhcmdzYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuXG4gKi9cbmZ1bmN0aW9uIGFwcGx5KGZ1bmMsIHRoaXNBcmcsIGFyZ3MpIHtcbiAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgIGNhc2UgMDogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnKTtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSk7XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgfVxuICByZXR1cm4gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBhcHBseTtcbiIsInZhciBiYXNlU2V0VG9TdHJpbmcgPSByZXF1aXJlKCcuL19iYXNlU2V0VG9TdHJpbmcnKSxcbiAgICBzaG9ydE91dCA9IHJlcXVpcmUoJy4vX3Nob3J0T3V0Jyk7XG5cbi8qKlxuICogU2V0cyB0aGUgYHRvU3RyaW5nYCBtZXRob2Qgb2YgYGZ1bmNgIHRvIHJldHVybiBgc3RyaW5nYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtGdW5jdGlvbn0gc3RyaW5nIFRoZSBgdG9TdHJpbmdgIHJlc3VsdC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gKi9cbnZhciBzZXRUb1N0cmluZyA9IHNob3J0T3V0KGJhc2VTZXRUb1N0cmluZyk7XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0VG9TdHJpbmc7XG4iLCJ2YXIgY29uc3RhbnQgPSByZXF1aXJlKCcuL2NvbnN0YW50JyksXG4gICAgZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKCcuL19kZWZpbmVQcm9wZXJ0eScpLFxuICAgIGlkZW50aXR5ID0gcmVxdWlyZSgnLi9pZGVudGl0eScpO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBzZXRUb1N0cmluZ2Agd2l0aG91dCBzdXBwb3J0IGZvciBob3QgbG9vcCBzaG9ydGluZy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtGdW5jdGlvbn0gc3RyaW5nIFRoZSBgdG9TdHJpbmdgIHJlc3VsdC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gKi9cbnZhciBiYXNlU2V0VG9TdHJpbmcgPSAhZGVmaW5lUHJvcGVydHkgPyBpZGVudGl0eSA6IGZ1bmN0aW9uKGZ1bmMsIHN0cmluZykge1xuICByZXR1cm4gZGVmaW5lUHJvcGVydHkoZnVuYywgJ3RvU3RyaW5nJywge1xuICAgICdjb25maWd1cmFibGUnOiB0cnVlLFxuICAgICdlbnVtZXJhYmxlJzogZmFsc2UsXG4gICAgJ3ZhbHVlJzogY29uc3RhbnQoc3RyaW5nKSxcbiAgICAnd3JpdGFibGUnOiB0cnVlXG4gIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlU2V0VG9TdHJpbmc7XG4iLCIvKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYHZhbHVlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDIuNC4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmV0dXJuIGZyb20gdGhlIG5ldyBmdW5jdGlvbi5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbnN0YW50IGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0cyA9IF8udGltZXMoMiwgXy5jb25zdGFudCh7ICdhJzogMSB9KSk7XG4gKlxuICogY29uc29sZS5sb2cob2JqZWN0cyk7XG4gKiAvLyA9PiBbeyAnYSc6IDEgfSwgeyAnYSc6IDEgfV1cbiAqXG4gKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gY29uc3RhbnQodmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjb25zdGFudDtcbiIsInZhciBnZXROYXRpdmUgPSByZXF1aXJlKCcuL19nZXROYXRpdmUnKTtcblxudmFyIGRlZmluZVByb3BlcnR5ID0gKGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIHZhciBmdW5jID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2RlZmluZVByb3BlcnR5Jyk7XG4gICAgZnVuYyh7fSwgJycsIHt9KTtcbiAgICByZXR1cm4gZnVuYztcbiAgfSBjYXRjaCAoZSkge31cbn0oKSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZGVmaW5lUHJvcGVydHk7XG4iLCJ2YXIgYmFzZUlzTmF0aXZlID0gcmVxdWlyZSgnLi9fYmFzZUlzTmF0aXZlJyksXG4gICAgZ2V0VmFsdWUgPSByZXF1aXJlKCcuL19nZXRWYWx1ZScpO1xuXG4vKipcbiAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZ1bmN0aW9uIGlmIGl0J3MgbmF0aXZlLCBlbHNlIGB1bmRlZmluZWRgLlxuICovXG5mdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgdmFyIHZhbHVlID0gZ2V0VmFsdWUob2JqZWN0LCBrZXkpO1xuICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldE5hdGl2ZTtcbiIsInZhciBpc0Z1bmN0aW9uID0gcmVxdWlyZSgnLi9pc0Z1bmN0aW9uJyksXG4gICAgaXNNYXNrZWQgPSByZXF1aXJlKCcuL19pc01hc2tlZCcpLFxuICAgIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpLFxuICAgIHRvU291cmNlID0gcmVxdWlyZSgnLi9fdG9Tb3VyY2UnKTtcblxuLyoqXG4gKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgXG4gKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAqL1xudmFyIHJlUmVnRXhwQ2hhciA9IC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkpLiAqL1xudmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlLiAqL1xudmFyIHJlSXNOYXRpdmUgPSBSZWdFeHAoJ14nICtcbiAgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csICckMS4qPycpICsgJyQnXG4pO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmF0aXZlYCB3aXRob3V0IGJhZCBzaGltIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBpc01hc2tlZCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHBhdHRlcm4gPSBpc0Z1bmN0aW9uKHZhbHVlKSA/IHJlSXNOYXRpdmUgOiByZUlzSG9zdEN0b3I7XG4gIHJldHVybiBwYXR0ZXJuLnRlc3QodG9Tb3VyY2UodmFsdWUpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlSXNOYXRpdmU7XG4iLCJ2YXIgYmFzZUdldFRhZyA9IHJlcXVpcmUoJy4vX2Jhc2VHZXRUYWcnKSxcbiAgICBpc09iamVjdCA9IHJlcXVpcmUoJy4vaXNPYmplY3QnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGFzeW5jVGFnID0gJ1tvYmplY3QgQXN5bmNGdW5jdGlvbl0nLFxuICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgcHJveHlUYWcgPSAnW29iamVjdCBQcm94eV0nO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNGdW5jdGlvbihfKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgLy8gaW4gU2FmYXJpIDkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXlzIGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gIHZhciB0YWcgPSBiYXNlR2V0VGFnKHZhbHVlKTtcbiAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWcgfHwgdGFnID09IGFzeW5jVGFnIHx8IHRhZyA9PSBwcm94eVRhZztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0Z1bmN0aW9uO1xuIiwiLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxubW9kdWxlLmV4cG9ydHMgPSBmcmVlR2xvYmFsO1xuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwidmFyIFN5bWJvbCA9IHJlcXVpcmUoJy4vX1N5bWJvbCcpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlR2V0VGFnYCB3aGljaCBpZ25vcmVzIGBTeW1ib2wudG9TdHJpbmdUYWdgIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByYXcgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gZ2V0UmF3VGFnKHZhbHVlKSB7XG4gIHZhciBpc093biA9IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIHN5bVRvU3RyaW5nVGFnKSxcbiAgICAgIHRhZyA9IHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcblxuICB0cnkge1xuICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHVuZGVmaW5lZDtcbiAgICB2YXIgdW5tYXNrZWQgPSB0cnVlO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHZhciByZXN1bHQgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgaWYgKHVubWFza2VkKSB7XG4gICAgaWYgKGlzT3duKSB7XG4gICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB0YWc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0UmF3VGFnO1xuIiwiLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gb2JqZWN0VG9TdHJpbmc7XG4iLCJ2YXIgY29yZUpzRGF0YSA9IHJlcXVpcmUoJy4vX2NvcmVKc0RhdGEnKTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG1ldGhvZHMgbWFzcXVlcmFkaW5nIGFzIG5hdGl2ZS4gKi9cbnZhciBtYXNrU3JjS2V5ID0gKGZ1bmN0aW9uKCkge1xuICB2YXIgdWlkID0gL1teLl0rJC8uZXhlYyhjb3JlSnNEYXRhICYmIGNvcmVKc0RhdGEua2V5cyAmJiBjb3JlSnNEYXRhLmtleXMuSUVfUFJPVE8gfHwgJycpO1xuICByZXR1cm4gdWlkID8gKCdTeW1ib2woc3JjKV8xLicgKyB1aWQpIDogJyc7XG59KCkpO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGl0cyBzb3VyY2UgbWFza2VkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2VkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzTWFza2VkKGZ1bmMpIHtcbiAgcmV0dXJuICEhbWFza1NyY0tleSAmJiAobWFza1NyY0tleSBpbiBmdW5jKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc01hc2tlZDtcbiIsInZhciByb290ID0gcmVxdWlyZSgnLi9fcm9vdCcpO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb3ZlcnJlYWNoaW5nIGNvcmUtanMgc2hpbXMuICovXG52YXIgY29yZUpzRGF0YSA9IHJvb3RbJ19fY29yZS1qc19zaGFyZWRfXyddO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNvcmVKc0RhdGE7XG4iLCIvKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4vKipcbiAqIENvbnZlcnRzIGBmdW5jYCB0byBpdHMgc291cmNlIGNvZGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzb3VyY2UgY29kZS5cbiAqL1xuZnVuY3Rpb24gdG9Tb3VyY2UoZnVuYykge1xuICBpZiAoZnVuYyAhPSBudWxsKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmdW5jVG9TdHJpbmcuY2FsbChmdW5jKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gKGZ1bmMgKyAnJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdG9Tb3VyY2U7XG4iLCIvKipcbiAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBnZXRWYWx1ZShvYmplY3QsIGtleSkge1xuICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRWYWx1ZTtcbiIsIi8qKiBVc2VkIHRvIGRldGVjdCBob3QgZnVuY3Rpb25zIGJ5IG51bWJlciBvZiBjYWxscyB3aXRoaW4gYSBzcGFuIG9mIG1pbGxpc2Vjb25kcy4gKi9cbnZhciBIT1RfQ09VTlQgPSA4MDAsXG4gICAgSE9UX1NQQU4gPSAxNjtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZU5vdyA9IERhdGUubm93O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0J2xsIHNob3J0IG91dCBhbmQgaW52b2tlIGBpZGVudGl0eWAgaW5zdGVhZFxuICogb2YgYGZ1bmNgIHdoZW4gaXQncyBjYWxsZWQgYEhPVF9DT1VOVGAgb3IgbW9yZSB0aW1lcyBpbiBgSE9UX1NQQU5gXG4gKiBtaWxsaXNlY29uZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc2hvcnRhYmxlIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBzaG9ydE91dChmdW5jKSB7XG4gIHZhciBjb3VudCA9IDAsXG4gICAgICBsYXN0Q2FsbGVkID0gMDtcblxuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0YW1wID0gbmF0aXZlTm93KCksXG4gICAgICAgIHJlbWFpbmluZyA9IEhPVF9TUEFOIC0gKHN0YW1wIC0gbGFzdENhbGxlZCk7XG5cbiAgICBsYXN0Q2FsbGVkID0gc3RhbXA7XG4gICAgaWYgKHJlbWFpbmluZyA+IDApIHtcbiAgICAgIGlmICgrK2NvdW50ID49IEhPVF9DT1VOVCkge1xuICAgICAgICByZXR1cm4gYXJndW1lbnRzWzBdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb3VudCA9IDA7XG4gICAgfVxuICAgIHJldHVybiBmdW5jLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzaG9ydE91dDtcbiIsInZhciBiYXNlUHVsbEFsbCA9IHJlcXVpcmUoJy4vX2Jhc2VQdWxsQWxsJyk7XG5cbi8qKlxuICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wdWxsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGFuIGFycmF5IG9mIHZhbHVlcyB0byByZW1vdmUuXG4gKlxuICogKipOb3RlOioqIFVubGlrZSBgXy5kaWZmZXJlbmNlYCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBBcnJheVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2EnLCAnYicsICdjJ107XG4gKlxuICogXy5wdWxsQWxsKGFycmF5LCBbJ2EnLCAnYyddKTtcbiAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAqIC8vID0+IFsnYicsICdiJ11cbiAqL1xuZnVuY3Rpb24gcHVsbEFsbChhcnJheSwgdmFsdWVzKSB7XG4gIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoICYmIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoKVxuICAgID8gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcylcbiAgICA6IGFycmF5O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHB1bGxBbGw7XG4iLCJ2YXIgYXJyYXlNYXAgPSByZXF1aXJlKCcuL19hcnJheU1hcCcpLFxuICAgIGJhc2VJbmRleE9mID0gcmVxdWlyZSgnLi9fYmFzZUluZGV4T2YnKSxcbiAgICBiYXNlSW5kZXhPZldpdGggPSByZXF1aXJlKCcuL19iYXNlSW5kZXhPZldpdGgnKSxcbiAgICBiYXNlVW5hcnkgPSByZXF1aXJlKCcuL19iYXNlVW5hcnknKSxcbiAgICBjb3B5QXJyYXkgPSByZXF1aXJlKCcuL19jb3B5QXJyYXknKTtcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGU7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHNwbGljZSA9IGFycmF5UHJvdG8uc3BsaWNlO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnB1bGxBbGxCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICogc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICovXG5mdW5jdGlvbiBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICB2YXIgaW5kZXhPZiA9IGNvbXBhcmF0b3IgPyBiYXNlSW5kZXhPZldpdGggOiBiYXNlSW5kZXhPZixcbiAgICAgIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgc2VlbiA9IGFycmF5O1xuXG4gIGlmIChhcnJheSA9PT0gdmFsdWVzKSB7XG4gICAgdmFsdWVzID0gY29weUFycmF5KHZhbHVlcyk7XG4gIH1cbiAgaWYgKGl0ZXJhdGVlKSB7XG4gICAgc2VlbiA9IGFycmF5TWFwKGFycmF5LCBiYXNlVW5hcnkoaXRlcmF0ZWUpKTtcbiAgfVxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBmcm9tSW5kZXggPSAwLFxuICAgICAgICB2YWx1ZSA9IHZhbHVlc1tpbmRleF0sXG4gICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgIHdoaWxlICgoZnJvbUluZGV4ID0gaW5kZXhPZihzZWVuLCBjb21wdXRlZCwgZnJvbUluZGV4LCBjb21wYXJhdG9yKSkgPiAtMSkge1xuICAgICAgaWYgKHNlZW4gIT09IGFycmF5KSB7XG4gICAgICAgIHNwbGljZS5jYWxsKHNlZW4sIGZyb21JbmRleCwgMSk7XG4gICAgICB9XG4gICAgICBzcGxpY2UuY2FsbChhcnJheSwgZnJvbUluZGV4LCAxKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VQdWxsQWxsO1xuIiwidmFyIGJhc2VGaW5kSW5kZXggPSByZXF1aXJlKCcuL19iYXNlRmluZEluZGV4JyksXG4gICAgYmFzZUlzTmFOID0gcmVxdWlyZSgnLi9fYmFzZUlzTmFOJyksXG4gICAgc3RyaWN0SW5kZXhPZiA9IHJlcXVpcmUoJy4vX3N0cmljdEluZGV4T2YnKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pbmRleE9mYCB3aXRob3V0IGBmcm9tSW5kZXhgIGJvdW5kcyBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZVxuICAgID8gc3RyaWN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleClcbiAgICA6IGJhc2VGaW5kSW5kZXgoYXJyYXksIGJhc2VJc05hTiwgZnJvbUluZGV4KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlSW5kZXhPZjtcbiIsIi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmluZEluZGV4YCBhbmQgYF8uZmluZExhc3RJbmRleGAgd2l0aG91dFxuICogc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICovXG5mdW5jdGlvbiBiYXNlRmluZEluZGV4KGFycmF5LCBwcmVkaWNhdGUsIGZyb21JbmRleCwgZnJvbVJpZ2h0KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICBpbmRleCA9IGZyb21JbmRleCArIChmcm9tUmlnaHQgPyAxIDogLTEpO1xuXG4gIHdoaWxlICgoZnJvbVJpZ2h0ID8gaW5kZXgtLSA6ICsraW5kZXggPCBsZW5ndGgpKSB7XG4gICAgaWYgKHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VGaW5kSW5kZXg7XG4iLCIvKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmFOYCB3aXRob3V0IHN1cHBvcnQgZm9yIG51bWJlciBvYmplY3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGBOYU5gLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc05hTih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VJc05hTjtcbiIsIi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmluZGV4T2ZgIHdoaWNoIHBlcmZvcm1zIHN0cmljdCBlcXVhbGl0eVxuICogY29tcGFyaXNvbnMgb2YgdmFsdWVzLCBpLmUuIGA9PT1gLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gKi9cbmZ1bmN0aW9uIHN0cmljdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgdmFyIGluZGV4ID0gZnJvbUluZGV4IC0gMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGlmIChhcnJheVtpbmRleF0gPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm4gaW5kZXg7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdHJpY3RJbmRleE9mO1xuIiwiLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGJhc2VJbmRleE9mYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGEgY29tcGFyYXRvci5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJhdG9yIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICovXG5mdW5jdGlvbiBiYXNlSW5kZXhPZldpdGgoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgsIGNvbXBhcmF0b3IpIHtcbiAgdmFyIGluZGV4ID0gZnJvbUluZGV4IC0gMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGlmIChjb21wYXJhdG9yKGFycmF5W2luZGV4XSwgdmFsdWUpKSB7XG4gICAgICByZXR1cm4gaW5kZXg7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlSW5kZXhPZldpdGg7XG4iLCIvKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuYXJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIHN0b3JpbmcgbWV0YWRhdGEuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlVW5hcnkoZnVuYykge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gZnVuYyh2YWx1ZSk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZVVuYXJ5O1xuIiwiLyoqXG4gKiBDb3BpZXMgdGhlIHZhbHVlcyBvZiBgc291cmNlYCB0byBgYXJyYXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBzb3VyY2UgVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIGZyb20uXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXk9W11dIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyB0by5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICovXG5mdW5jdGlvbiBjb3B5QXJyYXkoc291cmNlLCBhcnJheSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHNvdXJjZS5sZW5ndGg7XG5cbiAgYXJyYXkgfHwgKGFycmF5ID0gQXJyYXkobGVuZ3RoKSk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgYXJyYXlbaW5kZXhdID0gc291cmNlW2luZGV4XTtcbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY29weUFycmF5O1xuIiwidmFyIGVzY2FwZUh0bWxDaGFyID0gcmVxdWlyZSgnLi9fZXNjYXBlSHRtbENoYXInKSxcbiAgICB0b1N0cmluZyA9IHJlcXVpcmUoJy4vdG9TdHJpbmcnKTtcblxuLyoqIFVzZWQgdG8gbWF0Y2ggSFRNTCBlbnRpdGllcyBhbmQgSFRNTCBjaGFyYWN0ZXJzLiAqL1xudmFyIHJlVW5lc2NhcGVkSHRtbCA9IC9bJjw+XCInXS9nLFxuICAgIHJlSGFzVW5lc2NhcGVkSHRtbCA9IFJlZ0V4cChyZVVuZXNjYXBlZEh0bWwuc291cmNlKTtcblxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgY2hhcmFjdGVycyBcIiZcIiwgXCI8XCIsIFwiPlwiLCAnXCInLCBhbmQgXCInXCIgaW4gYHN0cmluZ2AgdG8gdGhlaXJcbiAqIGNvcnJlc3BvbmRpbmcgSFRNTCBlbnRpdGllcy5cbiAqXG4gKiAqKk5vdGU6KiogTm8gb3RoZXIgY2hhcmFjdGVycyBhcmUgZXNjYXBlZC4gVG8gZXNjYXBlIGFkZGl0aW9uYWxcbiAqIGNoYXJhY3RlcnMgdXNlIGEgdGhpcmQtcGFydHkgbGlicmFyeSBsaWtlIFtfaGVfXShodHRwczovL210aHMuYmUvaGUpLlxuICpcbiAqIFRob3VnaCB0aGUgXCI+XCIgY2hhcmFjdGVyIGlzIGVzY2FwZWQgZm9yIHN5bW1ldHJ5LCBjaGFyYWN0ZXJzIGxpa2VcbiAqIFwiPlwiIGFuZCBcIi9cIiBkb24ndCBuZWVkIGVzY2FwaW5nIGluIEhUTUwgYW5kIGhhdmUgbm8gc3BlY2lhbCBtZWFuaW5nXG4gKiB1bmxlc3MgdGhleSdyZSBwYXJ0IG9mIGEgdGFnIG9yIHVucXVvdGVkIGF0dHJpYnV0ZSB2YWx1ZS4gU2VlXG4gKiBbTWF0aGlhcyBCeW5lbnMncyBhcnRpY2xlXShodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvYW1iaWd1b3VzLWFtcGVyc2FuZHMpXG4gKiAodW5kZXIgXCJzZW1pLXJlbGF0ZWQgZnVuIGZhY3RcIikgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBXaGVuIHdvcmtpbmcgd2l0aCBIVE1MIHlvdSBzaG91bGQgYWx3YXlzXG4gKiBbcXVvdGUgYXR0cmlidXRlIHZhbHVlc10oaHR0cDovL3dvbmtvLmNvbS9wb3N0L2h0bWwtZXNjYXBpbmcpIHRvIHJlZHVjZVxuICogWFNTIHZlY3RvcnMuXG4gKlxuICogQHN0YXRpY1xuICogQHNpbmNlIDAuMS4wXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IFN0cmluZ1xuICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gZXNjYXBlLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBzdHJpbmcuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uZXNjYXBlKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycpO1xuICogLy8gPT4gJ2ZyZWQsIGJhcm5leSwgJmFtcDsgcGViYmxlcydcbiAqL1xuZnVuY3Rpb24gZXNjYXBlKHN0cmluZykge1xuICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICByZXR1cm4gKHN0cmluZyAmJiByZUhhc1VuZXNjYXBlZEh0bWwudGVzdChzdHJpbmcpKVxuICAgID8gc3RyaW5nLnJlcGxhY2UocmVVbmVzY2FwZWRIdG1sLCBlc2NhcGVIdG1sQ2hhcilcbiAgICA6IHN0cmluZztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBlc2NhcGU7XG4iLCJ2YXIgYmFzZVByb3BlcnR5T2YgPSByZXF1aXJlKCcuL19iYXNlUHJvcGVydHlPZicpO1xuXG4vKiogVXNlZCB0byBtYXAgY2hhcmFjdGVycyB0byBIVE1MIGVudGl0aWVzLiAqL1xudmFyIGh0bWxFc2NhcGVzID0ge1xuICAnJic6ICcmYW1wOycsXG4gICc8JzogJyZsdDsnLFxuICAnPic6ICcmZ3Q7JyxcbiAgJ1wiJzogJyZxdW90OycsXG4gIFwiJ1wiOiAnJiMzOTsnXG59O1xuXG4vKipcbiAqIFVzZWQgYnkgYF8uZXNjYXBlYCB0byBjb252ZXJ0IGNoYXJhY3RlcnMgdG8gSFRNTCBlbnRpdGllcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IGNociBUaGUgbWF0Y2hlZCBjaGFyYWN0ZXIgdG8gZXNjYXBlLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBjaGFyYWN0ZXIuXG4gKi9cbnZhciBlc2NhcGVIdG1sQ2hhciA9IGJhc2VQcm9wZXJ0eU9mKGh0bWxFc2NhcGVzKTtcblxubW9kdWxlLmV4cG9ydHMgPSBlc2NhcGVIdG1sQ2hhcjtcbiIsIi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHJvcGVydHlPZmAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVByb3BlcnR5T2Yob2JqZWN0KSB7XG4gIHJldHVybiBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlUHJvcGVydHlPZjtcbiIsIi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXkoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheSgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGlzQXJyYXk7XG4iLCIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc09iamVjdExpa2U7XG4iLCJ2YXIgYmFzZUNsYW1wID0gcmVxdWlyZSgnLi9fYmFzZUNsYW1wJyksXG4gICAgYmFzZVRvU3RyaW5nID0gcmVxdWlyZSgnLi9fYmFzZVRvU3RyaW5nJyksXG4gICAgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi90b0ludGVnZXInKSxcbiAgICB0b1N0cmluZyA9IHJlcXVpcmUoJy4vdG9TdHJpbmcnKTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHN0cmluZ2AgZW5kcyB3aXRoIHRoZSBnaXZlbiB0YXJnZXQgc3RyaW5nLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBTdHJpbmdcbiAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gKiBAcGFyYW0ge3N0cmluZ30gW3RhcmdldF0gVGhlIHN0cmluZyB0byBzZWFyY2ggZm9yLlxuICogQHBhcmFtIHtudW1iZXJ9IFtwb3NpdGlvbj1zdHJpbmcubGVuZ3RoXSBUaGUgcG9zaXRpb24gdG8gc2VhcmNoIHVwIHRvLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBzdHJpbmdgIGVuZHMgd2l0aCBgdGFyZ2V0YCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uZW5kc1dpdGgoJ2FiYycsICdjJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lbmRzV2l0aCgnYWJjJywgJ2InKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lbmRzV2l0aCgnYWJjJywgJ2InLCAyKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gZW5kc1dpdGgoc3RyaW5nLCB0YXJnZXQsIHBvc2l0aW9uKSB7XG4gIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gIHRhcmdldCA9IGJhc2VUb1N0cmluZyh0YXJnZXQpO1xuXG4gIHZhciBsZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuICBwb3NpdGlvbiA9IHBvc2l0aW9uID09PSB1bmRlZmluZWRcbiAgICA/IGxlbmd0aFxuICAgIDogYmFzZUNsYW1wKHRvSW50ZWdlcihwb3NpdGlvbiksIDAsIGxlbmd0aCk7XG5cbiAgdmFyIGVuZCA9IHBvc2l0aW9uO1xuICBwb3NpdGlvbiAtPSB0YXJnZXQubGVuZ3RoO1xuICByZXR1cm4gcG9zaXRpb24gPj0gMCAmJiBzdHJpbmcuc2xpY2UocG9zaXRpb24sIGVuZCkgPT0gdGFyZ2V0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGVuZHNXaXRoO1xuIiwiLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jbGFtcGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2xhbXAuXG4gKiBAcGFyYW0ge251bWJlcn0gW2xvd2VyXSBUaGUgbG93ZXIgYm91bmQuXG4gKiBAcGFyYW0ge251bWJlcn0gdXBwZXIgVGhlIHVwcGVyIGJvdW5kLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY2xhbXBlZCBudW1iZXIuXG4gKi9cbmZ1bmN0aW9uIGJhc2VDbGFtcChudW1iZXIsIGxvd2VyLCB1cHBlcikge1xuICBpZiAobnVtYmVyID09PSBudW1iZXIpIHtcbiAgICBpZiAodXBwZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbnVtYmVyID0gbnVtYmVyIDw9IHVwcGVyID8gbnVtYmVyIDogdXBwZXI7XG4gICAgfVxuICAgIGlmIChsb3dlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBudW1iZXIgPSBudW1iZXIgPj0gbG93ZXIgPyBudW1iZXIgOiBsb3dlcjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bWJlcjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlQ2xhbXA7XG4iLCJ2YXIgdG9GaW5pdGUgPSByZXF1aXJlKCcuL3RvRmluaXRlJyk7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhbiBpbnRlZ2VyLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gKiBbYFRvSW50ZWdlcmBdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2ludGVnZXIpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9JbnRlZ2VyKDMuMik7XG4gKiAvLyA9PiAzXG4gKlxuICogXy50b0ludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiAwXG4gKlxuICogXy50b0ludGVnZXIoSW5maW5pdHkpO1xuICogLy8gPT4gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDhcbiAqXG4gKiBfLnRvSW50ZWdlcignMy4yJyk7XG4gKiAvLyA9PiAzXG4gKi9cbmZ1bmN0aW9uIHRvSW50ZWdlcih2YWx1ZSkge1xuICB2YXIgcmVzdWx0ID0gdG9GaW5pdGUodmFsdWUpLFxuICAgICAgcmVtYWluZGVyID0gcmVzdWx0ICUgMTtcblxuICByZXR1cm4gcmVzdWx0ID09PSByZXN1bHQgPyAocmVtYWluZGVyID8gcmVzdWx0IC0gcmVtYWluZGVyIDogcmVzdWx0KSA6IDA7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdG9JbnRlZ2VyO1xuIiwidmFyIHRvTnVtYmVyID0gcmVxdWlyZSgnLi90b051bWJlcicpO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBJTkZJTklUWSA9IDEgLyAwLFxuICAgIE1BWF9JTlRFR0VSID0gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDg7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIGZpbml0ZSBudW1iZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjEyLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIG51bWJlci5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b0Zpbml0ZSgzLjIpO1xuICogLy8gPT4gMy4yXG4gKlxuICogXy50b0Zpbml0ZShOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IDVlLTMyNFxuICpcbiAqIF8udG9GaW5pdGUoSW5maW5pdHkpO1xuICogLy8gPT4gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDhcbiAqXG4gKiBfLnRvRmluaXRlKCczLjInKTtcbiAqIC8vID0+IDMuMlxuICovXG5mdW5jdGlvbiB0b0Zpbml0ZSh2YWx1ZSkge1xuICBpZiAoIXZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiAwO1xuICB9XG4gIHZhbHVlID0gdG9OdW1iZXIodmFsdWUpO1xuICBpZiAodmFsdWUgPT09IElORklOSVRZIHx8IHZhbHVlID09PSAtSU5GSU5JVFkpIHtcbiAgICB2YXIgc2lnbiA9ICh2YWx1ZSA8IDAgPyAtMSA6IDEpO1xuICAgIHJldHVybiBzaWduICogTUFYX0lOVEVHRVI7XG4gIH1cbiAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZSA/IHZhbHVlIDogMDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0b0Zpbml0ZTtcbiIsInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vaXNPYmplY3QnKSxcbiAgICBpc1N5bWJvbCA9IHJlcXVpcmUoJy4vaXNTeW1ib2wnKTtcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTkFOID0gMCAvIDA7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHdoaXRlc3BhY2UuICovXG52YXIgcmVUcmltID0gL15cXHMrfFxccyskL2c7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiYWQgc2lnbmVkIGhleGFkZWNpbWFsIHN0cmluZyB2YWx1ZXMuICovXG52YXIgcmVJc0JhZEhleCA9IC9eWy0rXTB4WzAtOWEtZl0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgYmluYXJ5IHN0cmluZyB2YWx1ZXMuICovXG52YXIgcmVJc0JpbmFyeSA9IC9eMGJbMDFdKyQvaTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG9jdGFsIHN0cmluZyB2YWx1ZXMuICovXG52YXIgcmVJc09jdGFsID0gL14wb1swLTddKyQvaTtcblxuLyoqIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHdpdGhvdXQgYSBkZXBlbmRlbmN5IG9uIGByb290YC4gKi9cbnZhciBmcmVlUGFyc2VJbnQgPSBwYXJzZUludDtcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgbnVtYmVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbnVtYmVyLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRvTnVtYmVyKDMuMik7XG4gKiAvLyA9PiAzLjJcbiAqXG4gKiBfLnRvTnVtYmVyKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gNWUtMzI0XG4gKlxuICogXy50b051bWJlcihJbmZpbml0eSk7XG4gKiAvLyA9PiBJbmZpbml0eVxuICpcbiAqIF8udG9OdW1iZXIoJzMuMicpO1xuICogLy8gPT4gMy4yXG4gKi9cbmZ1bmN0aW9uIHRvTnVtYmVyKHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiBOQU47XG4gIH1cbiAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHZhciBvdGhlciA9IHR5cGVvZiB2YWx1ZS52YWx1ZU9mID09ICdmdW5jdGlvbicgPyB2YWx1ZS52YWx1ZU9mKCkgOiB2YWx1ZTtcbiAgICB2YWx1ZSA9IGlzT2JqZWN0KG90aGVyKSA/IChvdGhlciArICcnKSA6IG90aGVyO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6ICt2YWx1ZTtcbiAgfVxuICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UocmVUcmltLCAnJyk7XG4gIHZhciBpc0JpbmFyeSA9IHJlSXNCaW5hcnkudGVzdCh2YWx1ZSk7XG4gIHJldHVybiAoaXNCaW5hcnkgfHwgcmVJc09jdGFsLnRlc3QodmFsdWUpKVxuICAgID8gZnJlZVBhcnNlSW50KHZhbHVlLnNsaWNlKDIpLCBpc0JpbmFyeSA/IDIgOiA4KVxuICAgIDogKHJlSXNCYWRIZXgudGVzdCh2YWx1ZSkgPyBOQU4gOiArdmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRvTnVtYmVyO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==