!function(e){var t={};function n(s){if(t[s])return t[s].exports;var i=t[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(s,i,function(t){return e[t]}.bind(null,i));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t,n){var s=n(4).Symbol;e.exports=s},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var s=n(0),i=n(25),o=n(26),a="[object Null]",r="[object Undefined]",u=s?s.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?r:a:u&&u in Object(e)?i(e):o(e)}},function(e,t,n){var s=n(23),i="object"==typeof self&&self&&self.Object===Object&&self,o=s||i||Function("return this")();e.exports=o},function(e,t){e.exports=function(e,t){for(var n=-1,s=null==e?0:e.length,i=Array(s);++n<s;)i[n]=t(e[n],n,e);return i}},function(e,t,n){var s=n(7);e.exports=function(e){return null==e?"":s(e)}},function(e,t,n){var s=n(0),i=n(5),o=n(44),a=n(8),r=1/0,u=s?s.prototype:void 0,p=u?u.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return p?p.call(t):"";var n=t+"";return"0"==n&&1/t==-r?"-0":n}},function(e,t,n){var s=n(3),i=n(45),o="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||i(e)&&s(e)==o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(10);function i(e){var t=e.getBasicProfile();s.User.signIn(t.getEmail(),e.getAuthResponse().id_token)}$(document).ready(function(){s.QueueApplication.createInstance($("#queueApplication")),function(){var e=$("#clearInput"),t=$("#clearTheQueueDialog");t.on("shown.bs.modal",function(){e.focus()}),t.on("show.bs.modal",function(){e.val("")}),e.on("input",function(e){if("clear"==$(this).val()){t.modal("hide");var n=s.QueueApplication.instance.activeQueue();n&&n.clear()}});var n=$("#signUpDialog");n.on("show.bs.modal",function(){$(this).find("input").val("")}),n.on("shown.bs.modal",function(){$(this).find("input:first").focus()});var i=$("#sendMessageDialog");i.on("show.bs.modal",function(){$(this).find("input").val("")}),i.on("shown.bs.modal",function(){$(this).find("input:first").focus()}),$("#sendMessageForm").submit(function(e){e.preventDefault();var t=$("#sendMessageContent").val();return t&&0!=t.length?(s.QueueApplication.instance.sendMessage(t),i.modal("hide"),!1):(alert("You can't send a blank message."),!1)});var o=$("#addAnnouncementDialog");o.on("show.bs.modal",function(){$(this).find("textarea").val("")}),o.on("shown.bs.modal",function(){$(this).find("textarea").focus()}),$("#addAnnouncementForm").submit(function(e){e.preventDefault();var t=$("#addAnnouncementContent").val();if(!t||0==t.length)return alert("You can't post a blank announcement."),!1;var n=s.QueueApplication.instance.activeQueue();return n&&n.addAnnouncement(t),o.modal("hide"),!1}),new s.Schedule($("#schedulePicker")),new s.ManageQueueDialog}(),gapi.signin2.render("googleSignInButton",{scope:"profile email",width:240,height:50,longtitle:!0,theme:"dark",onsuccess:i})}),console.log("TEST BLAH")},function(e,t,n){"use strict";var s,i=this&&this.__extends||(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,s){var i,o=arguments.length,a=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,s);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))(function(i,o){function a(e){try{u(s.next(e))}catch(e){o(e)}}function r(e){try{u(s.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,r)}u((s=s.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,s,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function r(o){return function(r){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,s&&(i=2&o[0]?s.return:o[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,o[1])).done)return i;switch(s=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,s=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],s=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,r])}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});Array.prototype.clear=function(){this.length=0};var p=n(11),c=u(n(41)),l=u(n(46)),d=function(){function e(e){this.courses=[],this.messagesShown={},this.observable=new p.Observable(this),this.elem=e,this.coursePills=e.find(".coursePills"),this.coursePanes=e.find(".coursePanes"),this.loadCourses()}return e.createInstance=function(t){e.instance=new e(t)},e.prototype.loadCourses=function(){return a(this,void 0,void 0,function(){var e,t;return r(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,$.getJSON("api/courseList")];case 1:return e=n.sent(),this.onCoursesLoad(e),[3,3];case 2:return x(t=n.sent(),t),[3,3];case 3:return[2]}})})},e.prototype.onCoursesLoad=function(e){var t=this;this.coursePills.empty(),this.coursePanes.empty(),this.courses.clear(),this.coursePanes.append($('<div class="tab-pane fade in active"><h1><span class="glyphicon glyphicon-arrow-left"></span> Please select a course.</h1></div>')),e.forEach(function(e){for(var n in e)e[n]=c.default(e[n]);var s=e.courseId,i=$('<li><a href="#'+s+'" data-toggle="pill"><h3>'+s+"</h3></a></li>");t.coursePills.append(i);var o=$('<div id="'+s+'" class="tab-pane fade"></div>');t.coursePanes.append(o);var a=new h(e,o);t.courses.push(a),i.find("a").click(function(){a.makeActive()})})},e.prototype.setActiveQueue=function(e){this._activeQueue=e,console.log("Setting active queue to "+e.queueId),this.updateSignUpForm(),this.observable.send("activeQueueSet")},e.prototype.activeQueue=function(){return this._activeQueue},e.prototype.updateSignUpForm=function(){this._activeQueue&&this._activeQueue.hasMap()?($("#signUpMapHolder").show(),$("#signUpMapMessage").show(),$("#signUpMapImage").attr("src",this._activeQueue.mapImageSrc)):($("#signUpMapHolder").hide(),$("#signUpMapMessage").hide())},e.prototype.userSignedIn=function(){this.courses.forEach(function(e){e.userSignedIn()})},e.prototype.refreshActiveQueue=function(){this._activeQueue&&this._activeQueue.refresh(),this.refreshContent()},e.prototype.message=function(e){this.messagesShown[e.id]||(this.messagesShown[e.id]=!0,$("#messageDialogHeader").html("Message"),$("#messageDialogContent").append('<p><span class="label label-info">'+e.sender+"</span> "+e.message+"</p>"),$("#messageDialog").modal("show"))},e.prototype.setSendMessagePostId=function(e){this.sendMessagePostId=e},e.prototype.sendMessage=function(e){$.ajax({type:"POST",url:"api/sendMessage",data:{idtoken:q.idToken(),id:this.sendMessagePostId,message:e},success:function(){},error:x})},e.prototype.refreshContent=function(){this._activeQueue&&(document.title=this._activeQueue.course.shortName+" OH ("+this._activeQueue.numEntries+")")},e.prototype.notify=function(e,t){Notification?"granted"!==Notification.permission?Notification.requestPermission():new Notification(e,{body:t}):alert(t)},e._name="QueueApplication",e}();t.QueueApplication=d;var h=function(){function e(e,t){this.isAdmin=!1,this.queues=[],this.courseId=e.courseId,this.shortName=e.shortName,this.fullName=e.fullName,this.elem=t,this.queuePillsElem=$('<ul class="queuePills nav nav-pills"></ul>'),this.elem.append(this.queuePillsElem),this.pickAQueueElem=$("<div></div>"),this.pickAQueueElem.append($('<h3><span class="glyphicon glyphicon-arrow-up"></span> Several queues are available for '+this.shortName+". Please select one.</h3>")),this.elem.append(this.pickAQueueElem),this.mainElem=$("<div></div>"),this.mainElem.hide(),this.queuePanesElem=$('<div class="col-xs-12 col-md-12 queuePanes tab-content"></div>'),this.mainElem.append(this.queuePanesElem),this.contentElem=$('<div class="col-xs-12 col-md-12"></div>'),this.mainElem.append(this.contentElem),this.elem.append(this.mainElem),this.loadContent(),this.loadQueues()}return e.prototype.makeActive=function(){this.activeQueue&&this.activeQueue.makeActive()},e.prototype.loadContent=function(){this.contentElem.load("queue-component/courseContent/"+this.courseId)},e.prototype.loadQueues=function(){var e=this;return $.ajax({type:"GET",url:"api/queueList/"+this.courseId,dataType:"json",success:function(t){e.onQueuesLoad(t)},error:x})},e.prototype.onQueuesLoad=function(e){var t=this;this.queues.clear(),this.queuePillsElem.empty(),this.queuePanesElem.empty(),e.forEach(function(e){var n=e.name,s=e.queueId,i=$('<li><a data-toggle="pill"><h6>'+n+"</h6></a></li>");i.find("a").prop("href","#queue"+s),t.queuePillsElem.append(i);var o=$('<div id="queue'+s+'"></div>');o.addClass("tab-pane fade"),t.queuePanesElem.append(o);var a=new m(e,t,o);t.queues.push(a),a.refresh(),i.find("a").click(function(){t.pickAQueueElem.empty(),t.activeQueue=a,t.mainElem.show(),a.makeActive()})}),1===this.queues.length?(this.queuePillsElem.children().first().addClass("active"),this.queuePanesElem.children().first().addClass("in active"),this.activeQueue=this.queues[0],this.pickAQueueElem.hide(),this.mainElem.show()):(this.pickAQueueElem.show(),this.mainElem.hide()),this.setAdmin(q.isCourseAdmin(this.courseId))},e.prototype.setAdmin=function(e){this.isAdmin=e;for(var t=0;t<this.queues.length;++t)this.queues[t].setAdmin(e);this.isAdmin?(this.elem.addClass("admin"),this.elem.removeClass("notAdmin")):(this.elem.addClass("notAdmin"),this.elem.removeClass("admin"))},e.prototype.userSignedIn=function(){this.setAdmin(q.isCourseAdmin(this.courseId)),this.queues.forEach(function(e){e.userSignedIn()})},e}(),f=function(){function e(e,t,n){var s,i=this;this.id=e.id,this.content=e.content,this.ts=e.ts,this.queue=t,this.elem=n,this.elem.addClass("panel panel-info").append(s=$('<div class="panel-body bg-info"></div>').append('<span class="glyphicon glyphicon-bullhorn"></span> ').append($("<strong>"+this.content+"</strong>"))),$('<button type="button" class="close">&times;</button>').appendTo(s).click(function(e){confirm("Are you sure you want to remove this announcement?\n\n"+i.content)&&i.remove()})}return e.prototype.remove=function(){var e=this;$.ajax({type:"DELETE",url:"api/announcements/"+this.id,success:function(){e.queue.refresh()},error:x})},e}(),m=function(){function e(e,t,n){this.observable=new p.Observable(this),this.isAdmin=!1,this.numEntries=0,this.lastRefresh=new Date,this.isOpen=!1,this.myRequest=null,this.mapImageSrc="",this.refreshDisabled=!1,this.currentRefreshIndex=0,this.course=t,this.queueId=e.queueId,this.location=e.location,this.mapImageSrc=e.map?e.map:"",this.name=e.name,this.elem=n,this.isAdmin=!1,this.numEntries=0,this.currentRefreshIndex=0,this.lastRefresh=new Date,this.isOpen=!1,this.refreshDisabled=!1,this.announcementContainerElem=$("<div></div>").appendTo(this.elem);var s=$("<p></p>").appendTo(this.elem);s.append($('<span data-toggle="tooltip" title="Number of Students"><span class="glyphicon glyphicon-education"></span></span>').append(" ").append(this.numEntriesElem=$("<span></span>"))),s.append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"),s.append($('<span data-toggle="tooltip" title="Last Refresh"><span class="glyphicon glyphicon-refresh"></span></span>').append(" ").append(this.lastRefreshElem=$("<span></span>"))),s.append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"),this.statusMessageElem=$("<span>Loading queue information...</span>"),s.append(this.statusMessageElem),this.adminStatusElem=$('<span class="adminOnly"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;You are an admin for this queue.</b></span>'),s.append(this.adminStatusElem),this.adminControlsElem=$('<div class="panel panel-default adminOnly"><div class="panel-body"></div></div>').appendTo(this.elem).find(".panel-body"),this.adminControls=new g(this,this.adminControlsElem),this.studentControlsElem=$('<div class="panel panel-default"><div class="panel-body"></div></div>').appendTo(this.elem).find(".panel-body"),this.studentControls=new v(this,this.studentControlsElem),this.observable.addListener(this.studentControls),this.queueElem=$("<div></div>").appendTo(this.elem),this.stackElem=$('<div class="adminOnly"></div>').appendTo(this.elem),this.elem.find('[data-toggle="tooltip"]').tooltip(),this.userSignedIn()}return e.prototype.makeActiveOnClick=function(e){var t=this;e.click(function(){t.makeActive()})},e.prototype.makeActive=function(){d.instance.setActiveQueue(this),this.refresh()},e.prototype.refresh=function(){var e=this;this.currentRefreshIndex+=1;var t=this.currentRefreshIndex;return $.ajax({type:"POST",url:"api/list",data:{queueId:this.queueId},dataType:"json",success:function(n){t===e.currentRefreshIndex&&e.refreshResponse(n)},error:x})},e.prototype.refreshResponse=function(e){var t=this;if(!this.refreshDisabled){e.message&&d.instance.message(e.message),this.announcementContainerElem.empty();var n=e.announcements;if(n.forEach(function(e){var n=$("<div></div>").appendTo(t.announcementContainerElem);new f(e,t,n)}),n.length>0?this.announcementContainerElem.show():this.announcementContainerElem.hide(),this.isOpen=e.isOpen,this.isOpen)this.statusMessageElem.html("The queue is open.");else{for(var s=e.schedule,i=-1,o=e.halfHour;o<48;++o){var a=s.charAt(o);if("o"===a||"p"===a){i=o;break}}if(-1===i)this.statusMessageElem.html("The queue is closed for today.");else{var r=new Date;r.setHours(0),r.setMinutes(0),r.setSeconds(0);var u=new Date(r.getTime()+30*i*6e4);this.statusMessageElem.html("The queue is closed right now. It will open at "+u.toLocaleTimeString()+".")}}var p=e.queue;this.queueElem.empty();var c=[],l=null;for(o=0;o<p.length;++o){var h=p[o],m=$("<li class='list-group-item'></li>"),v=new y(this,h,o,m);c.push(v),!l&&q.isMe(v.email)&&(l=v),this.queueElem.append(m)}this.setMyRequest(l),this.observable.send("queueRefreshed"),this.stackElem.html("<h3>The Stack</h3><br /><p>Most recently removed at top</p><pre>"+JSON.stringify(e.stack,null,4)+"</pre>");var g=this.numEntries;this.numEntries=p.length,this.isAdmin&&0===g&&this.numEntries>0&&d.instance.notify("Request Received!",c[0].name),this.lastRefresh=new Date,this.numEntriesElem.html(""+this.numEntries),this.lastRefreshElem.html(this.lastRefresh.toLocaleTimeString())}},e.prototype.setMyRequest=function(e){this.myRequest=e,this.observable.send("myRequestSet")},e.prototype.removeRequest=function(e){console.log("attempting to remove "+e.email+" from queue "+this.queueId),this.disableRefresh();var t=this;$.ajax({type:"POST",url:"api/remove",data:{id:e.id},success:function(){console.log("successfully removed "+e.email+" from queue "+t.queueId),e.onRemove()},error:x}).always(function(){setTimeout(function(){t.enableRefresh(),t.refresh()},500)})},e.prototype.cancelIncomingRefresh=function(){this.currentRefreshIndex+=1},e.prototype.disableRefresh=function(){this.refreshDisabled=!0},e.prototype.enableRefresh=function(){this.refreshDisabled=!1},e.prototype.clear=function(){var e=this;return $.ajax({type:"POST",url:"api/clear",data:{idtoken:q.idToken(),queueId:this.queueId},success:function(){e.clearList()},error:x})},e.prototype.clearList=function(){this.queueElem.children().slideUp()},e.prototype.signUp=function(e,t,n,s,i){var o=this;return $.ajax({type:"POST",url:"api/signUp",data:{idtoken:q.idToken(),queueId:this.queueId,name:e,location:t,mapX:s,mapY:i,description:n},dataType:"json",success:function(e){e.fail?T(e.reason):o.refresh()},error:x})},e.prototype.updateRequest=function(e,t,n,s,i){var o=this;return $.ajax({type:"POST",url:"api/updateRequest",data:{id:this.myRequest.id,name:e,location:t,mapX:s,mapY:i,description:n},dataType:"json",success:function(e){e.fail?T(e.reason):o.refresh()},error:x})},e.prototype.setAdmin=function(e){var t=this.isAdmin;this.isAdmin=e,t!=this.isAdmin&&this.refresh()},e.prototype.userSignedIn=function(){this.observable.send("userSignedIn")},e.prototype.hasMap=function(){return""!==this.mapImageSrc},e.prototype.updateGroups=function(e){e.append("queueId",this.queueId),$.ajax({type:"POST",url:"api/updateGroups",cache:!1,contentType:!1,processData:!1,data:e,dataType:"json",success:function(e){e.success?alert("groups uploaded successfully"):alert("error uploading groups. roster and groups have been cleared - you'll have to upload them again, sorry!")},error:function(e){alert("error uploading groups")}})},e.prototype.updateConfiguration=function(e){return e.queueId=this.queueId,$.ajax({type:"POST",url:"api/updateQueueConfiguration",data:e,dataType:"json",success:function(e){e.fail&&T(e.reason)},error:x})},e.prototype.addAnnouncement=function(e){var t=this;return $.ajax({type:"POST",url:"api/announcements",data:{queueId:this.queueId,content:e},success:function(){t.refresh()},error:x})},e}(),v=function(){function e(t,n){var s=this;this.queue=t,this.elem=n,this.formHasChanges=!1;var i,o=$("<div></div>");if(this.signUpForm=$('<form id="signUpForm" role="form" class="form-horizontal"></form>').append(i=$("<div></div>").append($('<div class="form-group"></div>').append('<label class="control-label col-sm-3" for="signUpName'+t.queueId+'">Name:</label>').append($('<div class="col-sm-9"></div>').append(this.signUpNameInput=$('<input type="text" class="form-control" id="signUpName'+t.queueId+'" required="required" maxlength="30" placeholder="Nice to meet you!">')))).append($('<div class="form-group"></div>').append('<label class="control-label col-sm-3" for="signUpDescription'+t.queueId+'">Description:</label>').append($('<div class="col-sm-9"></div>').append(this.signUpDescriptionInput=$('<input type="text" class="form-control" id="signUpDescription'+t.queueId+'"required="required" maxlength="100" placeholder="e.g. Segfault in function X, using the map data structure, etc.">')))).append($('<div class="form-group"></div>').append('<label class="control-label col-sm-3" for="signUpLocation'+t.queueId+'">Location:</label>').append($('<div class="col-sm-9"></div>').append(this.signUpLocationInput=$('<input type="text" class="form-control" id="signUpLocation'+t.queueId+'"required="required" maxlength="30" placeholder="e.g. Computer #36, laptop by glass/atrium door, etc.">')))).append('<div class="hidden-xs form-group"><div class="col-sm-offset-3 col-sm-9"><button type="submit" class="btn btn-success queue-signUpButton">Sign Up</button> <button type="submit" class="btn btn-success queue-updateRequestButton" style="display:none;"></button></div></div>')),o.append(this.signUpForm),this.statusElem=$("<div></div>"),o.append(this.statusElem),this.signUpForm.find("input").on("input",function(){s.formChanged()}),this.queue.hasMap()){i.addClass("col-xs-12 col-sm-8"),i.css("padding","0"),this.signUpForm.append(this.mapHolder=$('<div class="col-xs-12 col-sm-4" style="position: relative; padding:0"></div>').append(this.signUpMap=$('<img src="img/'+this.queue.mapImageSrc+'" class="queue-signUpMap" style="width:100%"></img>')).append(this.signUpPin=$('<span class="queue-locatePin"><span class="glyphicon glyphicon-map-marker" style="position:absolute; left:-1.3ch;top:-0.95em;"></span></span>'))),this.signUpForm.append($('<div class="visible-xs col-xs-12" style="padding: 0;"><div class="form-group"><div class="col-sm-offset-3 col-sm-9"><button type="submit" class="btn btn-success queue-signUpButton">Sign Up</button> <button type="submit" class="btn btn-success queue-updateRequestButton" style="display:none;"></button></div></div></div>'));var a=this.signUpPin;this.mapX=50,this.mapY=50;var r=this;this.signUpMap.click(function(e){r.mapX=100*Math.trunc(e.pageX-$(this).offset().left)/$(this).width(),r.mapY=100*Math.trunc(e.pageY-$(this).offset().top)/$(this).height(),a.css("left",r.mapX+"%"),a.css("top",r.mapY+"%"),r.formChanged()}),this.signUpLocationInput.val("Click on the map!"),this.signUpLocationInput.prop("disabled",!0)}this.signUpForm.submit(function(t){t.preventDefault();var n=s.signUpNameInput.val(),i=s.signUpDescriptionInput.val(),o=s.signUpLocationInput.val();return n&&0!=n.length&&o&&0!=o.length&&i&&0!=i.length?(s.queue.myRequest?s.queue.updateRequest(n,o,i,s.mapX,s.mapY):s.queue.signUp(n,o,i,s.mapX,s.mapY),s.formHasChanges=!1,s.updateRequestButtons.removeClass("btn-warning"),s.updateRequestButtons.addClass("btn-success"),s.updateRequestButtons.prop("disabled",!0),s.updateRequestButtons.html(e.UPDATE_REQUEST_BUTTON_UP_TO_DATE),!1):(T("You must fill in all the fields."),!1)}),this.signUpButtons=this.signUpForm.find("button.queue-signUpButton"),this.updateRequestButtons=this.signUpForm.find("button.queue-updateRequestButton").prop("disabled",!0).html(e.UPDATE_REQUEST_BUTTON_UP_TO_DATE),this.elem.append(o)}return e.prototype.formChanged=function(){this.queue.myRequest&&(this.formHasChanges=!0,this.updateRequestButtons.removeClass("btn-success"),this.updateRequestButtons.addClass("btn-warning"),this.updateRequestButtons.prop("disabled",!1),this.updateRequestButtons.html(e.UPDATE_REQUEST_BUTTON_UPDATE))},e.prototype.refreshSignInEnabled=function(){var e=q.isUmich()&&this.queue.isOpen&&!this.queue.myRequest;this.signUpButtons.prop("disabled",!e),this.queue.myRequest&&this.updateRequestButtons.show()},e.prototype.queueRefreshed=function(){this.refreshSignInEnabled()},e.prototype.userSignedIn=function(){this.refreshSignInEnabled()},e.prototype.myRequestSet=function(){var e=this.queue.myRequest;this.statusElem.html(""),e&&(this.formHasChanges||(this.signUpNameInput.val(e.name),this.signUpDescriptionInput.val(e.description||""),this.signUpLocationInput.val(e.location||""),this.queue.hasMap()&&(this.mapX=e.mapX,this.mapY=e.mapY,this.signUpPin.css("left",this.mapX+"%"),this.signUpPin.css("top",this.mapY+"%"))),this.statusElem.html("You are at position "+e.index+" in the queue."),e.tag&&this.statusElem.prepend('<span class="label label-info">'+e.tag+"</span> "))},e._name="StudentControls",e.UPDATE_REQUEST_BUTTON_UP_TO_DATE="<span class='glyphicon glyphicon-ok'></span> Request Updated",e.UPDATE_REQUEST_BUTTON_UPDATE="Update Request",o([p.messageResponse()],e.prototype,"queueRefreshed",null),o([p.messageResponse()],e.prototype,"userSignedIn",null),o([p.messageResponse()],e.prototype,"myRequestSet",null),e}(),g=function(){function e(e,t){this.queue=e,this.elem=t,this.elem.append("<p><b>Admin Controls</b></p>");var n=$('<button type="button" class="btn btn-danger adminOnly" data-toggle="modal" data-target="#clearTheQueueDialog">Clear the queue</button>');this.queue.makeActiveOnClick(n),this.elem.append(n),this.elem.append(" ");var s=$('<button type="button" class="btn btn-info adminOnly" data-toggle="modal" data-target="#scheduleDialog">Schedule</button>');this.queue.makeActiveOnClick(s),this.elem.append(s),this.elem.append(" ");var i=$('<button type="button" class="btn btn-info adminOnly" data-toggle="modal" data-target="#manageQueueDialog">Manage Queue</button>');this.queue.makeActiveOnClick(i),this.elem.append(i),this.elem.append(" ");var o=$('<button type="button" class="btn btn-info adminOnly" data-toggle="modal" data-target="#addAnnouncementDialog">Add Announcement</button>');this.queue.makeActiveOnClick(o),this.elem.append(o)}return e._name="AdminControls",e}(),y=function(){function e(e,t,n,s){this.queue=e,this.id=t.id,this.email=t.email,this.index=n,this.isMe=!!t.name,this.elem=s;var i=$('<div class="queue-entryInfo"></div>'),o=t.name?t.name+" ("+t.email+")":"Anonymous Student";this.nameElem=$('<p><span class="glyphicon glyphicon-education"></span></p>').append(" "+o).appendTo(i),t.tag&&t.tag.length>0&&(this.tag=t.tag,this.nameElem.append(' <span class="label label-info">'+this.tag+"</span>")),this.name=t.name,t.location&&t.location.length>0&&(this.locationElem=$('<p><span class="glyphicon glyphicon-map-marker"></span></p>').append(" "+t.location).appendTo(i),this.location=t.location),t.description&&t.description.length>0&&(this.descriptionElem=$('<p><span class="glyphicon glyphicon-question-sign"></span></p>').append(" "+t.description).appendTo(i),this.description=t.description);var a=Date.now()-new Date(1e3*parseInt(t.ts)).getTime(),r=Math.round(a/1e3/60);this.tsElem=$('<p><span class="glyphicon glyphicon-time"></span></p>').append(" "+r+" min").appendTo(i);var u=$('<button type="button" class="btn btn-danger">Remove</button>');this.isMe||u.addClass("adminOnly"),u.on("click",this.queue.removeRequest.bind(this.queue,this)),i.append(u),i.append(" ");var p=$('<button type="button" class="btn btn-warning adminOnly">Message</button>'),c=this;if(p.on("click",function(){$("#sendMessageDialog").modal("show"),d.instance.setSendMessagePostId(c.id)}),i.append(p),this.queue.hasMap()&&void 0!==t.mapX&&void 0!==t.mapY){var l=this.mapX=parseFloat(t.mapX),h=this.mapY=parseFloat(t.mapY),f=$('<div class="adminOnly" style="display:inline-block; vertical-align: top; width: 25%; margin-right: 10px"></div>');this.elem.append(f);var m=$('<div style="position: relative"></div>');this.mapElem=$('<img class="adminOnly queue-entryMap" src="img/'+this.queue.mapImageSrc+'"></img>'),m.append(this.mapElem),this.mapPin=$('<span class="adminOnly queue-locatePin"><span class="glyphicon glyphicon-map-marker" style="position:absolute; left:-1.3ch;top:-0.95em;"></span></span>'),this.mapPin.css("left",l+"%"),this.mapPin.css("top",h+"%"),m.append(this.mapPin),f.append(m)}this.elem.append(i)}return e.prototype.onRemove=function(){this.elem.slideUp(500,function(){$(this).remove()})},e._name="QueueEntry",e}(),b=function(){function e(t){var n=this,s=$("#scheduleDialog");$("#scheduleForm").submit(function(e){return e.preventDefault(),n.update(),s.modal("hide"),!1}),s.on("shown.bs.modal",function(){n.refresh()});var i=$("#schedulePicker"),o=$("<tr></tr>").appendTo(i);o.append('<td style="width:1em; padding-right: 3px;"></td>');for(var a=0;a<24;++a)o.append('<td colspan="2">'+(0===a||12===a?12:a%12)+"</td>");this.unitElems=[];for(var r=["S","M","T","W","T","F","S"],u=0;u<7;++u){var p=[],c=$("<tr></tr>");c.append('<td style="width:1em; text-align: right; padding-right: 3px;">'+r[u]+"</td>");for(var l=0;l<48;++l){var d=$('<td><div class="scheduleUnit"></div></td>').appendTo(c).find(".scheduleUnit");p.push(d)}this.unitElems.push(p),i.append(c)}var h=!1;i.on("mousedown",function(e){return e.preventDefault(),h=!0,!1}),i.on("mouseup",function(){h=!1}),i.on("mouseleave",function(){h=!1}),s.on("hidden.bs.modal",function(){h=!1});var f=function(t){if(h){var n=t.data("scheduleType");t.removeClass("scheduleUnit-"+n);var s=e.sequence[n];t.data("scheduleType",s),t.addClass("scheduleUnit-"+s)}};i.on("mouseover",".scheduleUnit",function(e){return e.preventDefault(),f($(this)),!1}),i.on("mousedown",".scheduleUnit",function(e){return e.preventDefault(),h=!0,f($(this)),!1})}return e.prototype.refresh=function(){var e=this,t=d.instance.activeQueue();if(t)return $.ajax({type:"GET",url:"api/schedule/"+t.queueId,dataType:"json",success:function(t){for(var n=t,s=0;s<7;++s)for(var i=0;i<48;++i){var o=e.unitElems[s][i];o.removeClass(),o.addClass("scheduleUnit"),o.addClass("scheduleUnit-"+n[s].charAt(i)),o.data("scheduleType",n[s].charAt(i))}},error:x})},e.prototype.update=function(){if(d.instance.activeQueue()){for(var e=[],t=0;t<7;++t)e.push(this.unitElems[t].map(function(e){return e.data("scheduleType")}).join(""));var n=d.instance.activeQueue();return n?$.ajax({type:"POST",url:"api/updateSchedule",data:{idtoken:q.idToken(),queueId:n.queueId,schedule:e},success:function(){console.log("schedule updated")},error:x}):void 0}},e.sequence={o:"c",c:"p",p:"o"},e}();t.Schedule=b;var q,E=function(){function e(){var e=this,t=($("#manageQueueDialog"),$("#groupsForm"));t.submit(function(e){e.preventDefault();var n=new FormData(t[0]),s=d.instance.activeQueue();return s&&s.updateGroups(n),!1}),$("#policiesForm").submit(function(t){return t.preventDefault(),e.update(),!1}),this.updateConfigurationButton=$("#updateConfigurationButton"),$("#preventUnregisteredCheckbox").change(this.unsavedChanges.bind(this)),$("#preventGroupsCheckbox").change(this.unsavedChanges.bind(this)),$("#prioritizeNewCheckbox").change(this.unsavedChanges.bind(this)),d.instance.observable.addListener(this),this.refresh()}return e.prototype.refresh=function(){var e=d.instance.activeQueue();if(e&&e.isAdmin)return $("#checkQueueRosterLink").attr("href","api/roster/"+e.queueId),$("#checkQueueGroupsLink").attr("href","api/groups/"+e.queueId),$.ajax({type:"GET",url:"api/queueConfiguration/"+e.queueId,dataType:"json",success:this.refreshResponse.bind(this),error:x})},e.prototype.refreshResponse=function(e){console.log(JSON.stringify(e)),$("#preventUnregisteredCheckbox").prop("checked","y"===e.preventUnregistered),$("#preventGroupsCheckbox").prop("checked","y"===e.preventGroups),$("#prioritizeNewCheckbox").prop("checked","y"===e.prioritizeNew),this.changesUpToDate()},e.prototype.update=function(){var e=d.instance.activeQueue();e&&e.updateConfiguration({preventUnregistered:$("#preventUnregisteredCheckbox").is(":checked")?"y":"n",preventGroups:$("#preventGroupsCheckbox").is(":checked")?"y":"n",prioritizeNew:$("#prioritizeNewCheckbox").is(":checked")?"y":"n"}).done(this.changesUpToDate.bind(this))},e.prototype.unsavedChanges=function(){this.updateConfigurationButton.html(e.POLICIES_UNSAVED).prop("disabled",!1).removeClass("btn-success").addClass("btn-warning")},e.prototype.changesUpToDate=function(){this.updateConfigurationButton.html(e.POLICIES_UP_TO_DATE).prop("disabled",!0).removeClass("btn-warning").addClass("btn-success")},e.POLICIES_UP_TO_DATE='<span><span class="glyphicon glyphicon-floppy-saved"></span> Saved</span>',e.POLICIES_UNSAVED='<span><span class="glyphicon glyphicon-floppy-open"></span> Update Configuration</span>',o([p.messageResponse("activeQueueSet")],e.prototype,"refresh",null),e}();if(t.ManageQueueDialog=E,function(e){e.signIn=function(t,s){var i=new n(t,s),o=$("#accountMessage");i.isUmich()||(o.show(),o.html("Hi "+i.email+"! Please <a>sign out</a> and switch to an @umich.edu account to use the queue."),o.find("a").click(function(){gapi.auth2.getAuthInstance().disconnect().then(function(){e.signOut(),o.hide()})}),$(".openSignUpDialogButton").prop("disabled",!0))},e.signOut=function(){$("#accountMessage").hide(),o&&o.onSignOut(),new s},e.idToken=function(){return o.idToken()},e.isUmich=function(){return o.isUmich()},e.isCourseAdmin=function(e){return o.isCourseAdmin(e)},e.isMe=function(e){return o.isMe(e)};var t=function(){function e(){}return e.prototype.onSignOut=function(){},e.prototype.onFinishSigningIn=function(){o=this,d.instance&&d.instance.userSignedIn()},e._name="UserBase",e}(),n=function(e){function t(t,n){var s=e.call(this)||this;return s.admins={},s.email=t,s._idToken=n,$.ajax({type:"POST",url:"api/login",data:{idtoken:s.idToken()},success:function(e){s.checkAdmin()},error:x}),s}return i(t,e),t.prototype.isUmich=function(){return l.default(this.email,"@umich.edu")},t.prototype.isMe=function(e){return this.email===e},t.prototype.idToken=function(){return this._idToken},t.prototype.checkAdmin=function(){var e=this;$.ajax({type:"POST",url:"api/adminCourses",data:{idtoken:this.idToken()},dataType:"json",success:function(t){for(var n=0;n<t.length;++n)e.admins[t[n].courseId]=!0;t.length>0?(setInterval(function(){d.instance.refreshActiveQueue()},5e3),Notification&&Notification.requestPermission()):setInterval(function(){d.instance.refreshActiveQueue()},6e4),e.onFinishSigningIn()},error:x})},t.prototype.isCourseAdmin=function(e){return this.admins[e]},t}(t),s=function(e){function t(){var t=e.call(this)||this;return t.onFinishSigningIn(),setInterval(function(){d.instance.refreshActiveQueue()},6e4),t}return i(t,e),t.prototype.isUmich=function(){return!1},t.prototype.idToken=function(){return""},t.prototype.isCourseAdmin=function(e){return!1},t.prototype.isMe=function(e){return!1},t}(t),o=new s}(q=t.User||(t.User={})),"object"==typeof sessionStorage)try{sessionStorage.setItem("localStorage","1"),sessionStorage.removeItem("localStorage")}catch(e){x(null,"It looks like local storage is disabled in your browser. This may aggravate an issue with Google sign-in on Safari or iOS while using private browsing mode.")}function x(e,t){"abort"!==t&&(console.log("Oops. An error occurred. Try refreshing the page."),$("#oopsDialog").modal("show"))}function T(e){console.log(e),$("#errorMessage").html(e),$("#errorDialog").modal("show")}},function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(12));function o(e,t){var n=e._act[t.category];n?n.call(e,t):e._act._default?e._act._default.call(e,t):assert(!1)}t.addListener=function(e,t,n){e.observable.addListener(t,n)},t.messageResponse=function(e){return function(t,n,s){t._act||(t._act={}),t._act[e||n]=t[n]}};var a=function(){function e(e){this.silent=!1,this.universalObservers=[],this.observers={},this.source=e}return e.prototype.send=function(e,t){if(!this.silent){var n={category:e,data:t,source:this.source},s=this.observers[n.category];if(s)for(var i=0;i<s.length;++i)o(s[i],n);for(i=0;i<this.universalObservers.length;++i)o(this.universalObservers[i],n)}},e.prototype.addListener=function(e,t){if(t)if(Array.isArray(t))for(var n=0;n<t.length;++n)this.addListener(e,t[n]);else this.observers[t]||(this.observers[t]=[]),this.observers[t].push(e),this.listenerAdded(e,t);else this.universalObservers.push(e),this.listenerAdded(e);return this},e.prototype.removeListener=function(e,t){if(t){var n=this.observers[t];n&&i.default(n,e),this.listenerRemoved(e,t)}else{for(var s in this.observers)this.removeListener(e,s);i.default(this.universalObservers,e),this.listenerRemoved(e)}return this},e.prototype.listenerAdded=function(e,t){},e.prototype.listenerRemoved=function(e,t){},e}();t.Observable=a},function(e,t,n){var s=n(13)(n(32));e.exports=s},function(e,t,n){var s=n(2),i=n(14),o=n(16);e.exports=function(e,t){return o(i(e,t,s),e+"")}},function(e,t,n){var s=n(15),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,r=i(o.length-t,0),u=Array(r);++a<r;)u[a]=o[t+a];a=-1;for(var p=Array(t+1);++a<t;)p[a]=o[a];return p[t]=n(u),s(e,this,p)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var s=n(17),i=n(31)(s);e.exports=i},function(e,t,n){var s=n(18),i=n(19),o=n(2),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:s(t),writable:!0})}:o;e.exports=a},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t,n){var s=n(20),i=function(){try{var e=s(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,n){var s=n(21),i=n(30);e.exports=function(e,t){var n=i(e,t);return s(n)?n:void 0}},function(e,t,n){var s=n(22),i=n(27),o=n(1),a=n(29),r=/^\[object .+?Constructor\]$/,u=Function.prototype,p=Object.prototype,c=u.toString,l=p.hasOwnProperty,d=RegExp("^"+c.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(s(e)?d:r).test(a(e))}},function(e,t,n){var s=n(3),i=n(1),o="[object AsyncFunction]",a="[object Function]",r="[object GeneratorFunction]",u="[object Proxy]";e.exports=function(e){if(!i(e))return!1;var t=s(e);return t==a||t==r||t==o||t==u}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(24))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var s=n(0),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,r=s?s.toStringTag:void 0;e.exports=function(e){var t=o.call(e,r),n=e[r];try{e[r]=void 0;var s=!0}catch(e){}var i=a.call(e);return s&&(t?e[r]=n:delete e[r]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var s,i=n(28),o=(s=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+s:"";e.exports=function(e){return!!o&&o in e}},function(e,t,n){var s=n(4)["__core-js_shared__"];e.exports=s},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t){var n=800,s=16,i=Date.now;e.exports=function(e){var t=0,o=0;return function(){var a=i(),r=s-(a-o);if(o=a,r>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var s=n(33);e.exports=function(e,t){return e&&e.length&&t&&t.length?s(e,t):e}},function(e,t,n){var s=n(5),i=n(34),o=n(38),a=n(39),r=n(40),u=Array.prototype.splice;e.exports=function(e,t,n,p){var c=p?o:i,l=-1,d=t.length,h=e;for(e===t&&(t=r(t)),n&&(h=s(e,a(n)));++l<d;)for(var f=0,m=t[l],v=n?n(m):m;(f=c(h,v,f,p))>-1;)h!==e&&u.call(h,f,1),u.call(e,f,1);return e}},function(e,t,n){var s=n(35),i=n(36),o=n(37);e.exports=function(e,t,n){return t==t?o(e,t,n):s(e,i,n)}},function(e,t){e.exports=function(e,t,n,s){for(var i=e.length,o=n+(s?1:-1);s?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,n){for(var s=n-1,i=e.length;++s<i;)if(e[s]===t)return s;return-1}},function(e,t){e.exports=function(e,t,n,s){for(var i=n-1,o=e.length;++i<o;)if(s(e[i],t))return i;return-1}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t){e.exports=function(e,t){var n=-1,s=e.length;for(t||(t=Array(s));++n<s;)t[n]=e[n];return t}},function(e,t,n){var s=n(42),i=n(6),o=/[&<>"']/g,a=RegExp(o.source);e.exports=function(e){return(e=i(e))&&a.test(e)?e.replace(o,s):e}},function(e,t,n){var s=n(43)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=s},function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var s=n(47),i=n(7),o=n(48),a=n(6);e.exports=function(e,t,n){e=a(e),t=i(t);var r=e.length,u=n=void 0===n?r:s(o(n),0,r);return(n-=t.length)>=0&&e.slice(n,u)==t}},function(e,t){e.exports=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}},function(e,t,n){var s=n(49);e.exports=function(e){var t=s(e),n=t%1;return t==t?n?t-n:t:0}},function(e,t,n){var s=n(50),i=1/0,o=1.7976931348623157e308;e.exports=function(e){return e?(e=s(e))===i||e===-i?(e<0?-1:1)*o:e==e?e:0:0===e?e:0}},function(e,t,n){var s=n(1),i=n(8),o=NaN,a=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,p=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return o;if(s(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=s(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=u.test(e);return n||p.test(e)?c(e.slice(2),n?2:8):r.test(e)?o:+e}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fU3ltYm9sLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNPYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pZGVudGl0eS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlR2V0VGFnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3Jvb3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYXJyYXlNYXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC90b1N0cmluZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlVG9TdHJpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc1N5bWJvbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvbWFpbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvcXVldWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3V0aWwvbWl4aW5zLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvcHVsbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlUmVzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19vdmVyUmVzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19hcHBseS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19zZXRUb1N0cmluZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlU2V0VG9TdHJpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9jb25zdGFudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19kZWZpbmVQcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXROYXRpdmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUlzTmF0aXZlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNGdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19mcmVlR2xvYmFsLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZ2V0UmF3VGFnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX29iamVjdFRvU3RyaW5nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2lzTWFza2VkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2NvcmVKc0RhdGEuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fdG9Tb3VyY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZ2V0VmFsdWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fc2hvcnRPdXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9wdWxsQWxsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VQdWxsQWxsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VJbmRleE9mLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VGaW5kSW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUlzTmFOLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3N0cmljdEluZGV4T2YuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUluZGV4T2ZXaXRoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VVbmFyeS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19jb3B5QXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9lc2NhcGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZXNjYXBlSHRtbENoYXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZVByb3BlcnR5T2YuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc0FycmF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNPYmplY3RMaWtlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvZW5kc1dpdGguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUNsYW1wLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvdG9JbnRlZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvdG9GaW5pdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC90b051bWJlci5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInR5cGUiLCJnZXRSYXdUYWciLCJvYmplY3RUb1N0cmluZyIsIm51bGxUYWciLCJ1bmRlZmluZWRUYWciLCJzeW1Ub1N0cmluZ1RhZyIsInVuZGVmaW5lZCIsImZyZWVHbG9iYWwiLCJmcmVlU2VsZiIsInNlbGYiLCJyb290IiwiRnVuY3Rpb24iLCJhcnJheSIsIml0ZXJhdGVlIiwiaW5kZXgiLCJsZW5ndGgiLCJyZXN1bHQiLCJBcnJheSIsImJhc2VUb1N0cmluZyIsImFycmF5TWFwIiwiaXNBcnJheSIsImlzU3ltYm9sIiwiSU5GSU5JVFkiLCJzeW1ib2xQcm90byIsInN5bWJvbFRvU3RyaW5nIiwidG9TdHJpbmciLCJiYXNlR2V0VGFnIiwiaXNPYmplY3RMaWtlIiwic3ltYm9sVGFnIiwicXVldWVfMSIsIm9uU2lnbkluIiwiZ29vZ2xlVXNlciIsInByb2ZpbGUiLCJnZXRCYXNpY1Byb2ZpbGUiLCJVc2VyIiwic2lnbkluIiwiZ2V0RW1haWwiLCJnZXRBdXRoUmVzcG9uc2UiLCJpZF90b2tlbiIsIiQiLCJkb2N1bWVudCIsInJlYWR5IiwiUXVldWVBcHBsaWNhdGlvbiIsImNyZWF0ZUluc3RhbmNlIiwiY2xlYXJJbnB1dCIsImNsZWFyVGhlUXVldWVEaWFsb2ciLCJvbiIsImZvY3VzIiwidmFsIiwiZSIsInRoaXMiLCJtb2RhbCIsImFxIiwiaW5zdGFuY2UiLCJhY3RpdmVRdWV1ZSIsImNsZWFyIiwic2lnblVwRGlhbG9nIiwiZmluZCIsInNlbmRNZXNzYWdlRGlhbG9nIiwic3VibWl0IiwicHJldmVudERlZmF1bHQiLCJjb250ZW50Iiwic2VuZE1lc3NhZ2UiLCJhbGVydCIsImFkZEFubm91bmNlbWVudERpYWxvZyIsImFkZEFubm91bmNlbWVudCIsIlNjaGVkdWxlIiwiTWFuYWdlUXVldWVEaWFsb2ciLCJzZXR1cERpYWxvZ3MiLCJnYXBpIiwic2lnbmluMiIsInJlbmRlciIsInNjb3BlIiwid2lkdGgiLCJoZWlnaHQiLCJsb25ndGl0bGUiLCJ0aGVtZSIsIm9uc3VjY2VzcyIsImNvbnNvbGUiLCJsb2ciLCJtaXhpbnNfMSIsImVzY2FwZV8xIiwiX19pbXBvcnREZWZhdWx0IiwiZW5kc1dpdGhfMSIsImVsZW0iLCJjb3Vyc2VzIiwibWVzc2FnZXNTaG93biIsIm9ic2VydmFibGUiLCJPYnNlcnZhYmxlIiwiY291cnNlUGlsbHMiLCJjb3Vyc2VQYW5lcyIsImxvYWRDb3Vyc2VzIiwiZ2V0SlNPTiIsImxpc3QiLCJfYSIsInNlbnQiLCJvbkNvdXJzZXNMb2FkIiwib29wcyIsImVfMSIsIl90aGlzIiwiZW1wdHkiLCJhcHBlbmQiLCJmb3JFYWNoIiwiY291cnNlRGF0YSIsImRlZmF1bHQiLCJjb3Vyc2VJZCIsInBpbGxFbGVtIiwiY291cnNlRWxlbSIsImNvdXJzZSIsIkNvdXJzZSIsInB1c2giLCJjbGljayIsIm1ha2VBY3RpdmUiLCJzZXRBY3RpdmVRdWV1ZSIsInF1ZXVlIiwiX2FjdGl2ZVF1ZXVlIiwicXVldWVJZCIsInVwZGF0ZVNpZ25VcEZvcm0iLCJzZW5kIiwiaGFzTWFwIiwic2hvdyIsImF0dHIiLCJtYXBJbWFnZVNyYyIsImhpZGUiLCJ1c2VyU2lnbmVkSW4iLCJyZWZyZXNoQWN0aXZlUXVldWUiLCJyZWZyZXNoIiwicmVmcmVzaENvbnRlbnQiLCJtZXNzYWdlIiwiaWQiLCJodG1sIiwic2V0U2VuZE1lc3NhZ2VQb3N0SWQiLCJzZW5kTWVzc2FnZVBvc3RJZCIsImFqYXgiLCJ1cmwiLCJkYXRhIiwiaWR0b2tlbiIsImlkVG9rZW4iLCJzdWNjZXNzIiwiZXJyb3IiLCJ0aXRsZSIsInNob3J0TmFtZSIsIm51bUVudHJpZXMiLCJub3RpZnkiLCJOb3RpZmljYXRpb24iLCJwZXJtaXNzaW9uIiwicmVxdWVzdFBlcm1pc3Npb24iLCJib2R5IiwiX25hbWUiLCJpc0FkbWluIiwicXVldWVzIiwiZnVsbE5hbWUiLCJxdWV1ZVBpbGxzRWxlbSIsInBpY2tBUXVldWVFbGVtIiwibWFpbkVsZW0iLCJxdWV1ZVBhbmVzRWxlbSIsImNvbnRlbnRFbGVtIiwibG9hZENvbnRlbnQiLCJsb2FkUXVldWVzIiwibG9hZCIsImRhdGFUeXBlIiwib25RdWV1ZXNMb2FkIiwiaXRlbSIsInByb3AiLCJxdWV1ZUVsZW0iLCJhZGRDbGFzcyIsIlF1ZXVlIiwiY2hpbGRyZW4iLCJmaXJzdCIsInNldEFkbWluIiwiaXNDb3Vyc2VBZG1pbiIsInJlbW92ZUNsYXNzIiwiQW5ub3VuY2VtZW50IiwicGFuZWxCb2R5IiwidHMiLCJhcHBlbmRUbyIsImNvbmZpcm0iLCJyZW1vdmUiLCJsYXN0UmVmcmVzaCIsIkRhdGUiLCJpc09wZW4iLCJteVJlcXVlc3QiLCJyZWZyZXNoRGlzYWJsZWQiLCJjdXJyZW50UmVmcmVzaEluZGV4IiwibG9jYXRpb24iLCJhbm5vdW5jZW1lbnRDb250YWluZXJFbGVtIiwic3RhdHVzRWxlbSIsIm51bUVudHJpZXNFbGVtIiwibGFzdFJlZnJlc2hFbGVtIiwic3RhdHVzTWVzc2FnZUVsZW0iLCJhZG1pblN0YXR1c0VsZW0iLCJhZG1pbkNvbnRyb2xzRWxlbSIsImFkbWluQ29udHJvbHMiLCJBZG1pbkNvbnRyb2xzIiwic3R1ZGVudENvbnRyb2xzRWxlbSIsInN0dWRlbnRDb250cm9scyIsIlN0dWRlbnRDb250cm9scyIsImFkZExpc3RlbmVyIiwic3RhY2tFbGVtIiwidG9vbHRpcCIsIm1ha2VBY3RpdmVPbkNsaWNrIiwibXlSZWZyZXNoSW5kZXgiLCJyZWZyZXNoUmVzcG9uc2UiLCJhbm5vdW5jZW1lbnRzRGF0YSIsImFEYXRhIiwiYW5ub3VuY2VtZW50RWxlbSIsInNjaGVkdWxlIiwibmV4dE9wZW4iLCJzY2hlZHVsZVR5cGUiLCJjaGFyQXQiLCJzZXRIb3VycyIsInNldE1pbnV0ZXMiLCJzZXRTZWNvbmRzIiwibmV3RGF0ZSIsImdldFRpbWUiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJxdWV1ZUVudHJpZXMiLCJpdGVtRWxlbSIsImVudHJ5IiwiUXVldWVFbnRyeSIsImlzTWUiLCJlbWFpbCIsInNldE15UmVxdWVzdCIsIkpTT04iLCJzdHJpbmdpZnkiLCJvbGROdW1FbnRyaWVzIiwicmVtb3ZlUmVxdWVzdCIsInJlcXVlc3QiLCJkaXNhYmxlUmVmcmVzaCIsIm9uUmVtb3ZlIiwiYWx3YXlzIiwic2V0VGltZW91dCIsImVuYWJsZVJlZnJlc2giLCJjYW5jZWxJbmNvbWluZ1JlZnJlc2giLCJjbGVhckxpc3QiLCJzbGlkZVVwIiwic2lnblVwIiwiZGVzY3JpcHRpb24iLCJtYXBYIiwibWFwWSIsInNob3dFcnJvck1lc3NhZ2UiLCJ1cGRhdGVSZXF1ZXN0Iiwib2xkQWRtaW4iLCJ1cGRhdGVHcm91cHMiLCJmb3JtRGF0YSIsImNhY2hlIiwiY29udGVudFR5cGUiLCJwcm9jZXNzRGF0YSIsInVwZGF0ZUNvbmZpZ3VyYXRpb24iLCJvcHRpb25zIiwiZm9ybUhhc0NoYW5nZXMiLCJyZWd1bGFyRm9ybUVsZW0iLCJjb250YWluZXJFbGVtIiwic2lnblVwRm9ybSIsInNpZ25VcE5hbWVJbnB1dCIsInNpZ25VcERlc2NyaXB0aW9uSW5wdXQiLCJzaWduVXBMb2NhdGlvbklucHV0IiwiZm9ybUNoYW5nZWQiLCJjc3MiLCJtYXBIb2xkZXIiLCJzaWduVXBNYXAiLCJzaWduVXBQaW4iLCJwaW4iLCJzZWxmXzEiLCJNYXRoIiwidHJ1bmMiLCJwYWdlWCIsIm9mZnNldCIsImxlZnQiLCJwYWdlWSIsInRvcCIsInNpZ25VcE5hbWUiLCJzaWduVXBEZXNjcmlwdGlvbiIsInNpZ25VcExvY2F0aW9uIiwidXBkYXRlUmVxdWVzdEJ1dHRvbnMiLCJVUERBVEVfUkVRVUVTVF9CVVRUT05fVVBfVE9fREFURSIsInNpZ25VcEJ1dHRvbnMiLCJVUERBVEVfUkVRVUVTVF9CVVRUT05fVVBEQVRFIiwicmVmcmVzaFNpZ25JbkVuYWJsZWQiLCJpc0VuYWJsZWQiLCJpc1VtaWNoIiwicXVldWVSZWZyZXNoZWQiLCJteVJlcXVlc3RTZXQiLCJyZXEiLCJ0YWciLCJwcmVwZW5kIiwiX19kZWNvcmF0ZSIsIm1lc3NhZ2VSZXNwb25zZSIsImNsZWFyUXVldWVCdXR0b24iLCJvcGVuU2NoZWR1bGVEaWFsb2dCdXR0b24iLCJvcGVuTWFuYWdlUXVldWVEaWFsb2dCdXR0b24iLCJvcGVuQWRkQW5ub3VuY2VtZW50RGlhbG9nQnV0dG9uIiwiaW5mb0VsZW0iLCJuYW1lRWxlbSIsImxvY2F0aW9uRWxlbSIsImRlc2NyaXB0aW9uRWxlbSIsInRpbWVXYWl0aW5nIiwibm93IiwicGFyc2VJbnQiLCJtaW51dGVzV2FpdGluZyIsInJvdW5kIiwidHNFbGVtIiwicmVtb3ZlQnV0dG9uIiwic2VuZE1lc3NhZ2VCdXR0b24iLCJwYXJzZUZsb2F0IiwibWFwRWxlbSIsIm1hcFBpbiIsImRpYWxvZyIsInVwZGF0ZSIsInNjaGVkdWxlUGlja2VyIiwiZmlyc3RSb3ciLCJ1bml0RWxlbXMiLCJkYXlMZXR0ZXJzIiwiZGF5Iiwicm93RWxlbSIsInVuaXRFbGVtIiwicHJlc3NlZCIsImNoYW5nZUNvbG9yIiwiY3VycmVudFR5cGUiLCJuZXh0VHlwZSIsInNlcXVlbmNlIiwibWFwIiwiam9pbiIsImdyb3Vwc0Zvcm0iLCJGb3JtRGF0YSIsInVwZGF0ZUNvbmZpZ3VyYXRpb25CdXR0b24iLCJjaGFuZ2UiLCJ1bnNhdmVkQ2hhbmdlcyIsImNoYW5nZXNVcFRvRGF0ZSIsInByZXZlbnRVbnJlZ2lzdGVyZWQiLCJpcyIsInByZXZlbnRHcm91cHMiLCJwcmlvcml0aXplTmV3IiwiZG9uZSIsIlBPTElDSUVTX1VOU0FWRUQiLCJQT0xJQ0lFU19VUF9UT19EQVRFIiwibmV3VXNlciIsIkF1dGhlbnRpY2F0ZWRVc2VyIiwiYWNjb3VudE1lc3NhZ2VFbGVtIiwiYXV0aDIiLCJnZXRBdXRoSW5zdGFuY2UiLCJkaXNjb25uZWN0IiwidGhlbiIsInNpZ25PdXQiLCJ0aGVVc2VyIiwib25TaWduT3V0IiwiVW5hdXRoZW50aWNhdGVkVXNlciIsIlVzZXJCYXNlIiwib25GaW5pc2hTaWduaW5nSW4iLCJfc3VwZXIiLCJhZG1pbnMiLCJfaWRUb2tlbiIsImNoZWNrQWRtaW4iLCJfX2V4dGVuZHMiLCJzZXRJbnRlcnZhbCIsInNlc3Npb25TdG9yYWdlIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJ4aHIiLCJ0ZXh0U3RhdHVzIiwicHVsbF8xIiwicmVjZWl2ZU1lc3NhZ2UiLCJvYnNlcnZlciIsIm1zZyIsImNhdEFjdCIsIl9hY3QiLCJjYXRlZ29yeSIsIl9kZWZhdWx0IiwiYXNzZXJ0Iiwib2JqV2l0aE9ic2VydmFibGUiLCJsaXN0ZW5lciIsIm1lc3NhZ2VDYXRlZ29yeSIsInRhcmdldCIsInByb3BlcnR5S2V5IiwiZGVzY3JpcHRvciIsInNvdXJjZSIsInNpbGVudCIsInVuaXZlcnNhbE9ic2VydmVycyIsIm9ic2VydmVycyIsImxpc3RlbmVyQWRkZWQiLCJyZW1vdmVMaXN0ZW5lciIsImxpc3RlbmVyUmVtb3ZlZCIsImNhdCIsInB1bGwiLCJiYXNlUmVzdCIsImlkZW50aXR5Iiwib3ZlclJlc3QiLCJzZXRUb1N0cmluZyIsImZ1bmMiLCJzdGFydCIsImFwcGx5IiwibmF0aXZlTWF4IiwibWF4IiwidHJhbnNmb3JtIiwiYXJncyIsImFyZ3VtZW50cyIsIm90aGVyQXJncyIsInRoaXNBcmciLCJiYXNlU2V0VG9TdHJpbmciLCJzaG9ydE91dCIsImNvbnN0YW50Iiwic3RyaW5nIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJnZXROYXRpdmUiLCJiYXNlSXNOYXRpdmUiLCJnZXRWYWx1ZSIsImlzRnVuY3Rpb24iLCJpc01hc2tlZCIsImlzT2JqZWN0IiwidG9Tb3VyY2UiLCJyZUlzSG9zdEN0b3IiLCJmdW5jUHJvdG8iLCJvYmplY3RQcm90byIsImZ1bmNUb1N0cmluZyIsInJlSXNOYXRpdmUiLCJSZWdFeHAiLCJyZXBsYWNlIiwidGVzdCIsImFzeW5jVGFnIiwiZnVuY1RhZyIsImdlblRhZyIsInByb3h5VGFnIiwiZ2xvYmFsIiwiZyIsIndpbmRvdyIsIm5hdGl2ZU9iamVjdFRvU3RyaW5nIiwiaXNPd24iLCJ1bm1hc2tlZCIsInVpZCIsImNvcmVKc0RhdGEiLCJtYXNrU3JjS2V5IiwiZXhlYyIsImtleXMiLCJJRV9QUk9UTyIsIkhPVF9DT1VOVCIsIkhPVF9TUEFOIiwibmF0aXZlTm93IiwiY291bnQiLCJsYXN0Q2FsbGVkIiwic3RhbXAiLCJyZW1haW5pbmciLCJiYXNlUHVsbEFsbCIsInZhbHVlcyIsImJhc2VJbmRleE9mIiwiYmFzZUluZGV4T2ZXaXRoIiwiYmFzZVVuYXJ5IiwiY29weUFycmF5Iiwic3BsaWNlIiwiY29tcGFyYXRvciIsImluZGV4T2YiLCJzZWVuIiwiZnJvbUluZGV4IiwiY29tcHV0ZWQiLCJiYXNlRmluZEluZGV4IiwiYmFzZUlzTmFOIiwic3RyaWN0SW5kZXhPZiIsInByZWRpY2F0ZSIsImZyb21SaWdodCIsImVzY2FwZUh0bWxDaGFyIiwicmVVbmVzY2FwZWRIdG1sIiwicmVIYXNVbmVzY2FwZWRIdG1sIiwiYmFzZVByb3BlcnR5T2YiLCImIiwiPCIsIj4iLCJcIiIsIiciLCJiYXNlQ2xhbXAiLCJ0b0ludGVnZXIiLCJwb3NpdGlvbiIsImVuZCIsInNsaWNlIiwibnVtYmVyIiwibG93ZXIiLCJ1cHBlciIsInRvRmluaXRlIiwicmVtYWluZGVyIiwidG9OdW1iZXIiLCJNQVhfSU5URUdFUiIsIk5BTiIsInJlVHJpbSIsInJlSXNCYWRIZXgiLCJyZUlzQmluYXJ5IiwicmVJc09jdGFsIiwiZnJlZVBhcnNlSW50Iiwib3RoZXIiLCJ2YWx1ZU9mIiwiaXNCaW5hcnkiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFB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QW1CLEdBQ0Esb0JBQUFBLEVBQ0EsT0FBQUEsRUFFQSxHQUFBb0MsRUFBQXBDLEdBQ0EsT0FBQStlLEVBRUEsR0FBQXZFLEVBQUF4YSxHQUFBLENBQ0EsSUFBQXFmLEVBQUEsbUJBQUFyZixFQUFBc2YsUUFBQXRmLEVBQUFzZixVQUFBdGYsRUFDQUEsRUFBQXdhLEVBQUE2RSxLQUFBLEdBQUFBLEVBRUEsb0JBQUFyZixFQUNBLFdBQUFBLE9BRUFBLElBQUFnYixRQUFBZ0UsRUFBQSxJQUNBLElBQUFPLEVBQUFMLEVBQUFqRSxLQUFBamIsR0FDQSxPQUFBdWYsR0FBQUosRUFBQWxFLEtBQUFqYixHQUNBb2YsRUFBQXBmLEVBQUF1ZSxNQUFBLEdBQUFnQixFQUFBLEtBQ0FOLEVBQUFoRSxLQUFBamIsR0FBQStlLEdBQUEvZSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gOSk7XG4iLCJ2YXIgcm9vdCA9IHJlcXVpcmUoJy4vX3Jvb3QnKTtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgU3ltYm9sID0gcm9vdC5TeW1ib2w7XG5cbm1vZHVsZS5leHBvcnRzID0gU3ltYm9sO1xuIiwiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNPYmplY3Q7XG4iLCIvKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGZpcnN0IGFyZ3VtZW50IGl0IHJlY2VpdmVzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBzaW5jZSAwLjEuMFxuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcGFyYW0geyp9IHZhbHVlIEFueSB2YWx1ZS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGB2YWx1ZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICpcbiAqIGNvbnNvbGUubG9nKF8uaWRlbnRpdHkob2JqZWN0KSA9PT0gb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gaWRlbnRpdHkodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlkZW50aXR5O1xuIiwidmFyIFN5bWJvbCA9IHJlcXVpcmUoJy4vX1N5bWJvbCcpLFxuICAgIGdldFJhd1RhZyA9IHJlcXVpcmUoJy4vX2dldFJhd1RhZycpLFxuICAgIG9iamVjdFRvU3RyaW5nID0gcmVxdWlyZSgnLi9fb2JqZWN0VG9TdHJpbmcnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIG51bGxUYWcgPSAnW29iamVjdCBOdWxsXScsXG4gICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXSc7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkVGFnIDogbnVsbFRhZztcbiAgfVxuICByZXR1cm4gKHN5bVRvU3RyaW5nVGFnICYmIHN5bVRvU3RyaW5nVGFnIGluIE9iamVjdCh2YWx1ZSkpXG4gICAgPyBnZXRSYXdUYWcodmFsdWUpXG4gICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUdldFRhZztcbiIsInZhciBmcmVlR2xvYmFsID0gcmVxdWlyZSgnLi9fZnJlZUdsb2JhbCcpO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm9vdDtcbiIsIi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLm1hcGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gKiBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICovXG5mdW5jdGlvbiBhcnJheU1hcChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXJyYXlNYXA7XG4iLCJ2YXIgYmFzZVRvU3RyaW5nID0gcmVxdWlyZSgnLi9fYmFzZVRvU3RyaW5nJyk7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZy4gQW4gZW1wdHkgc3RyaW5nIGlzIHJldHVybmVkIGZvciBgbnVsbGBcbiAqIGFuZCBgdW5kZWZpbmVkYCB2YWx1ZXMuIFRoZSBzaWduIG9mIGAtMGAgaXMgcHJlc2VydmVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b1N0cmluZyhudWxsKTtcbiAqIC8vID0+ICcnXG4gKlxuICogXy50b1N0cmluZygtMCk7XG4gKiAvLyA9PiAnLTAnXG4gKlxuICogXy50b1N0cmluZyhbMSwgMiwgM10pO1xuICogLy8gPT4gJzEsMiwzJ1xuICovXG5mdW5jdGlvbiB0b1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogYmFzZVRvU3RyaW5nKHZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0b1N0cmluZztcbiIsInZhciBTeW1ib2wgPSByZXF1aXJlKCcuL19TeW1ib2wnKSxcbiAgICBhcnJheU1hcCA9IHJlcXVpcmUoJy4vX2FycmF5TWFwJyksXG4gICAgaXNBcnJheSA9IHJlcXVpcmUoJy4vaXNBcnJheScpLFxuICAgIGlzU3ltYm9sID0gcmVxdWlyZSgnLi9pc1N5bWJvbCcpO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBJTkZJTklUWSA9IDEgLyAwO1xuXG4vKiogVXNlZCB0byBjb252ZXJ0IHN5bWJvbHMgdG8gcHJpbWl0aXZlcyBhbmQgc3RyaW5ncy4gKi9cbnZhciBzeW1ib2xQcm90byA9IFN5bWJvbCA/IFN5bWJvbC5wcm90b3R5cGUgOiB1bmRlZmluZWQsXG4gICAgc3ltYm9sVG9TdHJpbmcgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnRvU3RyaW5nIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvU3RyaW5nYCB3aGljaCBkb2Vzbid0IGNvbnZlcnQgbnVsbGlzaFxuICogdmFsdWVzIHRvIGVtcHR5IHN0cmluZ3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGJhc2VUb1N0cmluZyh2YWx1ZSkge1xuICAvLyBFeGl0IGVhcmx5IGZvciBzdHJpbmdzIHRvIGF2b2lkIGEgcGVyZm9ybWFuY2UgaGl0IGluIHNvbWUgZW52aXJvbm1lbnRzLlxuICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbnZlcnQgdmFsdWVzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgcmV0dXJuIGFycmF5TWFwKHZhbHVlLCBiYXNlVG9TdHJpbmcpICsgJyc7XG4gIH1cbiAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiBzeW1ib2xUb1N0cmluZyA/IHN5bWJvbFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gIH1cbiAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VUb1N0cmluZztcbiIsInZhciBiYXNlR2V0VGFnID0gcmVxdWlyZSgnLi9fYmFzZUdldFRhZycpLFxuICAgIGlzT2JqZWN0TGlrZSA9IHJlcXVpcmUoJy4vaXNPYmplY3RMaWtlJyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJztcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN5bWJvbGAgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN5bWJvbCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzU3ltYm9sKFN5bWJvbC5pdGVyYXRvcik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1N5bWJvbCgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzeW1ib2wnIHx8XG4gICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gc3ltYm9sVGFnKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc1N5bWJvbDtcbiIsImltcG9ydCB7UXVldWVBcHBsaWNhdGlvbiwgU2NoZWR1bGUsIE1hbmFnZVF1ZXVlRGlhbG9nLCBVc2VyfSBmcm9tIFwiLi9xdWV1ZVwiO1xyXG5cclxuLy8gaW1wb3J0IHtnYXBpfSBmcm9tIFwiaHR0cHM6Ly9hcGlzLmdvb2dsZS5jb20vanMvcGxhdGZvcm0uanNcIjtcclxuXHJcbmZ1bmN0aW9uIG9uU2lnbkluKGdvb2dsZVVzZXI6IGdhcGkuYXV0aDIuR29vZ2xlVXNlcikge1xyXG4gICAgdmFyIHByb2ZpbGUgPSBnb29nbGVVc2VyLmdldEJhc2ljUHJvZmlsZSgpO1xyXG4vLyAgICAgICAgY29uc29sZS5sb2coJ05hbWU6ICcgKyBwcm9maWxlLmdldE5hbWUoKSk7XHJcbi8vICAgICAgICBjb25zb2xlLmxvZygnSW1hZ2UgVVJMOiAnICsgcHJvZmlsZS5nZXRJbWFnZVVybCgpKTtcclxuLy8gICAgICAgIGNvbnNvbGUubG9nKCdJRDogJyArIHByb2ZpbGUuZ2V0SWQoKSk7IC8vIERvIG5vdCBzZW5kIHRvIHlvdXIgYmFja2VuZCEgVXNlIGFuIElEIHRva2VuIGluc3RlYWQuXHJcbiAgICBVc2VyLnNpZ25Jbihwcm9maWxlLmdldEVtYWlsKCksIGdvb2dsZVVzZXIuZ2V0QXV0aFJlc3BvbnNlKCkuaWRfdG9rZW4pO1xyXG4vLyAgICAgICAgY29uc29sZS5sb2coZ29vZ2xlVXNlci5nZXRBdXRoUmVzcG9uc2UoKS5leHBpcmVzX2F0KCkpO1xyXG4vLyAgICAgICAgdmFyIGV4cGlyZXNfYXQgPSBnb29nbGVVc2VyLmdldEF1dGhSZXNwb25zZSgpLmV4cGlyZXNfYXQ7XHJcbi8vICAgICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcclxuLy8gICAgICAgIHZhciBub3cyID0gRGF0ZS5ub3coKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0dXBEaWFsb2dzKCkge1xyXG4gICAgdmFyIGNsZWFySW5wdXQgPSAkKFwiI2NsZWFySW5wdXRcIik7XHJcbiAgICB2YXIgY2xlYXJUaGVRdWV1ZURpYWxvZyA9ICQoXCIjY2xlYXJUaGVRdWV1ZURpYWxvZ1wiKTtcclxuICAgIGNsZWFyVGhlUXVldWVEaWFsb2cub24oJ3Nob3duLmJzLm1vZGFsJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNsZWFySW5wdXQuZm9jdXMoKTtcclxuICAgIH0pO1xyXG4gICAgY2xlYXJUaGVRdWV1ZURpYWxvZy5vbignc2hvdy5icy5tb2RhbCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjbGVhcklucHV0LnZhbChcIlwiKTtcclxuICAgIH0pO1xyXG4gICAgY2xlYXJJbnB1dC5vbihcImlucHV0XCIsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgIGlmICgkKHRoaXMpLnZhbCgpID09IFwiY2xlYXJcIil7XHJcbiAgICAgICAgICAgIGNsZWFyVGhlUXVldWVEaWFsb2cubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAgICAgICBsZXQgYXEgPSBRdWV1ZUFwcGxpY2F0aW9uLmluc3RhbmNlLmFjdGl2ZVF1ZXVlKCk7XHJcbiAgICAgICAgICAgIGFxICYmIGFxLmNsZWFyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyIHNpZ25VcERpYWxvZyA9ICQoXCIjc2lnblVwRGlhbG9nXCIpO1xyXG4gICAgc2lnblVwRGlhbG9nLm9uKCdzaG93LmJzLm1vZGFsJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQodGhpcykuZmluZChcImlucHV0XCIpLnZhbChcIlwiKTtcclxuICAgIH0pO1xyXG4gICAgc2lnblVwRGlhbG9nLm9uKCdzaG93bi5icy5tb2RhbCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKHRoaXMpLmZpbmQoXCJpbnB1dDpmaXJzdFwiKS5mb2N1cygpO1xyXG4gICAgfSk7XHJcblxyXG5cclxuXHJcblxyXG4gICAgbGV0IHNlbmRNZXNzYWdlRGlhbG9nID0gJChcIiNzZW5kTWVzc2FnZURpYWxvZ1wiKTtcclxuICAgIHNlbmRNZXNzYWdlRGlhbG9nLm9uKCdzaG93LmJzLm1vZGFsJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQodGhpcykuZmluZChcImlucHV0XCIpLnZhbChcIlwiKTtcclxuICAgIH0pO1xyXG4gICAgc2VuZE1lc3NhZ2VEaWFsb2cub24oJ3Nob3duLmJzLm1vZGFsJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQodGhpcykuZmluZChcImlucHV0OmZpcnN0XCIpLmZvY3VzKCk7XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgbGV0IHNlbmRNZXNzYWdlRm9ybSA9ICQoXCIjc2VuZE1lc3NhZ2VGb3JtXCIpO1xyXG4gICAgc2VuZE1lc3NhZ2VGb3JtLnN1Ym1pdChmdW5jdGlvbihlKXtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgbGV0IGNvbnRlbnQgOiBzdHJpbmcgPSA8c3RyaW5nPiQoXCIjc2VuZE1lc3NhZ2VDb250ZW50XCIpLnZhbCgpO1xyXG5cclxuICAgICAgICBpZiAoIWNvbnRlbnQgfHwgY29udGVudC5sZW5ndGggPT0gMCl7XHJcbiAgICAgICAgICAgIGFsZXJ0KFwiWW91IGNhbid0IHNlbmQgYSBibGFuayBtZXNzYWdlLlwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgUXVldWVBcHBsaWNhdGlvbi5pbnN0YW5jZS5zZW5kTWVzc2FnZShjb250ZW50KTtcclxuXHJcbiAgICAgICAgc2VuZE1lc3NhZ2VEaWFsb2cubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0pO1xyXG5cclxuICAgIGxldCBhZGRBbm5vdW5jZW1lbnREaWFsb2cgPSAkKFwiI2FkZEFubm91bmNlbWVudERpYWxvZ1wiKTtcclxuICAgIGFkZEFubm91bmNlbWVudERpYWxvZy5vbignc2hvdy5icy5tb2RhbCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKHRoaXMpLmZpbmQoXCJ0ZXh0YXJlYVwiKS52YWwoXCJcIik7XHJcbiAgICB9KTtcclxuICAgIGFkZEFubm91bmNlbWVudERpYWxvZy5vbignc2hvd24uYnMubW9kYWwnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCh0aGlzKS5maW5kKFwidGV4dGFyZWFcIikuZm9jdXMoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGxldCBhZGRBbm5vdW5jZW1lbnRGb3JtID0gJChcIiNhZGRBbm5vdW5jZW1lbnRGb3JtXCIpO1xyXG4gICAgYWRkQW5ub3VuY2VtZW50Rm9ybS5zdWJtaXQoKGUpID0+IHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgbGV0IGNvbnRlbnQgPSA8c3RyaW5nPiQoXCIjYWRkQW5ub3VuY2VtZW50Q29udGVudFwiKS52YWwoKTtcclxuXHJcbiAgICAgICAgaWYgKCFjb250ZW50IHx8IGNvbnRlbnQubGVuZ3RoID09IDApe1xyXG4gICAgICAgICAgICBhbGVydChcIllvdSBjYW4ndCBwb3N0IGEgYmxhbmsgYW5ub3VuY2VtZW50LlwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGFxID0gUXVldWVBcHBsaWNhdGlvbi5pbnN0YW5jZS5hY3RpdmVRdWV1ZSgpO1xyXG4gICAgICAgIGFxICYmIGFxLmFkZEFubm91bmNlbWVudChjb250ZW50KTtcclxuXHJcbiAgICAgICAgYWRkQW5ub3VuY2VtZW50RGlhbG9nLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgbmV3IFNjaGVkdWxlKCQoXCIjc2NoZWR1bGVQaWNrZXJcIikpO1xyXG5cclxuICAgIG5ldyBNYW5hZ2VRdWV1ZURpYWxvZygpO1xyXG59XHJcblxyXG5cclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gICAgXHJcbiAgICBRdWV1ZUFwcGxpY2F0aW9uLmNyZWF0ZUluc3RhbmNlKCQoXCIjcXVldWVBcHBsaWNhdGlvblwiKSk7XHJcbiAgICAvLyBVc2VyLnNldFRhcmdldChVbmF1dGhlbnRpY2F0ZWRVc2VyLmluc3RhbmNlKCkpO1xyXG5cclxuICAgIHNldHVwRGlhbG9ncygpO1xyXG5cclxuICAgIC8vIDxkaXYgY2xhc3M9XCJnLXNpZ25pbjJcIiBkYXRhLW9uc3VjY2Vzcz1cIm9uU2lnbkluXCI+PC9kaXY+XHJcbiAgICAvLyBSZWN1cnJpbmcgcmVmcmVzaFxyXG4gICAgLy9zZXRJbnRlcnZhbChmdW5jdGlvbigpe1xyXG4gICAgLy8gICAgUXVldWVBcHBsaWNhdGlvbi5yZWZyZXNoQWN0aXZlUXVldWUoKTtcclxuICAgIC8vfSwgNjAwMDApO1xyXG4gICAgLy8gTU9WRUQgVE8gVVNFUiBDT0RFIElOIHF1ZXVlLmpzXHJcblxyXG4gICAgZ2FwaS5zaWduaW4yLnJlbmRlcignZ29vZ2xlU2lnbkluQnV0dG9uJywge1xyXG4gICAgICAgICdzY29wZSc6ICdwcm9maWxlIGVtYWlsJyxcclxuICAgICAgICAnd2lkdGgnOiAyNDAsXHJcbiAgICAgICAgJ2hlaWdodCc6IDUwLFxyXG4gICAgICAgICdsb25ndGl0bGUnOiB0cnVlLFxyXG4gICAgICAgICd0aGVtZSc6ICdkYXJrJyxcclxuICAgICAgICAnb25zdWNjZXNzJzogb25TaWduSW4sXHJcbiAgICAgIH0pO1xyXG59KTtcclxuXHJcbmNvbnNvbGUubG9nKFwiVEVTVCBCTEFIXCIpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEphbWVzIEp1ZXR0IG9uIDkvNS8yMDE2LlxyXG4gKi9cclxuXHJcbmltcG9ydCBib290Ym94IGZyb20gXCJib290Ym94XCJcclxuXHJcbi8vIGltcG9ydCBcIi4vdXRpbC91dGlsLmpzXCJcclxuZnVuY3Rpb24gZGVidWcobWVzc2FnZTogc3RyaW5nLCBjYXRlZ29yeTogc3RyaW5nKSB7XHJcbiAgICBpZiAoY2F0ZWdvcnkpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGNhdGVnb3J5ICsgXCI6IFwiICsgbWVzc2FnZSk7XHJcbiAgICAgICAgJChcIi5kZWJ1Zy5cIitjYXRlZ29yeSkuaHRtbChcIlwiK21lc3NhZ2UpOyAvL1wiXCIrIGlzIHRvIGZvcmNlIGNvbnZlcnNpb24gdG8gc3RyaW5nICh2aWEgLnRvU3RyaW5nIGlmIG9iamVjdClcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgICAgY29uc29sZS5sb2cobWVzc2FnZSk7XHJcbiAgICAgICAgJChcIi5kZWJ1Zy5kZWJ1Z0FsbFwiKS5odG1sKFwiXCIrbWVzc2FnZSk7IC8vXCJcIisgaXMgdG8gZm9yY2UgY29udmVyc2lvbiB0byBzdHJpbmcgKHZpYSAudG9TdHJpbmcgaWYgb2JqZWN0KVxyXG4gICAgfVxyXG59XHJcblxyXG52YXIgYXNzZXJ0ID0gZnVuY3Rpb24oY29uZGl0aW9uOiBhbnksIG1lc3NhZ2UgPSBcIlwiKSB7XHJcbiAgICBpZiAoIWNvbmRpdGlvbilcclxuICAgICAgICB0aHJvdyBFcnJvcihcIkFzc2VydCBmYWlsZWQ6IFwiICsgbWVzc2FnZSk7XHJcbn07XHJcblxyXG5pbnRlcmZhY2UgQXJyYXk8VD4ge1xyXG4gICAgY2xlYXIoKSA6IHZvaWQ7XHJcbn0gXHJcbkFycmF5LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMubGVuZ3RoID0gMDtcclxufVxyXG5cclxuaW1wb3J0IHtPYnNlcnZhYmxlLCBNZXNzYWdlUmVzcG9uc2VzLCBtZXNzYWdlUmVzcG9uc2V9IGZyb20gXCIuL3V0aWwvbWl4aW5zXCI7XHJcbmltcG9ydCBlc2NhcGUgZnJvbSBcImxvZGFzaC9lc2NhcGVcIlxyXG5pbXBvcnQgZW5kc1dpdGggZnJvbSBcImxvZGFzaC9lbmRzV2l0aFwiXHJcblxyXG52YXIgQU5JTUFUSU9OX0RFTEFZID0gNTAwO1xyXG5cclxuZXhwb3J0IGNsYXNzIFF1ZXVlQXBwbGljYXRpb24ge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX25hbWUgPSBcIlF1ZXVlQXBwbGljYXRpb25cIjtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGluc3RhbmNlIDogUXVldWVBcHBsaWNhdGlvbjtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZUluc3RhbmNlKGVsZW06IEpRdWVyeSkge1xyXG4gICAgICAgICg8UXVldWVBcHBsaWNhdGlvbj5RdWV1ZUFwcGxpY2F0aW9uLmluc3RhbmNlKSA9IG5ldyBRdWV1ZUFwcGxpY2F0aW9uKGVsZW0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZWxlbSA6IEpRdWVyeTtcclxuICAgIHByaXZhdGUgY291cnNlUGlsbHMgOiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIGNvdXJzZVBhbmVzIDogSlF1ZXJ5O1xyXG5cclxuICAgIHByaXZhdGUgY291cnNlcyA6IENvdXJzZVtdID0gW107XHJcbiAgICBwcml2YXRlIF9hY3RpdmVRdWV1ZT8gOiBRdWV1ZTtcclxuXHJcbiAgICBwcml2YXRlIG1lc3NhZ2VzU2hvd24gOiB7W2luZGV4OnN0cmluZ106IGJvb2xlYW59ID0ge307XHJcbiAgICBwcml2YXRlIHNlbmRNZXNzYWdlUG9zdElkPzogc3RyaW5nO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUodGhpcyk7XHJcblxyXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihlbGVtIDogSlF1ZXJ5KSB7XHJcbiAgICAgICAgdGhpcy5lbGVtID0gZWxlbTtcclxuICAgICAgICB0aGlzLmNvdXJzZVBpbGxzID0gZWxlbS5maW5kKFwiLmNvdXJzZVBpbGxzXCIpO1xyXG4gICAgICAgIHRoaXMuY291cnNlUGFuZXMgPSBlbGVtLmZpbmQoXCIuY291cnNlUGFuZXNcIik7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZENvdXJzZXMoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgbG9hZENvdXJzZXMoKSB7XHJcbiAgICAgICAgdHJ5e1xyXG4gICAgICAgICAgICBsZXQgbGlzdCA9IGF3YWl0ICQuZ2V0SlNPTihcImFwaS9jb3Vyc2VMaXN0XCIpO1xyXG4gICAgICAgICAgICB0aGlzLm9uQ291cnNlc0xvYWQobGlzdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoKGUpIHtcclxuICAgICAgICAgICAgb29wcyhlLCBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uQ291cnNlc0xvYWQobGlzdCA6IHtbaW5kZXg6c3RyaW5nXTogc3RyaW5nfVtdKSB7XHJcbiAgICAgICAgdGhpcy5jb3Vyc2VQaWxscy5lbXB0eSgpO1xyXG4gICAgICAgIHRoaXMuY291cnNlUGFuZXMuZW1wdHkoKTtcclxuICAgICAgICB0aGlzLmNvdXJzZXMuY2xlYXIoKTtcclxuXHJcblxyXG4gICAgICAgIC8vIE5vIGFjdGl2ZSBjb3Vyc2UgaW5pdGlhbGx5XHJcbiAgICAgICAgdGhpcy5jb3Vyc2VQYW5lcy5hcHBlbmQoJCgnPGRpdiBjbGFzcz1cInRhYi1wYW5lIGZhZGUgaW4gYWN0aXZlXCI+PGgxPjxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1hcnJvdy1sZWZ0XCI+PC9zcGFuPiBQbGVhc2Ugc2VsZWN0IGEgY291cnNlLjwvaDE+PC9kaXY+JykpO1xyXG5cclxuICAgICAgICBsaXN0LmZvckVhY2goKGNvdXJzZURhdGEpID0+IHtcclxuXHJcbiAgICAgICAgICAgIC8vIEVzY2FwZSBldmVyeXRoaW5nXHJcbiAgICAgICAgICAgIC8vIFRPRE8gcmVkdW5kYW50IC0gdGhpcyBoYXBwZW5zIG9uIHRoZSBzZXJ2ZXJcclxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGNvdXJzZURhdGEpe1xyXG4gICAgICAgICAgICAgICAgY291cnNlRGF0YVtrZXldID0gZXNjYXBlKGNvdXJzZURhdGFba2V5XSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBjb3Vyc2VJZCA9IGNvdXJzZURhdGFbXCJjb3Vyc2VJZFwiXTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFkZCB0aGUgcGlsbCB1c2VkIHRvIHNlbGVjdCB0aGUgY291cnNlXHJcbiAgICAgICAgICAgIGxldCBwaWxsRWxlbSA9ICQoJzxsaT48YSBocmVmPVwiIycgKyBjb3Vyc2VJZCArICdcIiBkYXRhLXRvZ2dsZT1cInBpbGxcIj48aDM+JyArIGNvdXJzZUlkICsgJzwvaDM+PC9hPjwvbGk+Jyk7XHJcbiAgICAgICAgICAgIHRoaXMuY291cnNlUGlsbHMuYXBwZW5kKHBpbGxFbGVtKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFkZCB0aGUgZWxlbWVudCB0aGF0IHdpbGwgY29udGFpbiB0aGUgY291cnNlIGNvbnRlbnRcclxuICAgICAgICAgICAgbGV0IGNvdXJzZUVsZW0gPSAkKCc8ZGl2IGlkPVwiJyArIGNvdXJzZUlkICsgJ1wiIGNsYXNzPVwidGFiLXBhbmUgZmFkZVwiPjwvZGl2PicpO1xyXG4gICAgICAgICAgICB0aGlzLmNvdXJzZVBhbmVzLmFwcGVuZChjb3Vyc2VFbGVtKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgY291cnNlIGl0c2VsZlxyXG4gICAgICAgICAgICBsZXQgY291cnNlID0gbmV3IENvdXJzZShjb3Vyc2VEYXRhLCBjb3Vyc2VFbGVtKTtcclxuICAgICAgICAgICAgdGhpcy5jb3Vyc2VzLnB1c2goY291cnNlKTtcclxuXHJcbiAgICAgICAgICAgIHBpbGxFbGVtLmZpbmQoXCJhXCIpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBjb3Vyc2UubWFrZUFjdGl2ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0QWN0aXZlUXVldWUocXVldWUgOiBhbnkpIHtcclxuICAgICAgICB0aGlzLl9hY3RpdmVRdWV1ZSA9IHF1ZXVlO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiU2V0dGluZyBhY3RpdmUgcXVldWUgdG8gXCIgKyBxdWV1ZS5xdWV1ZUlkKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVNpZ25VcEZvcm0oKTtcclxuICAgICAgICB0aGlzLm9ic2VydmFibGUuc2VuZChcImFjdGl2ZVF1ZXVlU2V0XCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhY3RpdmVRdWV1ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYWN0aXZlUXVldWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZVNpZ25VcEZvcm0oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVF1ZXVlICYmIHRoaXMuX2FjdGl2ZVF1ZXVlLmhhc01hcCgpKSB7XHJcbiAgICAgICAgICAgICQoXCIjc2lnblVwTWFwSG9sZGVyXCIpLnNob3coKTtcclxuICAgICAgICAgICAgJChcIiNzaWduVXBNYXBNZXNzYWdlXCIpLnNob3coKTtcclxuICAgICAgICAgICAgJChcIiNzaWduVXBNYXBJbWFnZVwiKS5hdHRyKFwic3JjXCIsIHRoaXMuX2FjdGl2ZVF1ZXVlLm1hcEltYWdlU3JjKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICQoXCIjc2lnblVwTWFwSG9sZGVyXCIpLmhpZGUoKTtcclxuICAgICAgICAgICAgJChcIiNzaWduVXBNYXBNZXNzYWdlXCIpLmhpZGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVzZXJTaWduZWRJbigpIHtcclxuICAgICAgICB0aGlzLmNvdXJzZXMuZm9yRWFjaCgoY291cnNlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvdXJzZS51c2VyU2lnbmVkSW4oKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVmcmVzaEFjdGl2ZVF1ZXVlKCkge1xyXG4gICAgICAgIHRoaXMuX2FjdGl2ZVF1ZXVlICYmIHRoaXMuX2FjdGl2ZVF1ZXVlLnJlZnJlc2goKTtcclxuICAgICAgICB0aGlzLnJlZnJlc2hDb250ZW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1lc3NhZ2UobWVzc2FnZToge1tpbmRleDpzdHJpbmddOiBzdHJpbmd9KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1lc3NhZ2VzU2hvd25bbWVzc2FnZS5pZF0pe1xyXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VzU2hvd25bbWVzc2FnZS5pZF0gPSB0cnVlO1xyXG4gICAgICAgICAgICAkKFwiI21lc3NhZ2VEaWFsb2dIZWFkZXJcIikuaHRtbCgnTWVzc2FnZScpO1xyXG4gICAgICAgICAgICAkKFwiI21lc3NhZ2VEaWFsb2dDb250ZW50XCIpLmFwcGVuZCgnPHA+PHNwYW4gY2xhc3M9XCJsYWJlbCBsYWJlbC1pbmZvXCI+JyAgKyBtZXNzYWdlW1wic2VuZGVyXCJdICsgJzwvc3Bhbj4gJyArIG1lc3NhZ2VbXCJtZXNzYWdlXCJdICsgJzwvcD4nKTtcclxuICAgICAgICAgICAgJChcIiNtZXNzYWdlRGlhbG9nXCIpLm1vZGFsKFwic2hvd1wiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFNlbmRNZXNzYWdlUG9zdElkKGlkOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlUG9zdElkID0gaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNlbmRNZXNzYWdlKG1lc3NhZ2U6IHN0cmluZykge1xyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICB1cmw6IFwiYXBpL3NlbmRNZXNzYWdlXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIGlkdG9rZW46IFVzZXIuaWRUb2tlbigpLFxyXG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMuc2VuZE1lc3NhZ2VQb3N0SWQsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBvb3BzXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlZnJlc2hDb250ZW50KCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9hY3RpdmVRdWV1ZSkge1xyXG4gICAgICAgICAgICBkb2N1bWVudC50aXRsZSA9IHRoaXMuX2FjdGl2ZVF1ZXVlLmNvdXJzZS5zaG9ydE5hbWUgKyBcIiBPSCAoXCIgKyB0aGlzLl9hY3RpdmVRdWV1ZS5udW1FbnRyaWVzICsgXCIpXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBub3RpZnkodGl0bGU6IHN0cmluZywgbWVzc2FnZTogc3RyaW5nKSB7XHJcbiAgICAgIGlmICghTm90aWZpY2F0aW9uKSB7XHJcbiAgICAgICAgYWxlcnQobWVzc2FnZSk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgLy8gVE9ETzogYnVnIGluIHR5cGVzY3JpcHQgcmVxdWlyZXMgY2FzdCBiZWxvdy4gQ2FuIGJlIHJlbW92ZWQgZXZlbnR1YWxseS5cclxuICAgICAgICBpZiAoKDxhbnk+Tm90aWZpY2F0aW9uKS5wZXJtaXNzaW9uICE9PSBcImdyYW50ZWRcIikge1xyXG4gICAgICAgICAgTm90aWZpY2F0aW9uLnJlcXVlc3RQZXJtaXNzaW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgbmV3IE5vdGlmaWNhdGlvbih0aXRsZSwge1xyXG4gICAgICAgICAgICBib2R5OiBtZXNzYWdlXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgQ291cnNlIHtcclxuICAgIHB1YmxpYyByZWFkb25seSBjb3Vyc2VJZCA6IHN0cmluZztcclxuICAgIHB1YmxpYyByZWFkb25seSBzaG9ydE5hbWUgOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZnVsbE5hbWUgOiBzdHJpbmc7XHJcblxyXG4gICAgcHJpdmF0ZSBpc0FkbWluIDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBxdWV1ZXMgOiBhbnlbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBhY3RpdmVRdWV1ZSA6IGFueTtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGVsZW0gOiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHF1ZXVlUGlsbHNFbGVtIDogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBwaWNrQVF1ZXVlRWxlbSA6IEpRdWVyeTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgbWFpbkVsZW0gOiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHF1ZXVlUGFuZXNFbGVtIDogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBjb250ZW50RWxlbSA6IEpRdWVyeTtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IoZGF0YToge1tpbmRleDpzdHJpbmddOiBzdHJpbmd9LCBlbGVtOiBKUXVlcnkpIHtcclxuXHJcbiAgICAgICAgdGhpcy5jb3Vyc2VJZCA9IGRhdGFbXCJjb3Vyc2VJZFwiXTtcclxuICAgICAgICB0aGlzLnNob3J0TmFtZSA9IGRhdGFbXCJzaG9ydE5hbWVcIl07XHJcbiAgICAgICAgdGhpcy5mdWxsTmFtZSA9IGRhdGFbXCJmdWxsTmFtZVwiXTtcclxuXHJcbiAgICAgICAgdGhpcy5lbGVtID0gZWxlbTtcclxuXHJcbiAgICAgICAgdGhpcy5xdWV1ZVBpbGxzRWxlbSA9ICQoJzx1bCBjbGFzcz1cInF1ZXVlUGlsbHMgbmF2IG5hdi1waWxsc1wiPjwvdWw+Jyk7XHJcbiAgICAgICAgdGhpcy5lbGVtLmFwcGVuZCh0aGlzLnF1ZXVlUGlsbHNFbGVtKTtcclxuXHJcbiAgICAgICAgdGhpcy5waWNrQVF1ZXVlRWxlbSA9ICQoJzxkaXY+PC9kaXY+Jyk7XHJcbiAgICAgICAgdGhpcy5waWNrQVF1ZXVlRWxlbS5hcHBlbmQoJCgnPGgzPjxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1hcnJvdy11cFwiPjwvc3Bhbj4gU2V2ZXJhbCBxdWV1ZXMgYXJlIGF2YWlsYWJsZSBmb3IgJyArIHRoaXMuc2hvcnROYW1lICsgJy4gUGxlYXNlIHNlbGVjdCBvbmUuPC9oMz4nKSk7XHJcbiAgICAgICAgdGhpcy5lbGVtLmFwcGVuZCh0aGlzLnBpY2tBUXVldWVFbGVtKTtcclxuXHJcbiAgICAgICAgdGhpcy5tYWluRWxlbSA9ICQoJzxkaXY+PC9kaXY+Jyk7XHJcbiAgICAgICAgdGhpcy5tYWluRWxlbS5oaWRlKCk7XHJcblxyXG4gICAgICAgIHRoaXMucXVldWVQYW5lc0VsZW0gPSAkKCc8ZGl2IGNsYXNzPVwiY29sLXhzLTEyIGNvbC1tZC0xMiBxdWV1ZVBhbmVzIHRhYi1jb250ZW50XCI+PC9kaXY+Jyk7XHJcbiAgICAgICAgdGhpcy5tYWluRWxlbS5hcHBlbmQodGhpcy5xdWV1ZVBhbmVzRWxlbSk7XHJcblxyXG4gICAgICAgIHRoaXMuY29udGVudEVsZW0gPSAkKCc8ZGl2IGNsYXNzPVwiY29sLXhzLTEyIGNvbC1tZC0xMlwiPjwvZGl2PicpO1xyXG4gICAgICAgIHRoaXMubWFpbkVsZW0uYXBwZW5kKHRoaXMuY29udGVudEVsZW0pO1xyXG5cclxuICAgICAgICB0aGlzLmVsZW0uYXBwZW5kKHRoaXMubWFpbkVsZW0pO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWRDb250ZW50KCk7XHJcbiAgICAgICAgdGhpcy5sb2FkUXVldWVzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1ha2VBY3RpdmUoKSB7XHJcbiAgICAgICAgLy8gRG9uJ3QgbmVlZCB0byBkbyBhbnl0aGluZyBpbiBwYXJ0aWN1bGFyIGZvciB0aGUgY291cnNlIGl0c2VsZixcclxuICAgICAgICAvLyBidXQgd2UgZG8gbmVlZCB0byBtYWtlIHN1cmUgdGhlIGFjdGl2ZSBxdWV1ZSB3aXRoaW4gdGhpcyBjb3Vyc2VcclxuICAgICAgICAvLyBpcyB0aGUgYWN0aXZlIHF1ZXVlIG92ZXJhbGwgc2luY2UgaXQgd2lsbCBiZSBzaG93bi5cclxuICAgICAgICB0aGlzLmFjdGl2ZVF1ZXVlICYmIHRoaXMuYWN0aXZlUXVldWUubWFrZUFjdGl2ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbG9hZENvbnRlbnQoKSB7XHJcbiAgICAgICAgdGhpcy5jb250ZW50RWxlbS5sb2FkKFwicXVldWUtY29tcG9uZW50L2NvdXJzZUNvbnRlbnQvXCIgKyB0aGlzLmNvdXJzZUlkKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGxvYWRRdWV1ZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIHVybDogXCJhcGkvcXVldWVMaXN0L1wiICsgdGhpcy5jb3Vyc2VJZCxcclxuICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vblF1ZXVlc0xvYWQoZGF0YSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBvb3BzXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvblF1ZXVlc0xvYWQobGlzdCA6IGFueVtdKSB7XHJcbiAgICAgICAgdGhpcy5xdWV1ZXMuY2xlYXIoKTtcclxuICAgICAgICB0aGlzLnF1ZXVlUGlsbHNFbGVtLmVtcHR5KCk7XHJcbiAgICAgICAgdGhpcy5xdWV1ZVBhbmVzRWxlbS5lbXB0eSgpO1xyXG5cclxuICAgICAgICBsaXN0LmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgdmFyIG5hbWUgPSBpdGVtW1wibmFtZVwiXTtcclxuICAgICAgICAgICAgdmFyIHF1ZXVlSWQgPSBpdGVtW1wicXVldWVJZFwiXTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFkZCBwaWxscyBmb3IgZWFjaCBxdWV1ZSBiZWxvbmdpbmcgdG8gdGhpcyBjb3Vyc2VcclxuICAgICAgICAgICAgdmFyIHBpbGxFbGVtID0gJCgnPGxpPjxhIGRhdGEtdG9nZ2xlPVwicGlsbFwiPjxoNj4nICsgbmFtZSArICc8L2g2PjwvYT48L2xpPicpO1xyXG4gICAgICAgICAgICBwaWxsRWxlbS5maW5kKFwiYVwiKS5wcm9wKFwiaHJlZlwiLCBcIiNxdWV1ZVwiICsgcXVldWVJZCk7XHJcbiAgICAgICAgICAgIHRoaXMucXVldWVQaWxsc0VsZW0uYXBwZW5kKHBpbGxFbGVtKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFkZCBwYW5lcyB0byBob2xkIHRoZSBxdWV1ZVxyXG4gICAgICAgICAgICB2YXIgcXVldWVFbGVtID0gJCgnPGRpdiBpZD1cInF1ZXVlJyArIHF1ZXVlSWQgKyAnXCI+PC9kaXY+Jyk7XHJcbiAgICAgICAgICAgIHF1ZXVlRWxlbS5hZGRDbGFzcyhcInRhYi1wYW5lIGZhZGVcIik7XHJcbiAgICAgICAgICAgIHRoaXMucXVldWVQYW5lc0VsZW0uYXBwZW5kKHF1ZXVlRWxlbSk7XHJcblxyXG4gICAgICAgICAgICAvLyBDcmVhdGUgdGhlIHF1ZXVlIG9iamVjdHMgdGhlbXNlbHZlc1xyXG4gICAgICAgICAgICB2YXIgcXVldWUgPSBuZXcgUXVldWUoaXRlbSwgdGhpcywgcXVldWVFbGVtKTtcclxuICAgICAgICAgICAgdGhpcy5xdWV1ZXMucHVzaChxdWV1ZSk7XHJcblxyXG4gICAgICAgICAgICBxdWV1ZS5yZWZyZXNoKCk7XHJcblxyXG4gICAgICAgICAgICBwaWxsRWxlbS5maW5kKFwiYVwiKS5jbGljaygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBpY2tBUXVldWVFbGVtLmVtcHR5KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZVF1ZXVlID0gcXVldWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1haW5FbGVtLnNob3coKTtcclxuICAgICAgICAgICAgICAgIHF1ZXVlLm1ha2VBY3RpdmUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAvLyBJZiBvbmx5IG9uZSBxdWV1ZSwgc2VsZWN0IGl0IGF1dG9tYXRpY2FsbHlcclxuICAgICAgICAvLyAocGlsbEVsZW0gYW5kIHF1ZXVlRWxlbSBhcmUgc3RpbGwgaW4gc2NvcGUgZXZlbiBhZnRlciB0aGUgbG9vcCBib2R5KVxyXG4gICAgICAgIGlmICh0aGlzLnF1ZXVlcy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5xdWV1ZVBpbGxzRWxlbS5jaGlsZHJlbigpLmZpcnN0KCkuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgIHRoaXMucXVldWVQYW5lc0VsZW0uY2hpbGRyZW4oKS5maXJzdCgpLmFkZENsYXNzKFwiaW4gYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZVF1ZXVlID0gdGhpcy5xdWV1ZXNbMF07XHJcbiAgICAgICAgICAgIHRoaXMucGlja0FRdWV1ZUVsZW0uaGlkZSgpO1xyXG4gICAgICAgICAgICB0aGlzLm1haW5FbGVtLnNob3coKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgdGhpcy5waWNrQVF1ZXVlRWxlbS5zaG93KCk7XHJcbiAgICAgICAgICAgIHRoaXMubWFpbkVsZW0uaGlkZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zZXRBZG1pbihVc2VyLmlzQ291cnNlQWRtaW4odGhpcy5jb3Vyc2VJZCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRBZG1pbihpc0FkbWluIDogYm9vbGVhbil7XHJcbiAgICAgICAgdGhpcy5pc0FkbWluID0gaXNBZG1pbjtcclxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5xdWV1ZXMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgdGhpcy5xdWV1ZXNbaV0uc2V0QWRtaW4oaXNBZG1pbilcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNBZG1pbikge1xyXG4gICAgICAgICAgICB0aGlzLmVsZW0uYWRkQ2xhc3MoXCJhZG1pblwiKTtcclxuICAgICAgICAgICAgdGhpcy5lbGVtLnJlbW92ZUNsYXNzKFwibm90QWRtaW5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbS5hZGRDbGFzcyhcIm5vdEFkbWluXCIpO1xyXG4gICAgICAgICAgICB0aGlzLmVsZW0ucmVtb3ZlQ2xhc3MoXCJhZG1pblwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVzZXJTaWduZWRJbigpe1xyXG4gICAgICAgIHRoaXMuc2V0QWRtaW4oVXNlci5pc0NvdXJzZUFkbWluKHRoaXMuY291cnNlSWQpKTtcclxuICAgICAgICB0aGlzLnF1ZXVlcy5mb3JFYWNoKGZ1bmN0aW9uKHF1ZXVlKXtcclxuICAgICAgICAgICAgcXVldWUudXNlclNpZ25lZEluKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5jbGFzcyBBbm5vdW5jZW1lbnQge1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGlkIDogbnVtYmVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbnRlbnQgOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHMgOiBzdHJpbmc7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHF1ZXVlIDogUXVldWU7XHJcbiAgICBcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgZWxlbSA6IEpRdWVyeTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhOiB7W2luZGV4OnN0cmluZ106IGFueX0sIHF1ZXVlIDogUXVldWUsIGVsZW0gOiBKUXVlcnkpIHtcclxuICAgICAgICB0aGlzLmlkID0gZGF0YVtcImlkXCJdO1xyXG4gICAgICAgIHRoaXMuY29udGVudCA9IGRhdGFbXCJjb250ZW50XCJdO1xyXG4gICAgICAgIHRoaXMudHMgPSBkYXRhW1widHNcIl07XHJcbiAgICAgICAgdGhpcy5xdWV1ZSA9IHF1ZXVlO1xyXG4gICAgICAgIHRoaXMuZWxlbSA9IGVsZW07XHJcblxyXG4gICAgICAgIGxldCBwYW5lbEJvZHk6IEpRdWVyeTtcclxuICAgICAgICB0aGlzLmVsZW0uYWRkQ2xhc3MoXCJwYW5lbCBwYW5lbC1pbmZvXCIpLmFwcGVuZChcclxuICAgICAgICAgICAgcGFuZWxCb2R5ID0gJCgnPGRpdiBjbGFzcz1cInBhbmVsLWJvZHkgYmctaW5mb1wiPjwvZGl2PicpXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCc8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tYnVsbGhvcm5cIj48L3NwYW4+ICcpXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxzdHJvbmc+JyArIHRoaXMuY29udGVudCArICc8L3N0cm9uZz4nKSlcclxuICAgICAgICApO1xyXG4gICAgICAgICQoJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiY2xvc2VcIj4mdGltZXM7PC9idXR0b24+JylcclxuICAgICAgICAgICAgLmFwcGVuZFRvKHBhbmVsQm9keSlcclxuICAgICAgICAgICAgLmNsaWNrKChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBSZW1vdmUgdWdseSBjb25maXJtXHJcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlybShcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZW1vdmUgdGhpcyBhbm5vdW5jZW1lbnQ/XFxuXFxuXCIgKyB0aGlzLmNvbnRlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZSgpIHtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB0eXBlOiBcIkRFTEVURVwiLFxyXG4gICAgICAgICAgICB1cmw6IFwiYXBpL2Fubm91bmNlbWVudHMvXCIgKyB0aGlzLmlkLFxyXG4gICAgICAgICAgICBzdWNjZXNzIDogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5xdWV1ZS5yZWZyZXNoKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBvb3BzXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFF1ZXVlIHtcclxuICAgIHByaXZhdGUgc3RhdGljIF9uYW1lOiBcIlF1ZXVlXCI7XHJcbiAgICBcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKHRoaXMpO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBjb3Vyc2U6IENvdXJzZTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcXVldWVJZDogc3RyaW5nO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGxvY2F0aW9uOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBpc0FkbWluOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbnVtRW50cmllczogbnVtYmVyID0gMDtcclxuICAgIHB1YmxpYyByZWFkb25seSBsYXN0UmVmcmVzaDogRGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNPcGVuOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbXlSZXF1ZXN0OiBRdWV1ZUVudHJ5IHwgbnVsbCA9IG51bGw7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbWFwSW1hZ2VTcmM6IHN0cmluZyA9IFwiXCI7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBlbGVtOiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IG51bUVudHJpZXNFbGVtOiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGxhc3RSZWZyZXNoRWxlbTogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBzdGF0dXNNZXNzYWdlRWxlbTogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBhbm5vdW5jZW1lbnRDb250YWluZXJFbGVtOiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGFkbWluU3RhdHVzRWxlbTogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBhZG1pbkNvbnRyb2xzRWxlbTogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBzdHVkZW50Q29udHJvbHNFbGVtOiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHF1ZXVlRWxlbTogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBzdGFja0VsZW06IEpRdWVyeTtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGFkbWluQ29udHJvbHM6IEFkbWluQ29udHJvbHM7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHN0dWRlbnRDb250cm9sczogU3R1ZGVudENvbnRyb2xzO1xyXG4gICAgXHJcbiAgICBwcml2YXRlIHJlZnJlc2hEaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBjdXJyZW50UmVmcmVzaEluZGV4ID0gMDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhOiB7W2luZGV4OnN0cmluZ106IGFueX0sIGNvdXJzZTogQ291cnNlLCBlbGVtOiBKUXVlcnkpIHtcclxuXHJcbiAgICAgICAgdGhpcy5jb3Vyc2UgPSBjb3Vyc2U7XHJcblxyXG4gICAgICAgIHRoaXMucXVldWVJZCA9IGRhdGFbXCJxdWV1ZUlkXCJdO1xyXG4gICAgICAgIHRoaXMubG9jYXRpb24gPSBkYXRhW1wibG9jYXRpb25cIl07XHJcbiAgICAgICAgdGhpcy5tYXBJbWFnZVNyYyA9IGRhdGFbXCJtYXBcIl0gPyBkYXRhW1wibWFwXCJdIDogXCJcIjtcclxuICAgICAgICB0aGlzLm5hbWUgPSBkYXRhW1wibmFtZVwiXTtcclxuICAgICAgICB0aGlzLmVsZW0gPSBlbGVtO1xyXG5cclxuICAgICAgICB0aGlzLmlzQWRtaW4gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm51bUVudHJpZXMgPSAwO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFJlZnJlc2hJbmRleCA9IDA7XHJcbiAgICAgICAgdGhpcy5sYXN0UmVmcmVzaCA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnJlZnJlc2hEaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuYW5ub3VuY2VtZW50Q29udGFpbmVyRWxlbSA9ICQoJzxkaXY+PC9kaXY+JykuYXBwZW5kVG8odGhpcy5lbGVtKTtcclxuICAgICAgICBcclxuXHJcbiAgICAgICAgdmFyIHN0YXR1c0VsZW0gPSAkKCc8cD48L3A+JykuYXBwZW5kVG8odGhpcy5lbGVtKTtcclxuICAgICAgICBzdGF0dXNFbGVtLmFwcGVuZChcclxuICAgICAgICAgICAgJCgnPHNwYW4gZGF0YS10b2dnbGU9XCJ0b29sdGlwXCIgdGl0bGU9XCJOdW1iZXIgb2YgU3R1ZGVudHNcIj48c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tZWR1Y2F0aW9uXCI+PC9zcGFuPjwvc3Bhbj4nKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZChcIiBcIilcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQodGhpcy5udW1FbnRyaWVzRWxlbSA9ICQoJzxzcGFuPjwvc3Bhbj4nKSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHN0YXR1c0VsZW0uYXBwZW5kKCcmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsnKTtcclxuICAgICAgICBzdGF0dXNFbGVtLmFwcGVuZChcclxuICAgICAgICAgICAgJCgnPHNwYW4gZGF0YS10b2dnbGU9XCJ0b29sdGlwXCIgdGl0bGU9XCJMYXN0IFJlZnJlc2hcIj48c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tcmVmcmVzaFwiPjwvc3Bhbj48L3NwYW4+JylcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoXCIgXCIpXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKHRoaXMubGFzdFJlZnJlc2hFbGVtID0gJCgnPHNwYW4+PC9zcGFuPicpKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgc3RhdHVzRWxlbS5hcHBlbmQoJyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOycpO1xyXG5cclxuICAgICAgICB0aGlzLnN0YXR1c01lc3NhZ2VFbGVtID0gJCgnPHNwYW4+TG9hZGluZyBxdWV1ZSBpbmZvcm1hdGlvbi4uLjwvc3Bhbj4nKTtcclxuICAgICAgICBzdGF0dXNFbGVtLmFwcGVuZCh0aGlzLnN0YXR1c01lc3NhZ2VFbGVtKTtcclxuXHJcbiAgICAgICAgdGhpcy5hZG1pblN0YXR1c0VsZW0gPSAkKCc8c3BhbiBjbGFzcz1cImFkbWluT25seVwiPjxiPiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwO1lvdSBhcmUgYW4gYWRtaW4gZm9yIHRoaXMgcXVldWUuPC9iPjwvc3Bhbj4nKTtcclxuICAgICAgICBzdGF0dXNFbGVtLmFwcGVuZCh0aGlzLmFkbWluU3RhdHVzRWxlbSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRtaW5Db250cm9sc0VsZW0gPSAkKCc8ZGl2IGNsYXNzPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBhZG1pbk9ubHlcIj48ZGl2IGNsYXNzPVwicGFuZWwtYm9keVwiPjwvZGl2PjwvZGl2PicpXHJcbiAgICAgICAgICAgIC5hcHBlbmRUbyh0aGlzLmVsZW0pXHJcbiAgICAgICAgICAgIC5maW5kKFwiLnBhbmVsLWJvZHlcIik7XHJcblxyXG4gICAgICAgIHRoaXMuYWRtaW5Db250cm9scyA9IG5ldyBBZG1pbkNvbnRyb2xzKHRoaXMsIHRoaXMuYWRtaW5Db250cm9sc0VsZW0pO1xyXG4gICAgICAgIC8vIHRoaXMub2JzZXJ2YWJsZS5hZGRMaXN0ZW5lcih0aGlzLmFkbWluQ29udHJvbHMpOyAvLyBBZG1pbkNvbnRyb2xzIGN1cnJlbnRseSBub3QgYW4gT2JzZXJ2ZXJcclxuXHJcbiAgICAgICAgdGhpcy5zdHVkZW50Q29udHJvbHNFbGVtID0gJCgnPGRpdiBjbGFzcz1cInBhbmVsIHBhbmVsLWRlZmF1bHRcIj48ZGl2IGNsYXNzPVwicGFuZWwtYm9keVwiPjwvZGl2PjwvZGl2PicpXHJcbiAgICAgICAgICAgIC5hcHBlbmRUbyh0aGlzLmVsZW0pXHJcbiAgICAgICAgICAgIC5maW5kKFwiLnBhbmVsLWJvZHlcIik7XHJcblxyXG4gICAgICAgIHRoaXMuc3R1ZGVudENvbnRyb2xzID0gbmV3IFN0dWRlbnRDb250cm9scyh0aGlzLCB0aGlzLnN0dWRlbnRDb250cm9sc0VsZW0pO1xyXG4gICAgICAgIHRoaXMub2JzZXJ2YWJsZS5hZGRMaXN0ZW5lcih0aGlzLnN0dWRlbnRDb250cm9scyk7XHJcblxyXG4gICAgICAgIC8vIFRPRE86IGlzIHRoaXMgb2xkP1xyXG4gICAgICAgIC8vIGlmICh0aGlzLmhhc01hcCgpKSB7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuYWRtaW5Db250cm9sc0VsZW0uYXBwZW5kKCc8cCBjbGFzcz1cImFkbWluT25seVwiPkNsaWNrIHRoZSBcIkxvY2F0ZVwiIGJ1dHRvbiBvbiBhIHN0dWRlbnRcXCdzIHJlcXVlc3QgdG8gdXBkYXRlIHRoZSBtYXAuPC9wPicpO1xyXG4gICAgICAgIC8vICAgICB2YXIgbWFwSG9sZGVyID0gJCgnPGRpdiBzdHlsZT1cInBvc2l0aW9uOiByZWxhdGl2ZTsgbWFyZ2luLXRvcDogMTBweDtcIj48L2Rpdj4nKTtcclxuICAgICAgICAvLyAgICAgdGhpcy5tYXBFbGVtID0gJCgnPGltZyBjbGFzcz1cImFkbWluT25seSBxdWV1ZS1zdGFmZk1hcFwiIHNyYz1cImltZy8nICsgdGhpcy5tYXBJbWFnZVNyYyArICdcIj48L2ltZz4nKTtcclxuICAgICAgICAvLyAgICAgbWFwSG9sZGVyLmFwcGVuZCh0aGlzLm1hcEVsZW0pO1xyXG4gICAgICAgIC8vICAgICB0aGlzLm1hcFBpbiA9ICQoJzxzcGFuIGNsYXNzPVwiYWRtaW5Pbmx5IHF1ZXVlLWxvY2F0ZVBpblwiPjxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1tYXAtbWFya2VyXCIgc3R5bGU9XCJwb3NpdGlvbjphYnNvbHV0ZTsgbGVmdDotMS4zY2g7dG9wOi0wLjk1ZW07XCI+PC9zcGFuPjwvc3Bhbj4nKTtcclxuICAgICAgICAvLyAgICAgbWFwSG9sZGVyLmFwcGVuZCh0aGlzLm1hcFBpbik7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuYWRtaW5Db250cm9sc0VsZW0uYXBwZW5kKG1hcEhvbGRlcik7XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICB0aGlzLnF1ZXVlRWxlbSA9ICQoJzxkaXY+PC9kaXY+JykuYXBwZW5kVG8odGhpcy5lbGVtKTtcclxuXHQgICAgdGhpcy5zdGFja0VsZW0gPSAkKCc8ZGl2IGNsYXNzPVwiYWRtaW5Pbmx5XCI+PC9kaXY+JykuYXBwZW5kVG8odGhpcy5lbGVtKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbGVtLmZpbmQoJ1tkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIl0nKS50b29sdGlwKCk7XHJcblxyXG4gICAgICAgIHRoaXMudXNlclNpZ25lZEluKCk7IC8vIFRPRE8gY2hhbmdlIG5hbWUgdG8gdXBkYXRlVXNlcj9cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbWFrZUFjdGl2ZU9uQ2xpY2soZWxlbSA6IEpRdWVyeSkge1xyXG4gICAgICAgIGVsZW0uY2xpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLm1ha2VBY3RpdmUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbWFrZUFjdGl2ZSgpIHtcclxuICAgICAgICBRdWV1ZUFwcGxpY2F0aW9uLmluc3RhbmNlLnNldEFjdGl2ZVF1ZXVlKHRoaXMpO1xyXG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWZyZXNoKCkge1xyXG5cclxuICAgICAgICAvLyBteVJlZnJlc2hJbmRleCBpcyBjYXB0dXJlZCBpbiBhIGNsb3N1cmUgd2l0aCB0aGUgY2FsbGJhY2suXHJcbiAgICAgICAgLy8gaWYgcmVmcmVzaCBoYWQgYmVlbiBjYWxsZWQgYWdhaW4sIHRoZSBpbmRleCB3b24ndCBtYXRjaCBhbmRcclxuICAgICAgICAvLyB3ZSBkb24ndCBkbyBhbnl0aGluZy4gdGhpcyBwcmV2ZW50cyB0aGUgc2l0dWF0aW9uIHdoZXJlIHNvbWVvbmVcclxuICAgICAgICAvLyBzaWducyB1cCBidXQgdGhlbiBhIHBlbmRpbmcgcmVxdWVzdCBmcm9tIGJlZm9yZSB0aGV5IGRpZCBzbyBmaW5pc2hlc1xyXG4gICAgICAgIC8vIGFuZCBjYXVzZXMgaXQgdG8gbG9vayBsaWtlIHRoZXkgd2VyZSBpbW1lZGlhdGVseSByZW1vdmVkLiB0aGlzIGFsc29cclxuICAgICAgICAvLyBmaXhlcyBhIHNpbWlsYXIgcHJvYmxlbSB3aGVuIGFuIGFkbWluIHJlbW92ZXMgc29tZW9uZSBidXQgdGhlbiBhXHJcbiAgICAgICAgLy8gcGVuZGluZyByZWZyZXNoIG1ha2VzIHRoZW0gcG9wIGJhY2sgdXAgdGVtcG9yYXJpbHkuXHJcbiAgICAgICAgdGhpcy5jdXJyZW50UmVmcmVzaEluZGV4ICs9IDE7XHJcbiAgICAgICAgdmFyIG15UmVmcmVzaEluZGV4ID0gdGhpcy5jdXJyZW50UmVmcmVzaEluZGV4O1xyXG5cclxuICAgICAgICByZXR1cm4gJC5hamF4KHtcclxuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIHVybDogXCJhcGkvbGlzdFwiLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBxdWV1ZUlkOiB0aGlzLnF1ZXVlSWRcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gaWYgYW5vdGhlciByZWZyZXNoIGhhcyBiZWVuIHJlcXVlc3RlZCwgaWdub3JlIHRoZSByZXN1bHRzIG9mIHRoaXMgb25lXHJcbiAgICAgICAgICAgICAgICBpZiAobXlSZWZyZXNoSW5kZXggPT09IHRoaXMuY3VycmVudFJlZnJlc2hJbmRleCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoUmVzcG9uc2UoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBvb3BzXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlZnJlc2hSZXNwb25zZShkYXRhIDoge1tpbmRleDogc3RyaW5nXTogYW55fSkge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5yZWZyZXNoRGlzYWJsZWQpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE1lc3NhZ2UgZm9yIGluZGl2aWR1YWwgdXNlclxyXG4gICAgICAgIGlmIChkYXRhW1wibWVzc2FnZVwiXSkge1xyXG4gICAgICAgICAgICBRdWV1ZUFwcGxpY2F0aW9uLmluc3RhbmNlLm1lc3NhZ2UoZGF0YVtcIm1lc3NhZ2VcIl0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQW5ub3VuY2VtZW50IGZvciB0aGlzIHF1ZXVlIGFzIGEgd2hvbGVcclxuICAgICAgICB0aGlzLmFubm91bmNlbWVudENvbnRhaW5lckVsZW0uZW1wdHkoKTtcclxuICAgICAgICBsZXQgYW5ub3VuY2VtZW50c0RhdGEgPSA8YW55W10+ZGF0YVtcImFubm91bmNlbWVudHNcIl07XHJcbiAgICAgICAgYW5ub3VuY2VtZW50c0RhdGEuZm9yRWFjaCgoYURhdGE6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgYW5ub3VuY2VtZW50RWxlbSA9ICQoXCI8ZGl2PjwvZGl2PlwiKS5hcHBlbmRUbyh0aGlzLmFubm91bmNlbWVudENvbnRhaW5lckVsZW0pO1xyXG4gICAgICAgICAgICBuZXcgQW5ub3VuY2VtZW50KGFEYXRhLCB0aGlzLCBhbm5vdW5jZW1lbnRFbGVtKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIGlmIChhbm5vdW5jZW1lbnRzRGF0YS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5ub3VuY2VtZW50Q29udGFpbmVyRWxlbS5zaG93KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmFubm91bmNlbWVudENvbnRhaW5lckVsZW0uaGlkZSgpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICg8Ym9vbGVhbj50aGlzLmlzT3BlbikgPSBkYXRhW1wiaXNPcGVuXCJdO1xyXG4gICAgICAgIGlmICh0aGlzLmlzT3Blbikge1xyXG4gICAgICAgICAgICB0aGlzLnN0YXR1c01lc3NhZ2VFbGVtLmh0bWwoXCJUaGUgcXVldWUgaXMgb3Blbi5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgc2NoZWR1bGUgPSBkYXRhW1wic2NoZWR1bGVcIl07XHJcbiAgICAgICAgICAgIGxldCBoYWxmSG91ciA9IGRhdGFbXCJoYWxmSG91clwiXTtcclxuICAgICAgICAgICAgbGV0IG5leHRPcGVuID0gLTE7XHJcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IGhhbGZIb3VyOyBpIDwgNDg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHNjaGVkdWxlVHlwZSA9IHNjaGVkdWxlLmNoYXJBdChpKTtcclxuICAgICAgICAgICAgICAgIGlmIChzY2hlZHVsZVR5cGUgPT09IFwib1wiIHx8IHNjaGVkdWxlVHlwZSA9PT0gXCJwXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0T3BlbiA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChuZXh0T3BlbiA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzTWVzc2FnZUVsZW0uaHRtbChcIlRoZSBxdWV1ZSBpcyBjbG9zZWQgZm9yIHRvZGF5LlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxldCBkID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgICAgIGQuc2V0SG91cnMoMCk7XHJcbiAgICAgICAgICAgICAgICBkLnNldE1pbnV0ZXMoMCk7XHJcbiAgICAgICAgICAgICAgICBkLnNldFNlY29uZHMoMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IG5ld0RhdGUgPSBuZXcgRGF0ZShkLmdldFRpbWUoKSArIG5leHRPcGVuKjMwKjYwMDAwKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzTWVzc2FnZUVsZW0uaHRtbChcIlRoZSBxdWV1ZSBpcyBjbG9zZWQgcmlnaHQgbm93LiBJdCB3aWxsIG9wZW4gYXQgXCIgKyBuZXdEYXRlLnRvTG9jYWxlVGltZVN0cmluZygpICsgXCIuXCIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBsZXQgcXVldWUgPSBkYXRhW1wicXVldWVcIl07XHJcbiAgICAgICAgdGhpcy5xdWV1ZUVsZW0uZW1wdHkoKTtcclxuICAgICAgICBsZXQgcXVldWVFbnRyaWVzID0gW107XHJcbiAgICAgICAgbGV0IG15UmVxdWVzdCA6IChRdWV1ZUVudHJ5IHwgbnVsbCkgPSBudWxsO1xyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICBsZXQgaXRlbSA9IHF1ZXVlW2ldO1xyXG5cclxuICAgICAgICAgICAgbGV0IGl0ZW1FbGVtID0gJChcIjxsaSBjbGFzcz0nbGlzdC1ncm91cC1pdGVtJz48L2xpPlwiKTtcclxuICAgICAgICAgICAgbGV0IGVudHJ5ID0gbmV3IFF1ZXVlRW50cnkodGhpcywgaXRlbSwgaSwgaXRlbUVsZW0pO1xyXG4gICAgICAgICAgICBxdWV1ZUVudHJpZXMucHVzaChlbnRyeSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIW15UmVxdWVzdCAmJiBVc2VyLmlzTWUoZW50cnkuZW1haWwpKSB7XHJcbiAgICAgICAgICAgICAgICBteVJlcXVlc3QgPSBlbnRyeTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5xdWV1ZUVsZW0uYXBwZW5kKGl0ZW1FbGVtKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0TXlSZXF1ZXN0KG15UmVxdWVzdCk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLm9ic2VydmFibGUuc2VuZChcInF1ZXVlUmVmcmVzaGVkXCIpO1xyXG5cclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShkYXRhW1wic3RhY2tcIl0sIG51bGwsIDQpKTtcclxuICAgICAgICB0aGlzLnN0YWNrRWxlbS5odG1sKFwiPGgzPlRoZSBTdGFjazwvaDM+PGJyIC8+PHA+TW9zdCByZWNlbnRseSByZW1vdmVkIGF0IHRvcDwvcD48cHJlPlwiICsgSlNPTi5zdHJpbmdpZnkoZGF0YVtcInN0YWNrXCJdLCBudWxsLCA0KSArIFwiPC9wcmU+XCIpO1xyXG5cclxuXHJcbiAgICAgICAgdmFyIG9sZE51bUVudHJpZXMgPSB0aGlzLm51bUVudHJpZXM7XHJcbiAgICAgICAgKDxudW1iZXI+dGhpcy5udW1FbnRyaWVzKSA9IHF1ZXVlLmxlbmd0aDtcclxuICAgICAgICBpZih0aGlzLmlzQWRtaW4gJiYgb2xkTnVtRW50cmllcyA9PT0gMCAmJiB0aGlzLm51bUVudHJpZXMgPiAwKSB7XHJcbiAgICAgICAgICBRdWV1ZUFwcGxpY2F0aW9uLmluc3RhbmNlLm5vdGlmeShcIlJlcXVlc3QgUmVjZWl2ZWQhXCIsIHF1ZXVlRW50cmllc1swXS5uYW1lKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICg8RGF0ZT50aGlzLmxhc3RSZWZyZXNoKSA9IG5ldyBEYXRlKCk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLm51bUVudHJpZXNFbGVtLmh0bWwoXCJcIit0aGlzLm51bUVudHJpZXMpO1xyXG4gICAgICAgIHRoaXMubGFzdFJlZnJlc2hFbGVtLmh0bWwodGhpcy5sYXN0UmVmcmVzaC50b0xvY2FsZVRpbWVTdHJpbmcoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldE15UmVxdWVzdChteVJlcXVlc3Q6IFF1ZXVlRW50cnkgfCBudWxsKSB7XHJcbiAgICAgICAgKDxRdWV1ZUVudHJ5IHwgbnVsbD50aGlzLm15UmVxdWVzdCkgPSBteVJlcXVlc3Q7XHJcbiAgICAgICAgdGhpcy5vYnNlcnZhYmxlLnNlbmQoXCJteVJlcXVlc3RTZXRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZVJlcXVlc3QocmVxdWVzdDogUXVldWVFbnRyeSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiYXR0ZW1wdGluZyB0byByZW1vdmUgXCIgKyByZXF1ZXN0LmVtYWlsICsgXCIgZnJvbSBxdWV1ZSBcIiArIHRoaXMucXVldWVJZCk7XHJcbiAgICAgICAgdGhpcy5kaXNhYmxlUmVmcmVzaCgpO1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgdXJsOiBcImFwaS9yZW1vdmVcIixcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QuaWRcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3VjY2VzcyA6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJzdWNjZXNzZnVsbHkgcmVtb3ZlZCBcIiArIHJlcXVlc3QuZW1haWwgKyBcIiBmcm9tIHF1ZXVlIFwiICsgc2VsZi5xdWV1ZUlkKTtcclxuICAgICAgICAgICAgICAgIHJlcXVlc3Qub25SZW1vdmUoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IG9vcHNcclxuICAgICAgICB9KS5hbHdheXMoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgc2VsZi5lbmFibGVSZWZyZXNoKCk7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnJlZnJlc2goKTtcclxuICAgICAgICAgICAgfSwgQU5JTUFUSU9OX0RFTEFZKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjYW5jZWxJbmNvbWluZ1JlZnJlc2goKSB7XHJcbiAgICAgIHRoaXMuY3VycmVudFJlZnJlc2hJbmRleCArPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkaXNhYmxlUmVmcmVzaCgpIHtcclxuICAgICAgdGhpcy5yZWZyZXNoRGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBlbmFibGVSZWZyZXNoKCkge1xyXG4gICAgICB0aGlzLnJlZnJlc2hEaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjbGVhcigpIHtcclxuICAgICAgICByZXR1cm4gJC5hamF4KHtcclxuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIHVybDogXCJhcGkvY2xlYXJcIixcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgaWR0b2tlbjogVXNlci5pZFRva2VuKCksXHJcbiAgICAgICAgICAgICAgICBxdWV1ZUlkOiB0aGlzLnF1ZXVlSWRcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3VjY2VzczogKCkgPT4geyB0aGlzLmNsZWFyTGlzdCgpIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBvb3BzXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjbGVhckxpc3QoKSB7XHJcbiAgICAgICAgdGhpcy5xdWV1ZUVsZW0uY2hpbGRyZW4oKS5zbGlkZVVwKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNpZ25VcChuYW1lOiBzdHJpbmcsIGxvY2F0aW9uOiBzdHJpbmcsIGRlc2NyaXB0aW9uOiBzdHJpbmcsIG1hcFg/OiBudW1iZXIsIG1hcFk/OiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gJC5hamF4KHtcclxuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIHVybDogXCJhcGkvc2lnblVwXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIGlkdG9rZW46IFVzZXIuaWRUb2tlbigpLFxyXG4gICAgICAgICAgICAgICAgcXVldWVJZDogdGhpcy5xdWV1ZUlkLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcclxuICAgICAgICAgICAgICAgIG1hcFg6IG1hcFgsXHJcbiAgICAgICAgICAgICAgICBtYXBZOiBtYXBZLFxyXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgc3VjY2VzczogKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhW1wiZmFpbFwiXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNob3dFcnJvck1lc3NhZ2UoZGF0YVtcInJlYXNvblwiXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IG9vcHNcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlUmVxdWVzdChuYW1lOiBzdHJpbmcsIGxvY2F0aW9uOiBzdHJpbmcsIGRlc2NyaXB0aW9uOiBzdHJpbmcsIG1hcFg/OiBudW1iZXIsIG1hcFk/OiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gJC5hamF4KHtcclxuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIHVybDogXCJhcGkvdXBkYXRlUmVxdWVzdFwiLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5teVJlcXVlc3QhLmlkLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcclxuICAgICAgICAgICAgICAgIG1hcFg6IG1hcFgsXHJcbiAgICAgICAgICAgICAgICBtYXBZOiBtYXBZLFxyXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgc3VjY2VzczogKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhW1wiZmFpbFwiXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNob3dFcnJvck1lc3NhZ2UoZGF0YVtcInJlYXNvblwiXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IG9vcHNcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0QWRtaW4oaXNBZG1pbjogYm9vbGVhbikge1xyXG4gICAgICAgIHZhciBvbGRBZG1pbiA9IHRoaXMuaXNBZG1pbjtcclxuICAgICAgICAoPGJvb2xlYW4+dGhpcy5pc0FkbWluKSA9IGlzQWRtaW47XHJcblxyXG4gICAgICAgIC8vIElmIG91ciBwcml2aWxlZ2VzIGNoYW5nZSwgaGl0IHRoZSBzZXJ2ZXIgZm9yIGFwcHJvcHJpYXRlIGRhdGEsXHJcbiAgICAgICAgLy8gYmVjYXVzZSBpdCBnaXZlcyBvdXQgZGlmZmVyZW50IHRoaW5ncyBmb3Igbm9ybWFsIHZzLiBhZG1pblxyXG4gICAgICAgIGlmIChvbGRBZG1pbiAhPSB0aGlzLmlzQWRtaW4pIHtcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdXNlclNpZ25lZEluKCkge1xyXG4gICAgICAgIHRoaXMub2JzZXJ2YWJsZS5zZW5kKFwidXNlclNpZ25lZEluXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBoYXNNYXAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwSW1hZ2VTcmMgIT09IFwiXCI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUdyb3Vwcyhmb3JtRGF0YTogRm9ybURhdGEpIHtcclxuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoXCJxdWV1ZUlkXCIsIHRoaXMucXVldWVJZCk7XHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIHVybDogXCJhcGkvdXBkYXRlR3JvdXBzXCIsXHJcbiAgICAgICAgICAgIGNhY2hlOiBmYWxzZSxcclxuICAgICAgICAgICAgY29udGVudFR5cGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBwcm9jZXNzRGF0YTogZmFsc2UsXHJcbiAgICAgICAgICAgIGRhdGE6IGZvcm1EYXRhLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGFbJ3N1Y2Nlc3MnXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiZ3JvdXBzIHVwbG9hZGVkIHN1Y2Nlc3NmdWxseVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiZXJyb3IgdXBsb2FkaW5nIGdyb3Vwcy4gcm9zdGVyIGFuZCBncm91cHMgaGF2ZSBiZWVuIGNsZWFyZWQgLSB5b3UnbGwgaGF2ZSB0byB1cGxvYWQgdGhlbSBhZ2Fpbiwgc29ycnkhXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gICAgIC8vIGlmIGFub3RoZXIgcmVmcmVzaCBoYXMgYmVlbiByZXF1ZXN0ZWQsIGlnbm9yZSB0aGUgcmVzdWx0cyBvZiB0aGlzIG9uZVxyXG4gICAgICAgICAgICAgICAgLy8gICAgIGlmIChteVJlZnJlc2hJbmRleCA9PT0gc2VsZi5jdXJyZW50UmVmcmVzaEluZGV4KXtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgc2VsZi5yZWZyZXNoUmVzcG9uc2UoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgICBhbGVydChcImVycm9yIHVwbG9hZGluZyBncm91cHNcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUNvbmZpZ3VyYXRpb24ob3B0aW9uczoge1tpbmRleDogc3RyaW5nXTogc3RyaW5nO30pIHtcclxuICAgICAgICBvcHRpb25zLnF1ZXVlSWQgPSB0aGlzLnF1ZXVlSWQ7XHJcbiAgICAgICAgcmV0dXJuICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICB1cmw6IFwiYXBpL3VwZGF0ZVF1ZXVlQ29uZmlndXJhdGlvblwiLFxyXG4gICAgICAgICAgICBkYXRhOiBvcHRpb25zLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVtcImZhaWxcIl0pIHtcclxuICAgICAgICAgICAgICAgICAgICBzaG93RXJyb3JNZXNzYWdlKGRhdGFbXCJyZWFzb25cIl0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogb29wc1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRBbm5vdW5jZW1lbnQoY29udGVudDogc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICB1cmw6IFwiYXBpL2Fubm91bmNlbWVudHNcIixcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgcXVldWVJZDogdGhpcy5xdWV1ZUlkLFxyXG4gICAgICAgICAgICAgICAgY29udGVudDogY29udGVudFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdWNjZXNzOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IG9vcHNcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgU3R1ZGVudENvbnRyb2xzIHtcclxuICAgIHByaXZhdGUgc3RhdGljIF9uYW1lID0gXCJTdHVkZW50Q29udHJvbHNcIjtcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBVUERBVEVfUkVRVUVTVF9CVVRUT05fVVBfVE9fREFURSA9IFwiPHNwYW4gY2xhc3M9J2dseXBoaWNvbiBnbHlwaGljb24tb2snPjwvc3Bhbj4gUmVxdWVzdCBVcGRhdGVkXCI7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBVUERBVEVfUkVRVUVTVF9CVVRUT05fVVBEQVRFID0gXCJVcGRhdGUgUmVxdWVzdFwiO1xyXG5cclxuICAgIHByaXZhdGUgcXVldWU6IFF1ZXVlO1xyXG5cclxuICAgIHByaXZhdGUgZm9ybUhhc0NoYW5nZXM6IGJvb2xlYW47XHJcblxyXG4gICAgcHJpdmF0ZSBlbGVtOiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIHN0YXR1c0VsZW06IEpRdWVyeTtcclxuICAgIHByaXZhdGUgc2lnblVwRm9ybTogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSBzaWduVXBOYW1lSW5wdXQ6IEpRdWVyeTtcclxuICAgIHByaXZhdGUgc2lnblVwRGVzY3JpcHRpb25JbnB1dDogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSBzaWduVXBMb2NhdGlvbklucHV0OiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIG1hcEhvbGRlcj86IEpRdWVyeTtcclxuICAgIHByaXZhdGUgc2lnblVwTWFwPzogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSBzaWduVXBQaW4/OiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIG1hcFg/OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIG1hcFk/OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHNpZ25VcEJ1dHRvbnM6IEpRdWVyeTtcclxuICAgIHByaXZhdGUgdXBkYXRlUmVxdWVzdEJ1dHRvbnM6IEpRdWVyeTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgX2FjdCEgOiBNZXNzYWdlUmVzcG9uc2VzO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHF1ZXVlOiBRdWV1ZSwgZWxlbTogSlF1ZXJ5KSB7XHJcbiAgICAgICAgdGhpcy5xdWV1ZSA9IHF1ZXVlO1xyXG4gICAgICAgIHRoaXMuZWxlbSA9IGVsZW07XHJcblxyXG4gICAgICAgIHRoaXMuZm9ybUhhc0NoYW5nZXMgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgbGV0IGNvbnRhaW5lckVsZW0gPSAkKCc8ZGl2PjwvZGl2PicpO1xyXG5cclxuICAgICAgICBsZXQgcmVndWxhckZvcm1FbGVtO1xyXG4gICAgICAgIHRoaXMuc2lnblVwRm9ybSA9ICQoJzxmb3JtIGlkPVwic2lnblVwRm9ybVwiIHJvbGU9XCJmb3JtXCIgY2xhc3M9XCJmb3JtLWhvcml6b250YWxcIj48L2Zvcm0+JylcclxuICAgICAgICAgICAgLmFwcGVuZChyZWd1bGFyRm9ybUVsZW0gPSAkKCc8ZGl2PjwvZGl2PicpXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+PC9kaXY+JylcclxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCc8bGFiZWwgY2xhc3M9XCJjb250cm9sLWxhYmVsIGNvbC1zbS0zXCIgZm9yPVwic2lnblVwTmFtZScgKyBxdWV1ZS5xdWV1ZUlkICsgJ1wiPk5hbWU6PC9sYWJlbD4nKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGRpdiBjbGFzcz1cImNvbC1zbS05XCI+PC9kaXY+JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCh0aGlzLnNpZ25VcE5hbWVJbnB1dCA9ICQoJzxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgaWQ9XCJzaWduVXBOYW1lJyArIHF1ZXVlLnF1ZXVlSWQgKyAnXCIgcmVxdWlyZWQ9XCJyZXF1aXJlZFwiIG1heGxlbmd0aD1cIjMwXCIgcGxhY2Vob2xkZXI9XCJOaWNlIHRvIG1lZXQgeW91IVwiPicpKVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj48L2Rpdj4nKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJzxsYWJlbCBjbGFzcz1cImNvbnRyb2wtbGFiZWwgY29sLXNtLTNcIiBmb3I9XCJzaWduVXBEZXNjcmlwdGlvbicgKyBxdWV1ZS5xdWV1ZUlkICsgJ1wiPkRlc2NyaXB0aW9uOjwvbGFiZWw+JylcclxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxkaXYgY2xhc3M9XCJjb2wtc20tOVwiPjwvZGl2PicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQodGhpcy5zaWduVXBEZXNjcmlwdGlvbklucHV0ID0gJCgnPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBpZD1cInNpZ25VcERlc2NyaXB0aW9uJyArIHF1ZXVlLnF1ZXVlSWQgKyAnXCJyZXF1aXJlZD1cInJlcXVpcmVkXCIgbWF4bGVuZ3RoPVwiMTAwXCIgcGxhY2Vob2xkZXI9XCJlLmcuIFNlZ2ZhdWx0IGluIGZ1bmN0aW9uIFgsIHVzaW5nIHRoZSBtYXAgZGF0YSBzdHJ1Y3R1cmUsIGV0Yy5cIj4nKSlcclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+PC9kaXY+JylcclxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCc8bGFiZWwgY2xhc3M9XCJjb250cm9sLWxhYmVsIGNvbC1zbS0zXCIgZm9yPVwic2lnblVwTG9jYXRpb24nICsgcXVldWUucXVldWVJZCArICdcIj5Mb2NhdGlvbjo8L2xhYmVsPicpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8ZGl2IGNsYXNzPVwiY29sLXNtLTlcIj48L2Rpdj4nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKHRoaXMuc2lnblVwTG9jYXRpb25JbnB1dCA9ICQoJzxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgaWQ9XCJzaWduVXBMb2NhdGlvbicgKyBxdWV1ZS5xdWV1ZUlkICsgJ1wicmVxdWlyZWQ9XCJyZXF1aXJlZFwiIG1heGxlbmd0aD1cIjMwXCIgcGxhY2Vob2xkZXI9XCJlLmcuIENvbXB1dGVyICMzNiwgbGFwdG9wIGJ5IGdsYXNzL2F0cml1bSBkb29yLCBldGMuXCI+JykpXHJcbiAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZCgnPGRpdiBjbGFzcz1cImhpZGRlbi14cyBmb3JtLWdyb3VwXCI+PGRpdiBjbGFzcz1cImNvbC1zbS1vZmZzZXQtMyBjb2wtc20tOVwiPjxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzPVwiYnRuIGJ0bi1zdWNjZXNzIHF1ZXVlLXNpZ25VcEJ1dHRvblwiPlNpZ24gVXA8L2J1dHRvbj4gPGJ1dHRvbiB0eXBlPVwic3VibWl0XCIgY2xhc3M9XCJidG4gYnRuLXN1Y2Nlc3MgcXVldWUtdXBkYXRlUmVxdWVzdEJ1dHRvblwiIHN0eWxlPVwiZGlzcGxheTpub25lO1wiPjwvYnV0dG9uPjwvZGl2PjwvZGl2PicpXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgIGNvbnRhaW5lckVsZW0uYXBwZW5kKHRoaXMuc2lnblVwRm9ybSk7XHJcblxyXG5cdHRoaXMuc3RhdHVzRWxlbSA9ICQoXCI8ZGl2PjwvZGl2PlwiKTtcclxuXHRjb250YWluZXJFbGVtLmFwcGVuZCh0aGlzLnN0YXR1c0VsZW0pO1xyXG5cclxuICAgICAgICB0aGlzLnNpZ25VcEZvcm0uZmluZChcImlucHV0XCIpLm9uKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmZvcm1DaGFuZ2VkKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICBpZiAodGhpcy5xdWV1ZS5oYXNNYXAoKSkge1xyXG4gICAgICAgICAgICByZWd1bGFyRm9ybUVsZW0uYWRkQ2xhc3MoXCJjb2wteHMtMTIgY29sLXNtLThcIik7XHJcbiAgICAgICAgICAgIHJlZ3VsYXJGb3JtRWxlbS5jc3MoXCJwYWRkaW5nXCIsIFwiMFwiKTtcclxuICAgICAgICAgICAgdGhpcy5zaWduVXBGb3JtLmFwcGVuZCh0aGlzLm1hcEhvbGRlciA9ICQoJzxkaXYgY2xhc3M9XCJjb2wteHMtMTIgY29sLXNtLTRcIiBzdHlsZT1cInBvc2l0aW9uOiByZWxhdGl2ZTsgcGFkZGluZzowXCI+PC9kaXY+JylcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQodGhpcy5zaWduVXBNYXAgPSAkKCc8aW1nIHNyYz1cImltZy8nICsgdGhpcy5xdWV1ZS5tYXBJbWFnZVNyYyArICdcIiBjbGFzcz1cInF1ZXVlLXNpZ25VcE1hcFwiIHN0eWxlPVwid2lkdGg6MTAwJVwiPjwvaW1nPicpKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZCh0aGlzLnNpZ25VcFBpbiA9ICQoJzxzcGFuIGNsYXNzPVwicXVldWUtbG9jYXRlUGluXCI+PHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLW1hcC1tYXJrZXJcIiBzdHlsZT1cInBvc2l0aW9uOmFic29sdXRlOyBsZWZ0Oi0xLjNjaDt0b3A6LTAuOTVlbTtcIj48L3NwYW4+PC9zcGFuPicpKVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgLy8gQWRkIGRpZmZlcmVudCBsYXlvdXQgZm9yIHNpZ24gdXAgYnV0dG9uIG9uIHNtYWxsIHNjcmVlbnNcclxuICAgICAgICAgICAgdGhpcy5zaWduVXBGb3JtLmFwcGVuZCgkKCc8ZGl2IGNsYXNzPVwidmlzaWJsZS14cyBjb2wteHMtMTJcIiBzdHlsZT1cInBhZGRpbmc6IDA7XCI+PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj48ZGl2IGNsYXNzPVwiY29sLXNtLW9mZnNldC0zIGNvbC1zbS05XCI+PGJ1dHRvbiB0eXBlPVwic3VibWl0XCIgY2xhc3M9XCJidG4gYnRuLXN1Y2Nlc3MgcXVldWUtc2lnblVwQnV0dG9uXCI+U2lnbiBVcDwvYnV0dG9uPiA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBjbGFzcz1cImJ0biBidG4tc3VjY2VzcyBxdWV1ZS11cGRhdGVSZXF1ZXN0QnV0dG9uXCIgc3R5bGU9XCJkaXNwbGF5Om5vbmU7XCI+PC9idXR0b24+PC9kaXY+PC9kaXY+PC9kaXY+JykpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHBpbiA9IHRoaXMuc2lnblVwUGluO1xyXG4gICAgICAgICAgICB0aGlzLm1hcFggPSA1MDtcclxuICAgICAgICAgICAgdGhpcy5tYXBZID0gNTA7XHJcbiAgICAgICAgICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgdGhpcy5zaWduVXBNYXAuY2xpY2soZnVuY3Rpb24gKGUpIHsgLy9PZmZzZXQgbW91c2UgUG9zaXRpb25cclxuICAgICAgICAgICAgICAgIC8vIFVzZSAhIGZvciBub24tbnVsbCBhc3NlcnRpb25cclxuICAgICAgICAgICAgICAgIHNlbGYubWFwWCA9IDEwMCAqIE1hdGgudHJ1bmMoKGUucGFnZVggLSAkKHRoaXMpLm9mZnNldCgpIS5sZWZ0KSkgLyAkKHRoaXMpLndpZHRoKCkhO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5tYXBZID0gMTAwICogTWF0aC50cnVuYyhlLnBhZ2VZIC0gJCh0aGlzKS5vZmZzZXQoKSEudG9wKSAvICQodGhpcykuaGVpZ2h0KCkhO1xyXG4gICAgICAgICAgICAgICAgLy8gdmFyIHBpbkxlZnQgPSBtYXBYIC0gcGluLndpZHRoKCkvMjtcclxuICAgICAgICAgICAgICAgIC8vIHZhciBwaW5Ub3AgPSBtYXBZIC0gcGluLmhlaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgcGluLmNzcyhcImxlZnRcIiwgc2VsZi5tYXBYICsgXCIlXCIpO1xyXG4gICAgICAgICAgICAgICAgcGluLmNzcyhcInRvcFwiLCBzZWxmLm1hcFkgKyBcIiVcIik7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmZvcm1DaGFuZ2VkKCk7XHJcbi8vICAgICAgICAgICAgYWxlcnQoXCJ4OlwiICsgbWFwWCArIFwiLCB5OlwiICsgbWFwWSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gRGlzYWJsZSByZWd1bGFyIGxvY2F0aW9uIGlucHV0XHJcbiAgICAgICAgICAgIHRoaXMuc2lnblVwTG9jYXRpb25JbnB1dC52YWwoXCJDbGljayBvbiB0aGUgbWFwIVwiKTtcclxuICAgICAgICAgICAgdGhpcy5zaWduVXBMb2NhdGlvbklucHV0LnByb3AoXCJkaXNhYmxlZFwiLCB0cnVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc2lnblVwRm9ybS5zdWJtaXQoKGUpID0+IHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB2YXIgc2lnblVwTmFtZTogc3RyaW5nID0gPHN0cmluZz50aGlzLnNpZ25VcE5hbWVJbnB1dC52YWwoKTtcclxuICAgICAgICAgICAgdmFyIHNpZ25VcERlc2NyaXB0aW9uOiBzdHJpbmcgPSA8c3RyaW5nPnRoaXMuc2lnblVwRGVzY3JpcHRpb25JbnB1dC52YWwoKTtcclxuICAgICAgICAgICAgdmFyIHNpZ25VcExvY2F0aW9uOiBzdHJpbmcgPSA8c3RyaW5nPnRoaXMuc2lnblVwTG9jYXRpb25JbnB1dC52YWwoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghc2lnblVwTmFtZSB8fCBzaWduVXBOYW1lLmxlbmd0aCA9PSAwIHx8XHJcbiAgICAgICAgICAgICAgICAhc2lnblVwTG9jYXRpb24gfHwgc2lnblVwTG9jYXRpb24ubGVuZ3RoID09IDAgfHxcclxuICAgICAgICAgICAgICAgICFzaWduVXBEZXNjcmlwdGlvbiB8fCBzaWduVXBEZXNjcmlwdGlvbi5sZW5ndGggPT0gMCl7XHJcbiAgICAgICAgICAgICAgICBzaG93RXJyb3JNZXNzYWdlKFwiWW91IG11c3QgZmlsbCBpbiBhbGwgdGhlIGZpZWxkcy5cIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICghdGhpcy5xdWV1ZS5teVJlcXVlc3QpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucXVldWUuc2lnblVwKFxyXG4gICAgICAgICAgICAgICAgICAgIHNpZ25VcE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgc2lnblVwTG9jYXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgc2lnblVwRGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBYLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFwWSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlLnVwZGF0ZVJlcXVlc3QoXHJcbiAgICAgICAgICAgICAgICAgICAgc2lnblVwTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBzaWduVXBMb2NhdGlvbixcclxuICAgICAgICAgICAgICAgICAgICBzaWduVXBEZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcFgsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBZKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMuZm9ybUhhc0NoYW5nZXMgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVSZXF1ZXN0QnV0dG9ucy5yZW1vdmVDbGFzcyhcImJ0bi13YXJuaW5nXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVJlcXVlc3RCdXR0b25zLmFkZENsYXNzKFwiYnRuLXN1Y2Nlc3NcIik7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUmVxdWVzdEJ1dHRvbnMucHJvcChcImRpc2FibGVkXCIsIHRydWUpO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVJlcXVlc3RCdXR0b25zLmh0bWwoU3R1ZGVudENvbnRyb2xzLlVQREFURV9SRVFVRVNUX0JVVFRPTl9VUF9UT19EQVRFKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNpZ25VcEJ1dHRvbnMgPSB0aGlzLnNpZ25VcEZvcm0uZmluZChcImJ1dHRvbi5xdWV1ZS1zaWduVXBCdXR0b25cIik7XHJcbiAgICAgICAgdGhpcy51cGRhdGVSZXF1ZXN0QnV0dG9ucyA9IHRoaXMuc2lnblVwRm9ybS5maW5kKFwiYnV0dG9uLnF1ZXVlLXVwZGF0ZVJlcXVlc3RCdXR0b25cIilcclxuICAgICAgICAgICAgLnByb3AoXCJkaXNhYmxlZFwiLCB0cnVlKS5odG1sKFN0dWRlbnRDb250cm9scy5VUERBVEVfUkVRVUVTVF9CVVRUT05fVVBfVE9fREFURSk7XHJcblxyXG4gICAgICAgIHRoaXMuZWxlbS5hcHBlbmQoY29udGFpbmVyRWxlbSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGZvcm1DaGFuZ2VkKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnF1ZXVlLm15UmVxdWVzdCkge1xyXG4gICAgICAgICAgICB0aGlzLmZvcm1IYXNDaGFuZ2VzID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVSZXF1ZXN0QnV0dG9ucy5yZW1vdmVDbGFzcyhcImJ0bi1zdWNjZXNzXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVJlcXVlc3RCdXR0b25zLmFkZENsYXNzKFwiYnRuLXdhcm5pbmdcIik7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUmVxdWVzdEJ1dHRvbnMucHJvcChcImRpc2FibGVkXCIsIGZhbHNlKTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVSZXF1ZXN0QnV0dG9ucy5odG1sKFN0dWRlbnRDb250cm9scy5VUERBVEVfUkVRVUVTVF9CVVRUT05fVVBEQVRFKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlZnJlc2hTaWduSW5FbmFibGVkKCkge1xyXG4gICAgICAgIHZhciBpc0VuYWJsZWQgPSBVc2VyLmlzVW1pY2goKSAmJiB0aGlzLnF1ZXVlLmlzT3BlbiAmJiAhdGhpcy5xdWV1ZS5teVJlcXVlc3Q7XHJcbiAgICAgICAgdGhpcy5zaWduVXBCdXR0b25zLnByb3AoXCJkaXNhYmxlZFwiLCAhaXNFbmFibGVkKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucXVldWUubXlSZXF1ZXN0KSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUmVxdWVzdEJ1dHRvbnMuc2hvdygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBAbWVzc2FnZVJlc3BvbnNlKClcclxuICAgIHByaXZhdGUgcXVldWVSZWZyZXNoZWQoKSB7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoU2lnbkluRW5hYmxlZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIEBtZXNzYWdlUmVzcG9uc2UoKVxyXG4gICAgcHJpdmF0ZSB1c2VyU2lnbmVkSW4oKSB7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoU2lnbkluRW5hYmxlZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIEBtZXNzYWdlUmVzcG9uc2UoKVxyXG4gICAgcHJpdmF0ZSBteVJlcXVlc3RTZXQoKSB7XHJcbiAgICAgICAgdmFyIHJlcSA9IHRoaXMucXVldWUubXlSZXF1ZXN0O1xyXG4gICAgICAgIHRoaXMuc3RhdHVzRWxlbS5odG1sKFwiXCIpO1xyXG4gICAgICAgIGlmIChyZXEpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmZvcm1IYXNDaGFuZ2VzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNpZ25VcE5hbWVJbnB1dC52YWwocmVxLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaWduVXBEZXNjcmlwdGlvbklucHV0LnZhbChyZXEuZGVzY3JpcHRpb24gfHwgXCJcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNpZ25VcExvY2F0aW9uSW5wdXQudmFsKHJlcS5sb2NhdGlvbiB8fCBcIlwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnF1ZXVlLmhhc01hcCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBYID0gcmVxLm1hcFg7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBZID0gcmVxLm1hcFk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaWduVXBQaW4hLmNzcyhcImxlZnRcIiwgdGhpcy5tYXBYICsgXCIlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2lnblVwUGluIS5jc3MoXCJ0b3BcIiwgdGhpcy5tYXBZICsgXCIlXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLnN0YXR1c0VsZW0uaHRtbChcIllvdSBhcmUgYXQgcG9zaXRpb24gXCIgKyByZXEuaW5kZXggKyBcIiBpbiB0aGUgcXVldWUuXCIpO1xyXG4gICAgICAgICAgICBpZiAocmVxLnRhZykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0dXNFbGVtLnByZXBlbmQoJzxzcGFuIGNsYXNzPVwibGFiZWwgbGFiZWwtaW5mb1wiPicgKyByZXEudGFnICsgJzwvc3Bhbj4gJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuY2xhc3MgQWRtaW5Db250cm9scyB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBfbmFtZSA9IFwiQWRtaW5Db250cm9sc1wiO1xyXG5cclxuICAgIHByaXZhdGUgcXVldWU6IGFueTtcclxuICAgIHByaXZhdGUgZWxlbTogSlF1ZXJ5O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHF1ZXVlOiBhbnksIGVsZW06IEpRdWVyeSkge1xyXG4gICAgICAgIHRoaXMucXVldWUgPSBxdWV1ZTtcclxuICAgICAgICB0aGlzLmVsZW0gPSBlbGVtO1xyXG5cclxuICAgICAgICB0aGlzLmVsZW0uYXBwZW5kKFwiPHA+PGI+QWRtaW4gQ29udHJvbHM8L2I+PC9wPlwiKTtcclxuICAgICAgICB2YXIgY2xlYXJRdWV1ZUJ1dHRvbiA9ICQoJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1kYW5nZXIgYWRtaW5Pbmx5XCIgZGF0YS10b2dnbGU9XCJtb2RhbFwiIGRhdGEtdGFyZ2V0PVwiI2NsZWFyVGhlUXVldWVEaWFsb2dcIj5DbGVhciB0aGUgcXVldWU8L2J1dHRvbj4nKTtcclxuICAgICAgICB0aGlzLnF1ZXVlLm1ha2VBY3RpdmVPbkNsaWNrKGNsZWFyUXVldWVCdXR0b24pOyAvLyBUT0RPIEkgZG9uJ3QgdGhpbmsgdGhpcyBpcyBuZWNlc3NhcnkgYW55bW9yZS4gSWYgdGhleSBjYW4gY2xpY2sgaXQsIGl0IHNob3VsZCBiZSBhY3RpdmUuXHJcbiAgICAgICAgdGhpcy5lbGVtLmFwcGVuZChjbGVhclF1ZXVlQnV0dG9uKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbGVtLmFwcGVuZChcIiBcIik7XHJcbiAgICAgICAgdmFyIG9wZW5TY2hlZHVsZURpYWxvZ0J1dHRvbiA9ICQoJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1pbmZvIGFkbWluT25seVwiIGRhdGEtdG9nZ2xlPVwibW9kYWxcIiBkYXRhLXRhcmdldD1cIiNzY2hlZHVsZURpYWxvZ1wiPlNjaGVkdWxlPC9idXR0b24+Jyk7XHJcbiAgICAgICAgdGhpcy5xdWV1ZS5tYWtlQWN0aXZlT25DbGljayhvcGVuU2NoZWR1bGVEaWFsb2dCdXR0b24pOyAvLyBUT0RPIEkgZG9uJ3QgdGhpbmsgdGhpcyBpcyBuZWNlc3NhcnkgYW55bW9yZS4gSWYgdGhleSBjYW4gY2xpY2sgaXQsIGl0IHNob3VsZCBiZSBhY3RpdmUuXHJcbiAgICAgICAgdGhpcy5lbGVtLmFwcGVuZChvcGVuU2NoZWR1bGVEaWFsb2dCdXR0b24pO1xyXG5cclxuICAgICAgICB0aGlzLmVsZW0uYXBwZW5kKFwiIFwiKTtcclxuICAgICAgICB2YXIgb3Blbk1hbmFnZVF1ZXVlRGlhbG9nQnV0dG9uID0gJCgnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWluZm8gYWRtaW5Pbmx5XCIgZGF0YS10b2dnbGU9XCJtb2RhbFwiIGRhdGEtdGFyZ2V0PVwiI21hbmFnZVF1ZXVlRGlhbG9nXCI+TWFuYWdlIFF1ZXVlPC9idXR0b24+Jyk7XHJcbiAgICAgICAgdGhpcy5xdWV1ZS5tYWtlQWN0aXZlT25DbGljayhvcGVuTWFuYWdlUXVldWVEaWFsb2dCdXR0b24pOyAvLyBUT0RPIEkgZG9uJ3QgdGhpbmsgdGhpcyBpcyBuZWNlc3NhcnkgYW55bW9yZS4gSWYgdGhleSBjYW4gY2xpY2sgaXQsIGl0IHNob3VsZCBiZSBhY3RpdmUuXHJcbiAgICAgICAgdGhpcy5lbGVtLmFwcGVuZChvcGVuTWFuYWdlUXVldWVEaWFsb2dCdXR0b24pO1xyXG5cclxuICAgICAgICB0aGlzLmVsZW0uYXBwZW5kKFwiIFwiKTtcclxuICAgICAgICBsZXQgb3BlbkFkZEFubm91bmNlbWVudERpYWxvZ0J1dHRvbiA9ICQoJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1pbmZvIGFkbWluT25seVwiIGRhdGEtdG9nZ2xlPVwibW9kYWxcIiBkYXRhLXRhcmdldD1cIiNhZGRBbm5vdW5jZW1lbnREaWFsb2dcIj5BZGQgQW5ub3VuY2VtZW50PC9idXR0b24+Jyk7XHJcbiAgICAgICAgdGhpcy5xdWV1ZS5tYWtlQWN0aXZlT25DbGljayhvcGVuQWRkQW5ub3VuY2VtZW50RGlhbG9nQnV0dG9uKTsgLy8gVE9ETyBJIGRvbid0IHRoaW5rIHRoaXMgaXMgbmVjZXNzYXJ5IGFueW1vcmUuIElmIHRoZXkgY2FuIGNsaWNrIGl0LCBpdCBzaG91bGQgYmUgYWN0aXZlLlxyXG4gICAgICAgIHRoaXMuZWxlbS5hcHBlbmQob3BlbkFkZEFubm91bmNlbWVudERpYWxvZ0J1dHRvbik7XHJcbiAgICB9XHJcbn07XHJcblxyXG5jbGFzcyBRdWV1ZUVudHJ5IHtcclxuICAgIHByaXZhdGUgc3RhdGljIF9uYW1lID0gXCJRdWV1ZUVudHJ5XCI7XHJcblxyXG4gICAgcHJpdmF0ZSBxdWV1ZTogYW55O1xyXG4gICAgXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaWQ6IHN0cmluZztcclxuICAgIHB1YmxpYyByZWFkb25seSBlbWFpbDogc3RyaW5nO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGluZGV4OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGlzTWU6IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbG9jYXRpb24/OiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZGVzY3JpcHRpb24/OiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdGFnPzogc3RyaW5nO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IG1hcFg/OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbWFwWT86IG51bWJlcjtcclxuXHJcbiAgICBwcml2YXRlIGVsZW06IEpRdWVyeTtcclxuICAgIHByaXZhdGUgbmFtZUVsZW06IEpRdWVyeTtcclxuICAgIHByaXZhdGUgbG9jYXRpb25FbGVtPzogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSBkZXNjcmlwdGlvbkVsZW0/OiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIHRhZ0VsZW0/OiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIHRzRWxlbTogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSBtYXBFbGVtPzogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSBtYXBQaW4/OiBKUXVlcnk7XHJcblxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHF1ZXVlOiBhbnksIGRhdGE6IHtbaW5kZXg6c3RyaW5nXTogc3RyaW5nfSwgaW5kZXg6IG51bWJlciwgZWxlbTogSlF1ZXJ5KSB7XHJcbiAgICAgICAgdGhpcy5xdWV1ZSA9IHF1ZXVlO1xyXG5cclxuICAgICAgICB0aGlzLmlkID0gZGF0YVtcImlkXCJdO1xyXG4gICAgICAgIHRoaXMuZW1haWwgPSBkYXRhW1wiZW1haWxcIl07XHJcblxyXG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcclxuICAgICAgICB0aGlzLmlzTWUgPSAhIWRhdGFbXCJuYW1lXCJdOyAvLyBpZiBpdCBoYXMgYSBuYW1lIGl0J3MgdGhlbVxyXG5cclxuICAgICAgICB0aGlzLmVsZW0gPSBlbGVtO1xyXG5cclxuICAgICAgICBsZXQgaW5mb0VsZW0gPSAkKCc8ZGl2IGNsYXNzPVwicXVldWUtZW50cnlJbmZvXCI+PC9kaXY+Jyk7XHJcblxyXG4gICAgICAgIGxldCBuYW1lID0gZGF0YVtcIm5hbWVcIl0gPyBkYXRhW1wibmFtZVwiXSArIFwiIChcIiArIGRhdGFbXCJlbWFpbFwiXSArIFwiKVwiIDogXCJBbm9ueW1vdXMgU3R1ZGVudFwiO1xyXG4gICAgICAgIHRoaXMubmFtZUVsZW0gPSAkKCc8cD48c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tZWR1Y2F0aW9uXCI+PC9zcGFuPjwvcD4nKVxyXG4gICAgICAgICAgICAuYXBwZW5kKFwiIFwiICsgbmFtZSlcclxuICAgICAgICAgICAgLmFwcGVuZFRvKGluZm9FbGVtKTtcclxuICAgICAgICBpZiAoZGF0YVtcInRhZ1wiXSAmJiBkYXRhW1widGFnXCJdLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy50YWcgPSBkYXRhW1widGFnXCJdO1xyXG4gICAgICAgICAgICB0aGlzLm5hbWVFbGVtLmFwcGVuZCgnIDxzcGFuIGNsYXNzPVwibGFiZWwgbGFiZWwtaW5mb1wiPicgKyB0aGlzLnRhZyArICc8L3NwYW4+Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubmFtZSA9IGRhdGFbXCJuYW1lXCJdO1xyXG5cclxuICAgICAgICBpZiAoZGF0YVtcImxvY2F0aW9uXCJdICYmIGRhdGFbXCJsb2NhdGlvblwiXS5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgdGhpcy5sb2NhdGlvbkVsZW0gPSAkKCc8cD48c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tbWFwLW1hcmtlclwiPjwvc3Bhbj48L3A+JylcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoXCIgXCIgKyBkYXRhW1wibG9jYXRpb25cIl0pXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kVG8oaW5mb0VsZW0pO1xyXG4gICAgICAgICAgICB0aGlzLmxvY2F0aW9uID0gZGF0YVtcImxvY2F0aW9uXCJdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGRhdGFbXCJkZXNjcmlwdGlvblwiXSAmJiBkYXRhW1wiZGVzY3JpcHRpb25cIl0ubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgIHRoaXMuZGVzY3JpcHRpb25FbGVtID0gJCgnPHA+PHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLXF1ZXN0aW9uLXNpZ25cIj48L3NwYW4+PC9wPicpXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKFwiIFwiICsgZGF0YVtcImRlc2NyaXB0aW9uXCJdKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZFRvKGluZm9FbGVtKTtcclxuICAgICAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRhdGFbXCJkZXNjcmlwdGlvblwiXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCB0aW1lV2FpdGluZyA9IERhdGUubm93KCkgLSBuZXcgRGF0ZShwYXJzZUludChkYXRhW1widHNcIl0pKjEwMDApLmdldFRpbWUoKTtcclxuICAgICAgICBsZXQgbWludXRlc1dhaXRpbmcgPSBNYXRoLnJvdW5kKHRpbWVXYWl0aW5nIC8gMTAwMCAvIDYwKTtcclxuICAgICAgICB0aGlzLnRzRWxlbSA9ICQoJzxwPjxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi10aW1lXCI+PC9zcGFuPjwvcD4nKVxyXG4gICAgICAgICAgICAuYXBwZW5kKFwiIFwiICsgbWludXRlc1dhaXRpbmcgKyBcIiBtaW5cIilcclxuICAgICAgICAgICAgLmFwcGVuZFRvKGluZm9FbGVtKTtcclxuXHJcbiAgICAgICAgbGV0IHJlbW92ZUJ1dHRvbiA9ICQoJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1kYW5nZXJcIj5SZW1vdmU8L2J1dHRvbj4nKTtcclxuICAgICAgICBpZiAoIXRoaXMuaXNNZSl7XHJcbiAgICAgICAgICAgIHJlbW92ZUJ1dHRvbi5hZGRDbGFzcyhcImFkbWluT25seVwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJlbW92ZUJ1dHRvbi5vbihcImNsaWNrXCIsIHRoaXMucXVldWUucmVtb3ZlUmVxdWVzdC5iaW5kKHRoaXMucXVldWUsIHRoaXMpKTtcclxuICAgICAgICBpbmZvRWxlbS5hcHBlbmQocmVtb3ZlQnV0dG9uKTtcclxuXHJcbiAgICAgICAgaW5mb0VsZW0uYXBwZW5kKFwiIFwiKTtcclxuXHJcblxyXG4gICAgICAgIGxldCBzZW5kTWVzc2FnZUJ1dHRvbiA9ICQoJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi13YXJuaW5nIGFkbWluT25seVwiPk1lc3NhZ2U8L2J1dHRvbj4nKTtcclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgc2VuZE1lc3NhZ2VCdXR0b24ub24oXCJjbGlja1wiLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBsZXQgc2VuZE1lc3NhZ2VEaWFsb2cgPSAkKFwiI3NlbmRNZXNzYWdlRGlhbG9nXCIpO1xyXG4gICAgICAgICAgICBzZW5kTWVzc2FnZURpYWxvZy5tb2RhbChcInNob3dcIik7XHJcbiAgICAgICAgICAgIFF1ZXVlQXBwbGljYXRpb24uaW5zdGFuY2Uuc2V0U2VuZE1lc3NhZ2VQb3N0SWQoc2VsZi5pZCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaW5mb0VsZW0uYXBwZW5kKHNlbmRNZXNzYWdlQnV0dG9uKTtcclxuXHJcblxyXG5cclxuICAgICAgICBpZih0aGlzLnF1ZXVlLmhhc01hcCgpICYmIGRhdGFbXCJtYXBYXCJdICE9PSB1bmRlZmluZWQgJiYgZGF0YVtcIm1hcFlcIl0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBsZXQgbWFwWCA9IHRoaXMubWFwWCA9IHBhcnNlRmxvYXQoZGF0YVtcIm1hcFhcIl0pO1xyXG4gICAgICAgICAgICBsZXQgbWFwWSA9IHRoaXMubWFwWSA9IHBhcnNlRmxvYXQoZGF0YVtcIm1hcFlcIl0pO1xyXG5cclxuICAgICAgICAgICAgbGV0IG1hcEVsZW0gPSAkKCc8ZGl2IGNsYXNzPVwiYWRtaW5Pbmx5XCIgc3R5bGU9XCJkaXNwbGF5OmlubGluZS1ibG9jazsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDI1JTsgbWFyZ2luLXJpZ2h0OiAxMHB4XCI+PC9kaXY+Jyk7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbS5hcHBlbmQobWFwRWxlbSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgbWFwSG9sZGVyID0gJCgnPGRpdiBzdHlsZT1cInBvc2l0aW9uOiByZWxhdGl2ZVwiPjwvZGl2PicpO1xyXG4gICAgICAgICAgICB0aGlzLm1hcEVsZW0gPSAkKCc8aW1nIGNsYXNzPVwiYWRtaW5Pbmx5IHF1ZXVlLWVudHJ5TWFwXCIgc3JjPVwiaW1nLycgKyB0aGlzLnF1ZXVlLm1hcEltYWdlU3JjICsgJ1wiPjwvaW1nPicpO1xyXG4gICAgICAgICAgICBtYXBIb2xkZXIuYXBwZW5kKHRoaXMubWFwRWxlbSk7XHJcbiAgICAgICAgICAgIHRoaXMubWFwUGluID0gJCgnPHNwYW4gY2xhc3M9XCJhZG1pbk9ubHkgcXVldWUtbG9jYXRlUGluXCI+PHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLW1hcC1tYXJrZXJcIiBzdHlsZT1cInBvc2l0aW9uOmFic29sdXRlOyBsZWZ0Oi0xLjNjaDt0b3A6LTAuOTVlbTtcIj48L3NwYW4+PC9zcGFuPicpO1xyXG4gICAgICAgICAgICB0aGlzLm1hcFBpbi5jc3MoXCJsZWZ0XCIsIG1hcFggKyBcIiVcIik7XHJcbiAgICAgICAgICAgIHRoaXMubWFwUGluLmNzcyhcInRvcFwiLCBtYXBZICsgXCIlXCIpO1xyXG4gICAgICAgICAgICBtYXBIb2xkZXIuYXBwZW5kKHRoaXMubWFwUGluKTtcclxuICAgICAgICAgICAgbWFwRWxlbS5hcHBlbmQobWFwSG9sZGVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGxldCBkaWJzQnV0dG9uID0gJCgnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWluZm8gYWRtaW5Pbmx5XCI+RGlicyE8L2J1dHRvbj4nKTtcclxuICAgICAgICAgICAgLy8gdGhpcy5lbGVtLmFwcGVuZChkaWJzQnV0dG9uKTtcclxuICAgICAgICAgICAgLy8gdGhpcy5lbGVtLmFwcGVuZChcIiBcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmVsZW0uYXBwZW5kKGluZm9FbGVtKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25SZW1vdmUoKSB7XHJcbiAgICAgICAgLy8gdGhpcy5zZW5kKFwicmVtb3ZlZFwiKTtcclxuICAgICAgICB0aGlzLmVsZW0uc2xpZGVVcChBTklNQVRJT05fREVMQVksIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFNjaGVkdWxlIHtcclxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IF9uYW1lOiBcIlNjaGVkdWxlXCI7XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgc2VxdWVuY2UgPSB7XHJcbiAgICAgICAgXCJvXCI6IFwiY1wiLFxyXG4gICAgICAgIFwiY1wiOiBcInBcIixcclxuICAgICAgICBcInBcIjogXCJvXCJcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSB1bml0RWxlbXMgOiBKUXVlcnlbXVtdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGVsZW0gOiBKUXVlcnkpIHtcclxuICAgICAgICBsZXQgZGlhbG9nID0gJChcIiNzY2hlZHVsZURpYWxvZ1wiKTtcclxuXHJcbiAgICAgICAgJChcIiNzY2hlZHVsZUZvcm1cIikuc3VibWl0KChlKSA9PiB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XHJcblxyXG4gICAgICAgICAgICBkaWFsb2cubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGRpYWxvZy5vbignc2hvd24uYnMubW9kYWwnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBTZXQgdXAgdGFibGUgaW4gc2NoZWR1bGUgcGlja2VyXHJcbiAgICAgICAgbGV0IHNjaGVkdWxlUGlja2VyID0gJChcIiNzY2hlZHVsZVBpY2tlclwiKTtcclxuXHJcbiAgICAgICAgLy8gRmlyc3Qgcm93IG9mIHRhYmxlIHdpdGggdGltZSBoZWFkZXJzXHJcbiAgICAgICAgbGV0IGZpcnN0Um93ID0gJChcIjx0cj48L3RyPlwiKS5hcHBlbmRUbyhzY2hlZHVsZVBpY2tlcik7XHJcblxyXG4gICAgICAgIC8vIEV4dHJhIGJsYW5rIGluIGZpcnN0IHJvdyB0byBjb3JyZXNwb25kIHRvIHJvdyBsYWJlbHMgaW4gb3RoZXIgcm93c1xyXG4gICAgICAgIGZpcnN0Um93LmFwcGVuZCgnPHRkIHN0eWxlPVwid2lkdGg6MWVtOyBwYWRkaW5nLXJpZ2h0OiAzcHg7XCI+PC90ZD4nKTtcclxuXHJcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IDI0OyArK2kpIHtcclxuICAgICAgICAgICAgZmlyc3RSb3cuYXBwZW5kKCc8dGQgY29sc3Bhbj1cIjJcIj4nICsgKGkgPT09IDAgfHwgaSA9PT0gMTIgPyAxMiA6IGkgJSAxMikgKyAnPC90ZD4nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudW5pdEVsZW1zID0gW107XHJcbiAgICAgICAgbGV0IGRheUxldHRlcnMgPSBbXCJTXCIsXCJNXCIsXCJUXCIsXCJXXCIsXCJUXCIsXCJGXCIsXCJTXCJdO1xyXG4gICAgICAgIGZvcih2YXIgciA9IDA7IHIgPCA3OyArK3IpIHtcclxuICAgICAgICAgICAgdmFyIGRheSA6IEpRdWVyeVtdID0gW107XHJcbiAgICAgICAgICAgIHZhciByb3dFbGVtID0gJCgnPHRyPjwvdHI+Jyk7XHJcbiAgICAgICAgICAgIHJvd0VsZW0uYXBwZW5kKCc8dGQgc3R5bGU9XCJ3aWR0aDoxZW07IHRleHQtYWxpZ246IHJpZ2h0OyBwYWRkaW5nLXJpZ2h0OiAzcHg7XCI+JyArIGRheUxldHRlcnNbcl0gKyAnPC90ZD4nKTtcclxuICAgICAgICAgICAgZm9yKHZhciBjID0gMDsgYyA8IDQ4OyArK2MpIHtcclxuICAgICAgICAgICAgICAgIHZhciB1bml0RWxlbSA9ICQoJzx0ZD48ZGl2IGNsYXNzPVwic2NoZWR1bGVVbml0XCI+PC9kaXY+PC90ZD4nKS5hcHBlbmRUbyhyb3dFbGVtKS5maW5kKFwiLnNjaGVkdWxlVW5pdFwiKTtcclxuICAgICAgICAgICAgICAgIGRheS5wdXNoKHVuaXRFbGVtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnVuaXRFbGVtcy5wdXNoKGRheSk7XHJcbiAgICAgICAgICAgIHNjaGVkdWxlUGlja2VyLmFwcGVuZChyb3dFbGVtKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBwcmVzc2VkID0gZmFsc2U7XHJcbiAgICAgICAgc2NoZWR1bGVQaWNrZXIub24oXCJtb3VzZWRvd25cIiwgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgcHJlc3NlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBzY2hlZHVsZVBpY2tlci5vbihcIm1vdXNldXBcIiwgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgcHJlc3NlZCA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNjaGVkdWxlUGlja2VyLm9uKFwibW91c2VsZWF2ZVwiLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBwcmVzc2VkID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZGlhbG9nLm9uKCdoaWRkZW4uYnMubW9kYWwnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHByZXNzZWQgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbGV0IGNoYW5nZUNvbG9yID0gKGVsZW06IEpRdWVyeSkgPT57XHJcbiAgICAgICAgICAgIGlmIChwcmVzc2VkKXtcclxuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50VHlwZTogXCJvXCIgfCBcImNcIiB8IFwicFwiID0gZWxlbS5kYXRhKFwic2NoZWR1bGVUeXBlXCIpO1xyXG4gICAgICAgICAgICAgICAgZWxlbS5yZW1vdmVDbGFzcyhcInNjaGVkdWxlVW5pdC1cIiArIGN1cnJlbnRUeXBlKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbmV4dFR5cGUgPSBTY2hlZHVsZS5zZXF1ZW5jZVtjdXJyZW50VHlwZV07XHJcbiAgICAgICAgICAgICAgICBlbGVtLmRhdGEoXCJzY2hlZHVsZVR5cGVcIiwgbmV4dFR5cGUpO1xyXG4gICAgICAgICAgICAgICAgZWxlbS5hZGRDbGFzcyhcInNjaGVkdWxlVW5pdC1cIiArIG5leHRUeXBlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2NoZWR1bGVQaWNrZXIub24oXCJtb3VzZW92ZXJcIiwgXCIuc2NoZWR1bGVVbml0XCIsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGNoYW5nZUNvbG9yKCQodGhpcykpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc2NoZWR1bGVQaWNrZXIub24oXCJtb3VzZWRvd25cIiwgXCIuc2NoZWR1bGVVbml0XCIsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHByZXNzZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBjaGFuZ2VDb2xvcigkKHRoaXMpKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWZyZXNoKCkge1xyXG4gICAgICAgIGxldCBhcSA9IFF1ZXVlQXBwbGljYXRpb24uaW5zdGFuY2UuYWN0aXZlUXVldWUoKTtcclxuICAgICAgICBpZiAoYXEpIHtcclxuICAgICAgICAgICAgcmV0dXJuICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICAgICAgdXJsOiBcImFwaS9zY2hlZHVsZS9cIiArIGFxLnF1ZXVlSWQsXHJcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzY2hlZHVsZSA9IGRhdGE7IC8vIGFycmF5IG9mIDcgc3RyaW5nc1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcih2YXIgciA9IDA7IHIgPCA3OyArK3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBjID0gMDsgYyA8IDQ4OyArK2MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbGVtID0gdGhpcy51bml0RWxlbXNbcl1bY107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtLnJlbW92ZUNsYXNzKCk7IC8vIHJlbW92ZXMgYWxsIGNsYXNzZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uYWRkQ2xhc3MoXCJzY2hlZHVsZVVuaXRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtLmFkZENsYXNzKFwic2NoZWR1bGVVbml0LVwiICsgc2NoZWR1bGVbcl0uY2hhckF0KGMpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uZGF0YShcInNjaGVkdWxlVHlwZVwiLCBzY2hlZHVsZVtyXS5jaGFyQXQoYykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVycm9yOiBvb3BzXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAoIVF1ZXVlQXBwbGljYXRpb24uaW5zdGFuY2UuYWN0aXZlUXVldWUoKSkgeyByZXR1cm47IH1cclxuXHJcbiAgICAgICAgLy8gbG9sIGNhbid0IG1ha2UgdXAgbXkgbWluZCB3aGV0aGVyIEkgbGlrZSBmdW5jdGlvbmFsIHZzLiBpdGVyYXRpdmVcclxuICAgICAgICB2YXIgc2NoZWR1bGUgPSBbXTtcclxuICAgICAgICBmb3IodmFyIHIgPSAwOyByIDwgNzsgKytyKSB7XHJcbiAgICAgICAgICAgIHNjaGVkdWxlLnB1c2godGhpcy51bml0RWxlbXNbcl0ubWFwKGZ1bmN0aW9uKHVuaXRFbGVtKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiB1bml0RWxlbS5kYXRhKFwic2NoZWR1bGVUeXBlXCIpO1xyXG4gICAgICAgICAgICB9KS5qb2luKFwiXCIpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBhcSA9IFF1ZXVlQXBwbGljYXRpb24uaW5zdGFuY2UuYWN0aXZlUXVldWUoKTtcclxuICAgICAgICBpZiAoYXEpIHtcclxuICAgICAgICAgICAgcmV0dXJuICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgIHVybDogXCJhcGkvdXBkYXRlU2NoZWR1bGVcIixcclxuICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICBpZHRva2VuOiBVc2VyLmlkVG9rZW4oKSxcclxuICAgICAgICAgICAgICAgICAgICBxdWV1ZUlkOiBhcS5xdWV1ZUlkLFxyXG4gICAgICAgICAgICAgICAgICAgIHNjaGVkdWxlOiBzY2hlZHVsZVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2NoZWR1bGUgdXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlcnJvcjogb29wc1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBNYW5hZ2VRdWV1ZURpYWxvZyB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBfbmFtZTogXCJNYW5hZ2VRdWV1ZURpYWxvZ1wiO1xyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFBPTElDSUVTX1VQX1RPX0RBVEUgPSAnPHNwYW4+PHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLWZsb3BweS1zYXZlZFwiPjwvc3Bhbj4gU2F2ZWQ8L3NwYW4+JztcclxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFBPTElDSUVTX1VOU0FWRUQgPSAnPHNwYW4+PHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLWZsb3BweS1vcGVuXCI+PC9zcGFuPiBVcGRhdGUgQ29uZmlndXJhdGlvbjwvc3Bhbj4nO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBfYWN0ISA6IE1lc3NhZ2VSZXNwb25zZXM7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSB1cGRhdGVDb25maWd1cmF0aW9uQnV0dG9uIDogSlF1ZXJ5O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIGxldCBkaWFsb2cgPSAkKFwiI21hbmFnZVF1ZXVlRGlhbG9nXCIpO1xyXG5cclxuICAgICAgICBsZXQgZ3JvdXBzRm9ybSA9ICQoXCIjZ3JvdXBzRm9ybVwiKTtcclxuICAgICAgICBncm91cHNGb3JtLnN1Ym1pdChmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBsZXQgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoPEhUTUxGb3JtRWxlbWVudD5ncm91cHNGb3JtWzBdKTtcclxuICAgICAgICAgICAgbGV0IGFxID0gUXVldWVBcHBsaWNhdGlvbi5pbnN0YW5jZS5hY3RpdmVRdWV1ZSgpO1xyXG4gICAgICAgICAgICBhcSAmJiBhcS51cGRhdGVHcm91cHMoZm9ybURhdGEpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxldCBwb2xpY2llc0Zvcm0gPSAkKFwiI3BvbGljaWVzRm9ybVwiKTtcclxuICAgICAgICBwb2xpY2llc0Zvcm0uc3VibWl0KChlKSA9PiB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlQ29uZmlndXJhdGlvbkJ1dHRvbiA9ICQoXCIjdXBkYXRlQ29uZmlndXJhdGlvbkJ1dHRvblwiKTtcclxuXHJcbiAgICAgICAgJChcIiNwcmV2ZW50VW5yZWdpc3RlcmVkQ2hlY2tib3hcIikuY2hhbmdlKHRoaXMudW5zYXZlZENoYW5nZXMuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgJChcIiNwcmV2ZW50R3JvdXBzQ2hlY2tib3hcIikuY2hhbmdlKHRoaXMudW5zYXZlZENoYW5nZXMuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgJChcIiNwcmlvcml0aXplTmV3Q2hlY2tib3hcIikuY2hhbmdlKHRoaXMudW5zYXZlZENoYW5nZXMuYmluZCh0aGlzKSk7XHJcblxyXG4gICAgICAgIFF1ZXVlQXBwbGljYXRpb24uaW5zdGFuY2Uub2JzZXJ2YWJsZS5hZGRMaXN0ZW5lcih0aGlzKTtcclxuICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgIH1cclxuXHJcbiAgICBAbWVzc2FnZVJlc3BvbnNlKFwiYWN0aXZlUXVldWVTZXRcIilcclxuICAgIHB1YmxpYyByZWZyZXNoKCkge1xyXG4gICAgICAgIGxldCBhcSA9IFF1ZXVlQXBwbGljYXRpb24uaW5zdGFuY2UuYWN0aXZlUXVldWUoKTtcclxuICAgICAgICBpZiAoIWFxKSB7IHJldHVybjt9XHJcbiAgICAgICAgaWYgKCFhcS5pc0FkbWluKSB7IHJldHVybjsgfVxyXG5cclxuICAgICAgICAkKFwiI2NoZWNrUXVldWVSb3N0ZXJMaW5rXCIpLmF0dHIoXCJocmVmXCIsIFwiYXBpL3Jvc3Rlci9cIiArIGFxLnF1ZXVlSWQpO1xyXG4gICAgICAgICQoXCIjY2hlY2tRdWV1ZUdyb3Vwc0xpbmtcIikuYXR0cihcImhyZWZcIiwgXCJhcGkvZ3JvdXBzL1wiICsgYXEucXVldWVJZCk7XHJcblxyXG4gICAgICAgIHJldHVybiAkLmFqYXgoe1xyXG4gICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICB1cmw6IFwiYXBpL3F1ZXVlQ29uZmlndXJhdGlvbi9cIiArIGFxLnF1ZXVlSWQsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgc3VjY2VzczogdGhpcy5yZWZyZXNoUmVzcG9uc2UuYmluZCh0aGlzKSxcclxuICAgICAgICAgICAgZXJyb3I6IG9vcHNcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlZnJlc2hSZXNwb25zZShkYXRhIDoge1tpbmRleDpzdHJpbmddOiBzdHJpbmd9KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xyXG4gICAgICAgICQoXCIjcHJldmVudFVucmVnaXN0ZXJlZENoZWNrYm94XCIpLnByb3AoXCJjaGVja2VkXCIsIGRhdGFbXCJwcmV2ZW50VW5yZWdpc3RlcmVkXCJdID09PSBcInlcIik7XHJcbiAgICAgICAgJChcIiNwcmV2ZW50R3JvdXBzQ2hlY2tib3hcIikucHJvcChcImNoZWNrZWRcIiwgZGF0YVtcInByZXZlbnRHcm91cHNcIl0gPT09IFwieVwiKTtcclxuICAgICAgICAkKFwiI3ByaW9yaXRpemVOZXdDaGVja2JveFwiKS5wcm9wKFwiY2hlY2tlZFwiLCBkYXRhW1wicHJpb3JpdGl6ZU5ld1wiXSA9PT0gXCJ5XCIpO1xyXG5cclxuICAgICAgICB0aGlzLmNoYW5nZXNVcFRvRGF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUoKSB7XHJcbiAgICAgICAgbGV0IGFxID0gUXVldWVBcHBsaWNhdGlvbi5pbnN0YW5jZS5hY3RpdmVRdWV1ZSgpO1xyXG4gICAgICAgIGlmICghYXEpIHsgcmV0dXJuO31cclxuICAgICAgICBhcS51cGRhdGVDb25maWd1cmF0aW9uKHtcclxuICAgICAgICAgICAgcHJldmVudFVucmVnaXN0ZXJlZCA6ICQoXCIjcHJldmVudFVucmVnaXN0ZXJlZENoZWNrYm94XCIpLmlzKFwiOmNoZWNrZWRcIikgPyBcInlcIiA6IFwiblwiLFxyXG4gICAgICAgICAgICBwcmV2ZW50R3JvdXBzIDogJChcIiNwcmV2ZW50R3JvdXBzQ2hlY2tib3hcIikuaXMoXCI6Y2hlY2tlZFwiKSA/IFwieVwiIDogXCJuXCIsXHJcbiAgICAgICAgICAgIHByaW9yaXRpemVOZXcgOiAkKFwiI3ByaW9yaXRpemVOZXdDaGVja2JveFwiKS5pcyhcIjpjaGVja2VkXCIpID8gXCJ5XCIgOiBcIm5cIlxyXG4gICAgICAgIH0pLmRvbmUodGhpcy5jaGFuZ2VzVXBUb0RhdGUuYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1bnNhdmVkQ2hhbmdlcygpIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZUNvbmZpZ3VyYXRpb25CdXR0b24uaHRtbChNYW5hZ2VRdWV1ZURpYWxvZy5QT0xJQ0lFU19VTlNBVkVEKVxyXG4gICAgICAgICAgICAucHJvcChcImRpc2FibGVkXCIsIGZhbHNlKVxyXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3MoXCJidG4tc3VjY2Vzc1wiKVxyXG4gICAgICAgICAgICAuYWRkQ2xhc3MoXCJidG4td2FybmluZ1wiKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNoYW5nZXNVcFRvRGF0ZSgpIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZUNvbmZpZ3VyYXRpb25CdXR0b24uaHRtbChNYW5hZ2VRdWV1ZURpYWxvZy5QT0xJQ0lFU19VUF9UT19EQVRFKVxyXG4gICAgICAgICAgICAucHJvcChcImRpc2FibGVkXCIsIHRydWUpXHJcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcyhcImJ0bi13YXJuaW5nXCIpXHJcbiAgICAgICAgICAgIC5hZGRDbGFzcyhcImJ0bi1zdWNjZXNzXCIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgbmFtZXNwYWNlIFVzZXIge1xyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBzaWduSW4oZW1haWw6IHN0cmluZywgaWR0b2tlbjogc3RyaW5nKSB7XHJcbiAgICAgICAgbGV0IG5ld1VzZXIgPSBuZXcgQXV0aGVudGljYXRlZFVzZXIoZW1haWwsIGlkdG9rZW4pO1xyXG5cclxuICAgICAgICB2YXIgYWNjb3VudE1lc3NhZ2VFbGVtID0gJChcIiNhY2NvdW50TWVzc2FnZVwiKTtcclxuICAgICAgICAvLyBJZiB0aGV5J3JlIG5vdCB1bWljaCwgdGhleSBjYW4ndCBzaWduIHVwIVxyXG4gICAgICAgIGlmICghbmV3VXNlci5pc1VtaWNoKCkpe1xyXG4gICAgICAgICAgICBhY2NvdW50TWVzc2FnZUVsZW0uc2hvdygpO1xyXG4gICAgICAgICAgICBhY2NvdW50TWVzc2FnZUVsZW0uaHRtbChcIkhpIFwiICsgbmV3VXNlci5lbWFpbCArIFwiISBQbGVhc2UgPGE+c2lnbiBvdXQ8L2E+IGFuZCBzd2l0Y2ggdG8gYW4gQHVtaWNoLmVkdSBhY2NvdW50IHRvIHVzZSB0aGUgcXVldWUuXCIpO1xyXG4gICAgICAgICAgICBhY2NvdW50TWVzc2FnZUVsZW0uZmluZChcImFcIikuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHZhciBhdXRoMiA9IGdhcGkuYXV0aDIuZ2V0QXV0aEluc3RhbmNlKCk7XHJcbiAgICAgICAgICAgICAgICBhdXRoMi5kaXNjb25uZWN0KCkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgVXNlci5zaWduT3V0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudE1lc3NhZ2VFbGVtLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICQoXCIub3BlblNpZ25VcERpYWxvZ0J1dHRvblwiKS5wcm9wKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBzaWduT3V0KCkge1xyXG4gICAgICAgIHZhciBhY2NvdW50TWVzc2FnZUVsZW0gPSAkKFwiI2FjY291bnRNZXNzYWdlXCIpO1xyXG4gICAgICAgIGFjY291bnRNZXNzYWdlRWxlbS5oaWRlKCk7XHJcblxyXG4gICAgICAgIHRoZVVzZXIgJiYgdGhlVXNlci5vblNpZ25PdXQoKTtcclxuXHJcbiAgICAgICAgbmV3IFVuYXV0aGVudGljYXRlZFVzZXIoKTsgLy8gd2lsbCBpbXBsaWNpdGx5IHNldCB0aGVVc2VyIHNpbmdsZXRvbiBpbnN0YW5jZVxyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBpZFRva2VuKCkge1xyXG4gICAgICAgIHJldHVybiB0aGVVc2VyLmlkVG9rZW4oKTtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gaXNVbWljaCgpIHtcclxuICAgICAgICByZXR1cm4gdGhlVXNlci5pc1VtaWNoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGlzQ291cnNlQWRtaW4oY291cnNlSWQ6IHN0cmluZykge1xyXG4gICAgICAgIHJldHVybiB0aGVVc2VyLmlzQ291cnNlQWRtaW4oY291cnNlSWQpO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBpc01lKGVtYWlsOiBzdHJpbmcpIHtcclxuICAgICAgICByZXR1cm4gdGhlVXNlci5pc01lKGVtYWlsKTtcclxuICAgIH1cclxuXHJcbiAgICBhYnN0cmFjdCBjbGFzcyBVc2VyQmFzZSB7XHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgX25hbWUgPSBcIlVzZXJCYXNlXCI7XHJcbiAgICBcclxuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgaXNVbWljaCgpIDogYm9vbGVhbjtcclxuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgaWRUb2tlbigpIDogc3RyaW5nO1xyXG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCBpc0NvdXJzZUFkbWluKGNvdXJzZUlkOiBzdHJpbmcpIDogYm9vbGVhbjtcclxuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgaXNNZShlbWFpbDogc3RyaW5nKSA6IGJvb2xlYW47XHJcbiAgICBcclxuICAgICAgICBwdWJsaWMgb25TaWduT3V0KCkge1xyXG4gICAgICAgICAgICAvLyBub3RoaW5nIHRvIGRvIGhlcmUgZm9yIG5vd1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIG9uRmluaXNoU2lnbmluZ0luKCkge1xyXG4gICAgICAgICAgICB0aGVVc2VyID0gdGhpcztcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBOb3RpZnkgdGhlIGFwcGxpY2F0aW9uIHRoZXJlJ3MgYSBuZXcgdXNlciBpbiB0b3duXHJcbiAgICAgICAgICAgIFF1ZXVlQXBwbGljYXRpb24uaW5zdGFuY2UgJiYgUXVldWVBcHBsaWNhdGlvbi5pbnN0YW5jZS51c2VyU2lnbmVkSW4oKTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgIH1cclxuXHJcbiAgICBjbGFzcyBBdXRoZW50aWNhdGVkVXNlciBleHRlbmRzIFVzZXJCYXNlIHtcclxuXHJcbiAgICAgICAgcHVibGljIHJlYWRvbmx5IGVtYWlsOiBzdHJpbmc7XHJcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBfaWRUb2tlbjogc3RyaW5nO1xyXG4gICAgICAgIHByaXZhdGUgYWRtaW5zOiB7W2luZGV4OiBzdHJpbmddOiBib29sZWFufSA9IHt9O1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcihlbWFpbDogc3RyaW5nLCBpZHRva2VuOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICAgICAgdGhpcy5lbWFpbCA9IGVtYWlsO1xyXG4gICAgICAgICAgICB0aGlzLl9pZFRva2VuID0gaWR0b2tlbjtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgIHVybDogXCJhcGkvbG9naW5cIixcclxuICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICBpZHRva2VuOiB0aGlzLmlkVG9rZW4oKVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tBZG1pbigpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVycm9yOiBvb3BzXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgXHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgcHVibGljIGlzVW1pY2goKSA6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICByZXR1cm4gZW5kc1dpdGgodGhpcy5lbWFpbCwgXCJAdW1pY2guZWR1XCIpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIHB1YmxpYyBpc01lKGVtYWlsOiBzdHJpbmcpIDogYm9vbGVhbiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVtYWlsID09PSBlbWFpbDtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBwdWJsaWMgaWRUb2tlbigpIDogc3RyaW5nIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lkVG9rZW47XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgcHJpdmF0ZSBjaGVja0FkbWluKCkgOiB2b2lkIHtcclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICAgICAgdXJsOiBcImFwaS9hZG1pbkNvdXJzZXNcIixcclxuICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICBpZHRva2VuOiB0aGlzLmlkVG9rZW4oKVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRtaW5zW2RhdGFbaV1bXCJjb3Vyc2VJZFwiXV0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyBIQUNLIElmIGFkbWluIGZvciBhbnl0aGluZywgZ2l2ZSB0aGVtIGZhc3QgcmVmcmVzaFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNob3VsZCBvbmx5IGJlIG9uIHRoZSBxdWV1ZXMgdGhleSBhZG1pbmlzdGVyXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWxzbyBpZiBhZG1pbiBwcm9tcHQgZm9yIG5vdGlmaWNhdGlvbnNcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFF1ZXVlQXBwbGljYXRpb24uaW5zdGFuY2UucmVmcmVzaEFjdGl2ZVF1ZXVlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDUwMDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE5vdGlmaWNhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLnJlcXVlc3RQZXJtaXNzaW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFF1ZXVlQXBwbGljYXRpb24uaW5zdGFuY2UucmVmcmVzaEFjdGl2ZVF1ZXVlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDYwMDAwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25GaW5pc2hTaWduaW5nSW4oKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlcnJvcjogb29wc1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBwdWJsaWMgaXNDb3Vyc2VBZG1pbihjb3Vyc2VJZDogc3RyaW5nKSA6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hZG1pbnNbY291cnNlSWRdO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgfVxyXG5cclxuICAgIGNsYXNzIFVuYXV0aGVudGljYXRlZFVzZXIgZXh0ZW5kcyBVc2VyQmFzZSB7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5vbkZpbmlzaFNpZ25pbmdJbigpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgUXVldWVBcHBsaWNhdGlvbi5pbnN0YW5jZS5yZWZyZXNoQWN0aXZlUXVldWUoKTtcclxuICAgICAgICAgICAgfSwgNjAwMDApO1xyXG5cclxuICAgICAgICAgICAgLy8gVE9ETzogY2xlYW4gdXAgd2hlcmUgdGhlIHJlZnJlc2ggaW50ZXJ2YWxzIGdldCBzZXRcclxuICAgICAgICAgICAgLy8gICAgICAgcmlnaHQgbm93IGl0IHNlZW1zIGxpa2UgbXVsdGlwbGUgY2FuIGdldCBzZXRcclxuICAgIFxyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIHB1YmxpYyBpc1VtaWNoKCkgOiBib29sZWFuIHsgcmV0dXJuIGZhbHNlOyB9XHJcbiAgICAgICAgcHVibGljIGlkVG9rZW4oKSA6IHN0cmluZyB7IHJldHVybiBcIlwiOyB9XHJcbiAgICAgICAgcHVibGljIGlzQ291cnNlQWRtaW4oY291cnNlSWQ6IHN0cmluZykgOiBib29sZWFuIHsgcmV0dXJuIGZhbHNlOyB9XHJcbiAgICAgICAgcHVibGljIGlzTWUoZW1haWw6IHN0cmluZykgOiBib29sZWFuIHsgcmV0dXJuIGZhbHNlOyB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGxldCB0aGVVc2VyOiBVc2VyQmFzZSA9IG5ldyBVbmF1dGhlbnRpY2F0ZWRVc2VyKCk7XHJcblxyXG59IC8vIGVuZCBVc2VyIG5hbWVzcGFjZVxyXG5cclxuXHJcbi8vIEdpdmUgd2FybmluZyB0byB1c2VycyBpbiBTYWZhcmkvaU9TIHByaXZhdGUgYnJvd3NpbmdcclxuLy8gbW9kZSB0aGF0IEdvb2dsZSBzaWduLWluIHdvbid0IHdvcmsuXHJcbi8vIFRPRE86IEknbSBub3QgY29udmluY2VkIHRoaXMgYWN0dWFsbHkgZG9lcyBhbnl0aGluZ1xyXG4vL2h0dHBzOi8vZ2lzdC5naXRodWIuY29tL3BoaWxmcmVvLzY4ZWEzY2Q5ODBkNzIzODNjOTUxXHJcbmlmICh0eXBlb2Ygc2Vzc2lvblN0b3JhZ2UgPT09ICdvYmplY3QnKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2xvY2FsU3RvcmFnZScsIFwiMVwiKTtcclxuICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCdsb2NhbFN0b3JhZ2UnKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBvb3BzKG51bGwsIFwiSXQgbG9va3MgbGlrZSBsb2NhbCBzdG9yYWdlIGlzIGRpc2FibGVkIGluIHlvdXIgYnJvd3Nlci4gVGhpcyBtYXkgYWdncmF2YXRlIGFuIGlzc3VlIHdpdGggR29vZ2xlIHNpZ24taW4gb24gU2FmYXJpIG9yIGlPUyB3aGlsZSB1c2luZyBwcml2YXRlIGJyb3dzaW5nIG1vZGUuXCIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBvb3BzKHhocjogYW55LCB0ZXh0U3RhdHVzOiBhbnkpe1xyXG4gICAgaWYgKHRleHRTdGF0dXMgPT09IFwiYWJvcnRcIikgeyByZXR1cm47IH1cclxuICAgIGNvbnNvbGUubG9nKFwiT29wcy4gQW4gZXJyb3Igb2NjdXJyZWQuIFRyeSByZWZyZXNoaW5nIHRoZSBwYWdlLlwiKTtcclxuICAgICQoXCIjb29wc0RpYWxvZ1wiKS5tb2RhbChcInNob3dcIik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3dFcnJvck1lc3NhZ2UobWVzc2FnZTogYW55KSB7XHJcbiAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTtcclxuICAgICQoXCIjZXJyb3JNZXNzYWdlXCIpLmh0bWwobWVzc2FnZSk7XHJcbiAgICAkKFwiI2Vycm9yRGlhbG9nXCIpLm1vZGFsKFwic2hvd1wiKTtcclxufVxyXG4iLCJcclxuaW1wb3J0IHB1bGwgZnJvbSBcImxvZGFzaC9wdWxsXCI7XHJcblxyXG5pbnRlcmZhY2UgTWVzc2FnZSB7XHJcbiAgICBjYXRlZ29yeTogc3RyaW5nO1xyXG4gICAgZGF0YToge307XHJcbiAgICBzb3VyY2U6IGFueTtcclxufVxyXG5cclxuXHJcbi8vIGludGVyZmFjZSBPYnNlcnZhYmxlVHlwZSB7XHJcbi8vICAgICBzZW5kKGNhdGVnb3J5OiBzdHJpbmcsIGRhdGE6IGFueSkgOiB2b2lkO1xyXG4vLyAgICAgYWRkTGlzdGVuZXIobGlzdGVuZXI6IE9ic2VydmVyVHlwZSwgY2F0ZWdvcnk/OiBzdHJpbmcgfCBzdHJpbmdbXSkgOiBPYnNlcnZhYmxlVHlwZTtcclxuLy8gICAgIHJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyOiBPYnNlcnZlclR5cGUsIGNhdGVnb3J5Pzogc3RyaW5nKSA6IE9ic2VydmFibGVUeXBlO1xyXG4vLyAgICAgaWRlbnRpZnkoY2F0ZWdvcnk6IHN0cmluZywgZnVuYzogKG86T2JzZXJ2ZXJUeXBlKSA9PiBhbnkpIDogT2JzZXJ2ZXJUeXBlO1xyXG4vLyB9XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWRkTGlzdGVuZXIob2JqV2l0aE9ic2VydmFibGU6IHtvYnNlcnZhYmxlOiBPYnNlcnZhYmxlfSwgbGlzdGVuZXI6IE9ic2VydmVyVHlwZSwgY2F0ZWdvcnk/OiBzdHJpbmcgfCBzdHJpbmdbXSkge1xyXG4gICAgb2JqV2l0aE9ic2VydmFibGUub2JzZXJ2YWJsZS5hZGRMaXN0ZW5lcihsaXN0ZW5lciwgY2F0ZWdvcnkpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWVzc2FnZVJlc3BvbnNlKG1lc3NhZ2VDYXRlZ29yeT86IHN0cmluZykge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQ6IGFueSwgcHJvcGVydHlLZXk6IHN0cmluZywgZGVzY3JpcHRvcjogUHJvcGVydHlEZXNjcmlwdG9yKSB7XHJcbiAgICAgICAgaWYgKCF0YXJnZXQuX2FjdCkgeyB0YXJnZXQuX2FjdCA9IHt9OyB9XHJcbiAgICAgICAgdGFyZ2V0Ll9hY3RbbWVzc2FnZUNhdGVnb3J5IHx8IHByb3BlcnR5S2V5XSA9IHRhcmdldFtwcm9wZXJ0eUtleV07XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2VSZXNwb25zZXMge1xyXG4gICAgW2luZGV4OiBzdHJpbmddOiAoKG1zZzogTWVzc2FnZSkgPT4gdm9pZCk7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgT2JzZXJ2ZXJUeXBlIHtcclxuICAgIF9hY3QgOiBNZXNzYWdlUmVzcG9uc2VzO1xyXG59XHJcblxyXG4vLyBleHBvcnQgY2xhc3MgT2JzZXJ2ZXIge1xyXG4vLyAgICAgcHJpdmF0ZSByZWFkb25seSBhY3RvcjogQWN0b3I7XHJcblxyXG4vLyAgICAgY29uc3RydWN0b3IoYWN0b3I6IEFjdG9yKSB7XHJcbi8vICAgICAgICAgdGhpcy5hY3RvciA9IGFjdG9yO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBfSURFTlRJRlkobXNnIDoge2RhdGE6KG86YW55KSA9PiB2b2lkfSkge1xyXG4vLyAgICAgICAgIG1zZy5kYXRhKHRoaXMpO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBsaXN0ZW5UbyhvdGhlcjogT2JzZXJ2YWJsZVR5cGUsIGNhdGVnb3J5OiBzdHJpbmcpIHtcclxuLy8gICAgICAgICBvdGhlci5hZGRMaXN0ZW5lcih0aGlzLCBjYXRlZ29yeSk7XHJcbi8vICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIHN0b3BMaXN0ZW5pbmdUbyhvdGhlcjogT2JzZXJ2YWJsZVR5cGUsIGNhdGVnb3J5OiBzdHJpbmcpIHtcclxuLy8gICAgICAgICBpZiAob3RoZXIpIHtcclxuLy8gICAgICAgICAgICAgb3RoZXIucmVtb3ZlTGlzdGVuZXIodGhpcywgY2F0ZWdvcnkpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICByZXR1cm4gdGhpcztcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgcmVjdiAobXNnIDogTWVzc2FnZSkge1xyXG5cclxuLy8gICAgICAgICAvLyBDYWxsIHRoZSBcIl9hY3RcIiBmdW5jdGlvbiBmb3IgdGhpc1xyXG4vLyAgICAgICAgIHZhciBjYXRBY3QgPSB0aGlzLmFjdG9yLl9hY3RbbXNnLmNhdGVnb3J5XTtcclxuLy8gICAgICAgICBpZiAoY2F0QWN0KXtcclxuLy8gICAgICAgICAgICAgY2F0QWN0LmNhbGwodGhpcy5hY3RvciwgbXNnKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZSBpZiAodGhpcy5hY3Rvci5fYWN0Ll9kZWZhdWx0KSB7XHJcbi8vICAgICAgICAgICAgIHRoaXMuYWN0b3IuX2FjdC5fZGVmYXVsdC5jYWxsKHRoaXMuYWN0b3IsIG1zZyk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2Uge1xyXG4vLyAgICAgICAgICAgICBhc3NlcnQoZmFsc2UpO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICB9XHJcbi8vIH1cclxuXHJcbmZ1bmN0aW9uIHJlY2VpdmVNZXNzYWdlKG9ic2VydmVyOiBPYnNlcnZlclR5cGUsIG1zZzogTWVzc2FnZSkge1xyXG4gICAgdmFyIGNhdEFjdCA9IG9ic2VydmVyLl9hY3RbbXNnLmNhdGVnb3J5XTtcclxuICAgIGlmIChjYXRBY3Qpe1xyXG4gICAgICAgIGNhdEFjdC5jYWxsKG9ic2VydmVyLCBtc2cpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAob2JzZXJ2ZXIuX2FjdC5fZGVmYXVsdCkge1xyXG4gICAgICAgIG9ic2VydmVyLl9hY3QuX2RlZmF1bHQuY2FsbChvYnNlcnZlciwgbXNnKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGFzc2VydChmYWxzZSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBPYnNlcnZhYmxlIHtcclxuICAgIHByaXZhdGUgc2lsZW50ID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIHVuaXZlcnNhbE9ic2VydmVyczogT2JzZXJ2ZXJUeXBlW10gPSBbXTtcclxuICAgIHByaXZhdGUgb2JzZXJ2ZXJzOiB7W2luZGV4OiBzdHJpbmddIDogT2JzZXJ2ZXJUeXBlW119ID0ge307XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBzb3VyY2U6IGFueTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2U6IGFueSkge1xyXG4gICAgICAgIHRoaXMuc291cmNlID0gc291cmNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZW5kKGNhdGVnb3J5OiBzdHJpbmcsIGRhdGE/OiBhbnkpIHtcclxuICAgICAgICBpZiAodGhpcy5zaWxlbnQpe1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBtc2c6IE1lc3NhZ2UgPSB7XHJcbiAgICAgICAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeSxcclxuICAgICAgICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgICAgICAgc291cmNlOiB0aGlzLnNvdXJjZVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGxldCBvYnNlcnZlcnMgPSB0aGlzLm9ic2VydmVyc1ttc2cuY2F0ZWdvcnldO1xyXG4gICAgICAgIGlmIChvYnNlcnZlcnMpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYnNlcnZlcnMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIHJlY2VpdmVNZXNzYWdlKG9ic2VydmVyc1tpXSwgbXNnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnVuaXZlcnNhbE9ic2VydmVycy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICByZWNlaXZlTWVzc2FnZSh0aGlzLnVuaXZlcnNhbE9ic2VydmVyc1tpXSwgbXNnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZExpc3RlbmVyKGxpc3RlbmVyOiBPYnNlcnZlclR5cGUsIGNhdGVnb3J5Pzogc3RyaW5nIHwgc3RyaW5nW10pIHtcclxuICAgICAgICBpZiAoY2F0ZWdvcnkpIHtcclxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2F0ZWdvcnkpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSdzIGFuIGFycmF5IG9mIGNhdGVnb3JpZXMsIGFkZCB0byBhbGwgaW5kaXZpZHVhbGx5XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhdGVnb3J5Lmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRMaXN0ZW5lcihsaXN0ZW5lciwgY2F0ZWdvcnlbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm9ic2VydmVyc1tjYXRlZ29yeV0pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9ic2VydmVyc1tjYXRlZ29yeV0gPSBbXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXJzW2NhdGVnb3J5XS5wdXNoKGxpc3RlbmVyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXJBZGRlZChsaXN0ZW5lciwgY2F0ZWdvcnkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIC8vIGlmIG5vIGNhdGVnb3J5LCBpbnRlbnQgaXMgdG8gbGlzdGVuIHRvIGV2ZXJ5dGhpbmdcclxuICAgICAgICAgICAgdGhpcy51bml2ZXJzYWxPYnNlcnZlcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJBZGRlZChsaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgTm90ZTogdG8gcmVtb3ZlIGEgdW5pdmVyc2FsIGxpc3RlbmVyLCB5b3UgbXVzdCBjYWxsIHRoaXMgd2l0aCBjYXRlZ29yeT09ZmFsc2UuXHJcbiAgICBJZiBhIGxpc3RlbmVyIGlzIHVuaXZlcnNhbCwgcmVtb3ZpbmcgaXQgZnJvbSBhIHBhcnRpY3VsYXIgY2F0ZWdvcnkgd29uJ3QgZG8gYW55dGhpbmcuXHJcbiAgICAqL1xyXG4gICAgcHVibGljIHJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyOiBPYnNlcnZlclR5cGUsIGNhdGVnb3J5Pzogc3RyaW5nKSB7XHJcbiAgICAgICAgaWYoY2F0ZWdvcnkpIHtcclxuICAgICAgICAgICAgLy8gUmVtb3ZlIGZyb20gdGhlIGxpc3QgZm9yIGEgc3BlY2lmaWMgY2F0ZWdvcnkgKGlmIGxpc3QgZXhpc3RzKVxyXG4gICAgICAgICAgICBsZXQgb2JzZXJ2ZXJzID0gdGhpcy5vYnNlcnZlcnNbY2F0ZWdvcnldO1xyXG4gICAgICAgICAgICBvYnNlcnZlcnMgJiYgcHVsbChvYnNlcnZlcnMsIGxpc3RlbmVyKTtcclxuICAgICAgICAgICAgdGhpcy5saXN0ZW5lclJlbW92ZWQobGlzdGVuZXIsIGNhdGVnb3J5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgLy8gUmVtb3ZlIGZyb20gYWxsIGNhdGVnb3JpZXNcclxuICAgICAgICAgICAgZm9yKHZhciBjYXQgaW4gdGhpcy5vYnNlcnZlcnMpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcihsaXN0ZW5lciwgY2F0KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQWxzbyByZW1vdmUgZnJvbSB1bml2ZXJzYWwgbGlzdGVuZXJzXHJcbiAgICAgICAgICAgIHB1bGwodGhpcy51bml2ZXJzYWxPYnNlcnZlcnMsIGxpc3RlbmVyKTtcclxuICAgICAgICAgICAgdGhpcy5saXN0ZW5lclJlbW92ZWQobGlzdGVuZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgbGlzdGVuZXJBZGRlZChsaXN0ZW5lcjogT2JzZXJ2ZXJUeXBlLCBjYXRlZ29yeT86IHN0cmluZykgOiB2b2lkIHsgfVxyXG4gICAgcHJvdGVjdGVkIGxpc3RlbmVyUmVtb3ZlZChsaXN0ZW5lcjogT2JzZXJ2ZXJUeXBlLCBjYXRlZ29yeT86IHN0cmluZykgOiB2b2lkIHsgfVxyXG5cclxuICAgIC8vIHB1YmxpYyBpZGVudGlmeShjYXRlZ29yeTogc3RyaW5nLCBmdW5jOiAobzpPYnNlcnZlclR5cGUpID0+IGFueSkge1xyXG4gICAgLy8gICAgIGxldCBvdGhlciEgOiBPYnNlcnZlclR5cGU7IC8vIFVzZXMgZGVmaW5pdGUgYXNzaWdubWVudCBhbm5vdGF0aW9uIHNpbmNlIHRoZSBmdW5jdGlvbiBpcyBhc3N1bWVkIHRvIGFzc2lnbiB0byBvdGhlclxyXG4gICAgLy8gICAgIHRoaXMuc2VuZChjYXRlZ29yeSwgZnVuYyB8fCBmdW5jdGlvbihvOk9ic2VydmVyVHlwZSkge290aGVyID0gbzt9KTtcclxuICAgIC8vICAgICByZXR1cm4gb3RoZXI7XHJcbiAgICAvLyB9XHJcblxyXG59XHJcbiIsInZhciBiYXNlUmVzdCA9IHJlcXVpcmUoJy4vX2Jhc2VSZXN0JyksXG4gICAgcHVsbEFsbCA9IHJlcXVpcmUoJy4vcHVsbEFsbCcpO1xuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGdpdmVuIHZhbHVlcyBmcm9tIGBhcnJheWAgdXNpbmdcbiAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gKlxuICogKipOb3RlOioqIFVubGlrZSBgXy53aXRob3V0YCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLiBVc2UgYF8ucmVtb3ZlYFxuICogdG8gcmVtb3ZlIGVsZW1lbnRzIGZyb20gYW4gYXJyYXkgYnkgcHJlZGljYXRlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMi4wLjBcbiAqIEBjYXRlZ29yeSBBcnJheVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdhJywgJ2InLCAnYyddO1xuICpcbiAqIF8ucHVsbChhcnJheSwgJ2EnLCAnYycpO1xuICogY29uc29sZS5sb2coYXJyYXkpO1xuICogLy8gPT4gWydiJywgJ2InXVxuICovXG52YXIgcHVsbCA9IGJhc2VSZXN0KHB1bGxBbGwpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHB1bGw7XG4iLCJ2YXIgaWRlbnRpdHkgPSByZXF1aXJlKCcuL2lkZW50aXR5JyksXG4gICAgb3ZlclJlc3QgPSByZXF1aXJlKCcuL19vdmVyUmVzdCcpLFxuICAgIHNldFRvU3RyaW5nID0gcmVxdWlyZSgnLi9fc2V0VG9TdHJpbmcnKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZXN0YCB3aGljaCBkb2Vzbid0IHZhbGlkYXRlIG9yIGNvZXJjZSBhcmd1bWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVJlc3QoZnVuYywgc3RhcnQpIHtcbiAgcmV0dXJuIHNldFRvU3RyaW5nKG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCBpZGVudGl0eSksIGZ1bmMgKyAnJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZVJlc3Q7XG4iLCJ2YXIgYXBwbHkgPSByZXF1aXJlKCcuL19hcHBseScpO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlTWF4ID0gTWF0aC5tYXg7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUmVzdGAgd2hpY2ggdHJhbnNmb3JtcyB0aGUgcmVzdCBhcnJheS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgcmVzdCBhcnJheSB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb3ZlclJlc3QoZnVuYywgc3RhcnQsIHRyYW5zZm9ybSkge1xuICBzdGFydCA9IG5hdGl2ZU1heChzdGFydCA9PT0gdW5kZWZpbmVkID8gKGZ1bmMubGVuZ3RoIC0gMSkgOiBzdGFydCwgMCk7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3MubGVuZ3RoIC0gc3RhcnQsIDApLFxuICAgICAgICBhcnJheSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYXJyYXlbaW5kZXhdID0gYXJnc1tzdGFydCArIGluZGV4XTtcbiAgICB9XG4gICAgaW5kZXggPSAtMTtcbiAgICB2YXIgb3RoZXJBcmdzID0gQXJyYXkoc3RhcnQgKyAxKTtcbiAgICB3aGlsZSAoKytpbmRleCA8IHN0YXJ0KSB7XG4gICAgICBvdGhlckFyZ3NbaW5kZXhdID0gYXJnc1tpbmRleF07XG4gICAgfVxuICAgIG90aGVyQXJnc1tzdGFydF0gPSB0cmFuc2Zvcm0oYXJyYXkpO1xuICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG92ZXJSZXN0O1xuIiwiLyoqXG4gKiBBIGZhc3RlciBhbHRlcm5hdGl2ZSB0byBgRnVuY3Rpb24jYXBwbHlgLCB0aGlzIGZ1bmN0aW9uIGludm9rZXMgYGZ1bmNgXG4gKiB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiBgdGhpc0FyZ2AgYW5kIHRoZSBhcmd1bWVudHMgb2YgYGFyZ3NgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gKiBAcGFyYW0geyp9IHRoaXNBcmcgVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIGBmdW5jYC5cbiAqL1xuZnVuY3Rpb24gYXBwbHkoZnVuYywgdGhpc0FyZywgYXJncykge1xuICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgY2FzZSAwOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcpO1xuICAgIGNhc2UgMTogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdKTtcbiAgICBjYXNlIDI6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgY2FzZSAzOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICB9XG4gIHJldHVybiBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFwcGx5O1xuIiwidmFyIGJhc2VTZXRUb1N0cmluZyA9IHJlcXVpcmUoJy4vX2Jhc2VTZXRUb1N0cmluZycpLFxuICAgIHNob3J0T3V0ID0gcmVxdWlyZSgnLi9fc2hvcnRPdXQnKTtcblxuLyoqXG4gKiBTZXRzIHRoZSBgdG9TdHJpbmdgIG1ldGhvZCBvZiBgZnVuY2AgdG8gcmV0dXJuIGBzdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAqL1xudmFyIHNldFRvU3RyaW5nID0gc2hvcnRPdXQoYmFzZVNldFRvU3RyaW5nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBzZXRUb1N0cmluZztcbiIsInZhciBjb25zdGFudCA9IHJlcXVpcmUoJy4vY29uc3RhbnQnKSxcbiAgICBkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX2RlZmluZVByb3BlcnR5JyksXG4gICAgaWRlbnRpdHkgPSByZXF1aXJlKCcuL2lkZW50aXR5Jyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldFRvU3RyaW5nYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAqL1xudmFyIGJhc2VTZXRUb1N0cmluZyA9ICFkZWZpbmVQcm9wZXJ0eSA/IGlkZW50aXR5IDogZnVuY3Rpb24oZnVuYywgc3RyaW5nKSB7XG4gIHJldHVybiBkZWZpbmVQcm9wZXJ0eShmdW5jLCAndG9TdHJpbmcnLCB7XG4gICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgJ2VudW1lcmFibGUnOiBmYWxzZSxcbiAgICAndmFsdWUnOiBjb25zdGFudChzdHJpbmcpLFxuICAgICd3cml0YWJsZSc6IHRydWVcbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VTZXRUb1N0cmluZztcbiIsIi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBgdmFsdWVgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMi40LjBcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZXR1cm4gZnJvbSB0aGUgbmV3IGZ1bmN0aW9uLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29uc3RhbnQgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3RzID0gXy50aW1lcygyLCBfLmNvbnN0YW50KHsgJ2EnOiAxIH0pKTtcbiAqXG4gKiBjb25zb2xlLmxvZyhvYmplY3RzKTtcbiAqIC8vID0+IFt7ICdhJzogMSB9LCB7ICdhJzogMSB9XVxuICpcbiAqIGNvbnNvbGUubG9nKG9iamVjdHNbMF0gPT09IG9iamVjdHNbMV0pO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBjb25zdGFudCh2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnN0YW50O1xuIiwidmFyIGdldE5hdGl2ZSA9IHJlcXVpcmUoJy4vX2dldE5hdGl2ZScpO1xuXG52YXIgZGVmaW5lUHJvcGVydHkgPSAoZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgdmFyIGZ1bmMgPSBnZXROYXRpdmUoT2JqZWN0LCAnZGVmaW5lUHJvcGVydHknKTtcbiAgICBmdW5jKHt9LCAnJywge30pO1xuICAgIHJldHVybiBmdW5jO1xuICB9IGNhdGNoIChlKSB7fVxufSgpKTtcblxubW9kdWxlLmV4cG9ydHMgPSBkZWZpbmVQcm9wZXJ0eTtcbiIsInZhciBiYXNlSXNOYXRpdmUgPSByZXF1aXJlKCcuL19iYXNlSXNOYXRpdmUnKSxcbiAgICBnZXRWYWx1ZSA9IHJlcXVpcmUoJy4vX2dldFZhbHVlJyk7XG5cbi8qKlxuICogR2V0cyB0aGUgbmF0aXZlIGZ1bmN0aW9uIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZCB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG4gKi9cbmZ1bmN0aW9uIGdldE5hdGl2ZShvYmplY3QsIGtleSkge1xuICB2YXIgdmFsdWUgPSBnZXRWYWx1ZShvYmplY3QsIGtleSk7XG4gIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0TmF0aXZlO1xuIiwidmFyIGlzRnVuY3Rpb24gPSByZXF1aXJlKCcuL2lzRnVuY3Rpb24nKSxcbiAgICBpc01hc2tlZCA9IHJlcXVpcmUoJy4vX2lzTWFza2VkJyksXG4gICAgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzT2JqZWN0JyksXG4gICAgdG9Tb3VyY2UgPSByZXF1aXJlKCcuL190b1NvdXJjZScpO1xuXG4vKipcbiAqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGBcbiAqIFtzeW50YXggY2hhcmFjdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcGF0dGVybnMpLlxuICovXG52YXIgcmVSZWdFeHBDaGFyID0gL1tcXFxcXiQuKis/KClbXFxde318XS9nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovXG52YXIgcmVJc0hvc3RDdG9yID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLztcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUuICovXG52YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICBmdW5jVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywgJyQxLio/JykgKyAnJCdcbik7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYXRpdmVgIHdpdGhvdXQgYmFkIHNoaW0gY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzTmF0aXZlKHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpIHx8IGlzTWFza2VkKHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcGF0dGVybiA9IGlzRnVuY3Rpb24odmFsdWUpID8gcmVJc05hdGl2ZSA6IHJlSXNIb3N0Q3RvcjtcbiAgcmV0dXJuIHBhdHRlcm4udGVzdCh0b1NvdXJjZSh2YWx1ZSkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VJc05hdGl2ZTtcbiIsInZhciBiYXNlR2V0VGFnID0gcmVxdWlyZSgnLi9fYmFzZUdldFRhZycpLFxuICAgIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgYXN5bmNUYWcgPSAnW29iamVjdCBBc3luY0Z1bmN0aW9uXScsXG4gICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxcbiAgICBwcm94eVRhZyA9ICdbb2JqZWN0IFByb3h5XSc7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBGdW5jdGlvbmAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0Z1bmN0aW9uKF8pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuICAvLyBpbiBTYWZhcmkgOSB3aGljaCByZXR1cm5zICdvYmplY3QnIGZvciB0eXBlZCBhcnJheXMgYW5kIG90aGVyIGNvbnN0cnVjdG9ycy5cbiAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICByZXR1cm4gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZyB8fCB0YWcgPT0gYXN5bmNUYWcgfHwgdGFnID09IHByb3h5VGFnO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzRnVuY3Rpb247XG4iLCIvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZyZWVHbG9iYWw7XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJ2YXIgU3ltYm9sID0gcmVxdWlyZSgnLi9fU3ltYm9sJyk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VHZXRUYWdgIHdoaWNoIGlnbm9yZXMgYFN5bWJvbC50b1N0cmluZ1RhZ2AgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBnZXRSYXdUYWcodmFsdWUpIHtcbiAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuICAgICAgdGFnID0gdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuXG4gIHRyeSB7XG4gICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgIHZhciB1bm1hc2tlZCA9IHRydWU7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdmFyIHJlc3VsdCA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICBpZiAodW5tYXNrZWQpIHtcbiAgICBpZiAoaXNPd24pIHtcbiAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHRhZztcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRSYXdUYWc7XG4iLCIvKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIHVzaW5nIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBvYmplY3RUb1N0cmluZztcbiIsInZhciBjb3JlSnNEYXRhID0gcmVxdWlyZSgnLi9fY29yZUpzRGF0YScpO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xudmFyIG1hc2tTcmNLZXkgPSAoZnVuY3Rpb24oKSB7XG4gIHZhciB1aWQgPSAvW14uXSskLy5leGVjKGNvcmVKc0RhdGEgJiYgY29yZUpzRGF0YS5rZXlzICYmIGNvcmVKc0RhdGEua2V5cy5JRV9QUk9UTyB8fCAnJyk7XG4gIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbn0oKSk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgaXRzIHNvdXJjZSBtYXNrZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNNYXNrZWQoZnVuYykge1xuICByZXR1cm4gISFtYXNrU3JjS2V5ICYmIChtYXNrU3JjS2V5IGluIGZ1bmMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzTWFza2VkO1xuIiwidmFyIHJvb3QgPSByZXF1aXJlKCcuL19yb290Jyk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbnZhciBjb3JlSnNEYXRhID0gcm9vdFsnX19jb3JlLWpzX3NoYXJlZF9fJ107XG5cbm1vZHVsZS5leHBvcnRzID0gY29yZUpzRGF0YTtcbiIsIi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbi8qKlxuICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNvdXJjZSBjb2RlLlxuICovXG5mdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiAnJztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0b1NvdXJjZTtcbiIsIi8qKlxuICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGdldFZhbHVlKG9iamVjdCwga2V5KSB7XG4gIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFZhbHVlO1xuIiwiLyoqIFVzZWQgdG8gZGV0ZWN0IGhvdCBmdW5jdGlvbnMgYnkgbnVtYmVyIG9mIGNhbGxzIHdpdGhpbiBhIHNwYW4gb2YgbWlsbGlzZWNvbmRzLiAqL1xudmFyIEhPVF9DT1VOVCA9IDgwMCxcbiAgICBIT1RfU1BBTiA9IDE2O1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlTm93ID0gRGF0ZS5ub3c7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQnbGwgc2hvcnQgb3V0IGFuZCBpbnZva2UgYGlkZW50aXR5YCBpbnN0ZWFkXG4gKiBvZiBgZnVuY2Agd2hlbiBpdCdzIGNhbGxlZCBgSE9UX0NPVU5UYCBvciBtb3JlIHRpbWVzIGluIGBIT1RfU1BBTmBcbiAqIG1pbGxpc2Vjb25kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzaG9ydGFibGUgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIHNob3J0T3V0KGZ1bmMpIHtcbiAgdmFyIGNvdW50ID0gMCxcbiAgICAgIGxhc3RDYWxsZWQgPSAwO1xuXG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RhbXAgPSBuYXRpdmVOb3coKSxcbiAgICAgICAgcmVtYWluaW5nID0gSE9UX1NQQU4gLSAoc3RhbXAgLSBsYXN0Q2FsbGVkKTtcblxuICAgIGxhc3RDYWxsZWQgPSBzdGFtcDtcbiAgICBpZiAocmVtYWluaW5nID4gMCkge1xuICAgICAgaWYgKCsrY291bnQgPj0gSE9UX0NPVU5UKSB7XG4gICAgICAgIHJldHVybiBhcmd1bWVudHNbMF07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvdW50ID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmMuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNob3J0T3V0O1xuIiwidmFyIGJhc2VQdWxsQWxsID0gcmVxdWlyZSgnLi9fYmFzZVB1bGxBbGwnKTtcblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnB1bGxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYW4gYXJyYXkgb2YgdmFsdWVzIHRvIHJlbW92ZS5cbiAqXG4gKiAqKk5vdGU6KiogVW5saWtlIGBfLmRpZmZlcmVuY2VgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IEFycmF5XG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnYScsICdiJywgJ2MnXTtcbiAqXG4gKiBfLnB1bGxBbGwoYXJyYXksIFsnYScsICdjJ10pO1xuICogY29uc29sZS5sb2coYXJyYXkpO1xuICogLy8gPT4gWydiJywgJ2InXVxuICovXG5mdW5jdGlvbiBwdWxsQWxsKGFycmF5LCB2YWx1ZXMpIHtcbiAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGggJiYgdmFsdWVzICYmIHZhbHVlcy5sZW5ndGgpXG4gICAgPyBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzKVxuICAgIDogYXJyYXk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcHVsbEFsbDtcbiIsInZhciBhcnJheU1hcCA9IHJlcXVpcmUoJy4vX2FycmF5TWFwJyksXG4gICAgYmFzZUluZGV4T2YgPSByZXF1aXJlKCcuL19iYXNlSW5kZXhPZicpLFxuICAgIGJhc2VJbmRleE9mV2l0aCA9IHJlcXVpcmUoJy4vX2Jhc2VJbmRleE9mV2l0aCcpLFxuICAgIGJhc2VVbmFyeSA9IHJlcXVpcmUoJy4vX2Jhc2VVbmFyeScpLFxuICAgIGNvcHlBcnJheSA9IHJlcXVpcmUoJy4vX2NvcHlBcnJheScpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgYXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgc3BsaWNlID0gYXJyYXlQcm90by5zcGxpY2U7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHVsbEFsbEJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gKiBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VQdWxsQWxsKGFycmF5LCB2YWx1ZXMsIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gIHZhciBpbmRleE9mID0gY29tcGFyYXRvciA/IGJhc2VJbmRleE9mV2l0aCA6IGJhc2VJbmRleE9mLFxuICAgICAgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICBzZWVuID0gYXJyYXk7XG5cbiAgaWYgKGFycmF5ID09PSB2YWx1ZXMpIHtcbiAgICB2YWx1ZXMgPSBjb3B5QXJyYXkodmFsdWVzKTtcbiAgfVxuICBpZiAoaXRlcmF0ZWUpIHtcbiAgICBzZWVuID0gYXJyYXlNYXAoYXJyYXksIGJhc2VVbmFyeShpdGVyYXRlZSkpO1xuICB9XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGZyb21JbmRleCA9IDAsXG4gICAgICAgIHZhbHVlID0gdmFsdWVzW2luZGV4XSxcbiAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgd2hpbGUgKChmcm9tSW5kZXggPSBpbmRleE9mKHNlZW4sIGNvbXB1dGVkLCBmcm9tSW5kZXgsIGNvbXBhcmF0b3IpKSA+IC0xKSB7XG4gICAgICBpZiAoc2VlbiAhPT0gYXJyYXkpIHtcbiAgICAgICAgc3BsaWNlLmNhbGwoc2VlbiwgZnJvbUluZGV4LCAxKTtcbiAgICAgIH1cbiAgICAgIHNwbGljZS5jYWxsKGFycmF5LCBmcm9tSW5kZXgsIDEpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZVB1bGxBbGw7XG4iLCJ2YXIgYmFzZUZpbmRJbmRleCA9IHJlcXVpcmUoJy4vX2Jhc2VGaW5kSW5kZXgnKSxcbiAgICBiYXNlSXNOYU4gPSByZXF1aXJlKCcuL19iYXNlSXNOYU4nKSxcbiAgICBzdHJpY3RJbmRleE9mID0gcmVxdWlyZSgnLi9fc3RyaWN0SW5kZXhPZicpO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmluZGV4T2ZgIHdpdGhvdXQgYGZyb21JbmRleGAgYm91bmRzIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICovXG5mdW5jdGlvbiBiYXNlSW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICByZXR1cm4gdmFsdWUgPT09IHZhbHVlXG4gICAgPyBzdHJpY3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KVxuICAgIDogYmFzZUZpbmRJbmRleChhcnJheSwgYmFzZUlzTmFOLCBmcm9tSW5kZXgpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VJbmRleE9mO1xuIiwiLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5maW5kSW5kZXhgIGFuZCBgXy5maW5kTGFzdEluZGV4YCB3aXRob3V0XG4gKiBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VGaW5kSW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4LCBmcm9tUmlnaHQpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgIGluZGV4ID0gZnJvbUluZGV4ICsgKGZyb21SaWdodCA/IDEgOiAtMSk7XG5cbiAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkpIHtcbiAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUZpbmRJbmRleDtcbiIsIi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYU5gIHdpdGhvdXQgc3VwcG9ydCBmb3IgbnVtYmVyIG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYE5hTmAsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzTmFOKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUlzTmFOO1xuIiwiLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uaW5kZXhPZmAgd2hpY2ggcGVyZm9ybXMgc3RyaWN0IGVxdWFsaXR5XG4gKiBjb21wYXJpc29ucyBvZiB2YWx1ZXMsIGkuZS4gYD09PWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAqL1xuZnVuY3Rpb24gc3RyaWN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICB2YXIgaW5kZXggPSBmcm9tSW5kZXggLSAxLFxuICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgaWYgKGFycmF5W2luZGV4XSA9PT0gdmFsdWUpIHtcbiAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0cmljdEluZGV4T2Y7XG4iLCIvKipcbiAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYmFzZUluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYSBjb21wYXJhdG9yLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmF0b3IgVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJbmRleE9mV2l0aChhcnJheSwgdmFsdWUsIGZyb21JbmRleCwgY29tcGFyYXRvcikge1xuICB2YXIgaW5kZXggPSBmcm9tSW5kZXggLSAxLFxuICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgaWYgKGNvbXBhcmF0b3IoYXJyYXlbaW5kZXhdLCB2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VJbmRleE9mV2l0aDtcbiIsIi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5hcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3Igc3RvcmluZyBtZXRhZGF0YS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VVbmFyeShmdW5jKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlVW5hcnk7XG4iLCIvKipcbiAqIENvcGllcyB0aGUgdmFsdWVzIG9mIGBzb3VyY2VgIHRvIGBhcnJheWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IHNvdXJjZSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgZnJvbS5cbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheT1bXV0gVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIHRvLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gKi9cbmZ1bmN0aW9uIGNvcHlBcnJheShzb3VyY2UsIGFycmF5KSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gc291cmNlLmxlbmd0aDtcblxuICBhcnJheSB8fCAoYXJyYXkgPSBBcnJheShsZW5ndGgpKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBhcnJheVtpbmRleF0gPSBzb3VyY2VbaW5kZXhdO1xuICB9XG4gIHJldHVybiBhcnJheTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjb3B5QXJyYXk7XG4iLCJ2YXIgZXNjYXBlSHRtbENoYXIgPSByZXF1aXJlKCcuL19lc2NhcGVIdG1sQ2hhcicpLFxuICAgIHRvU3RyaW5nID0gcmVxdWlyZSgnLi90b1N0cmluZycpO1xuXG4vKiogVXNlZCB0byBtYXRjaCBIVE1MIGVudGl0aWVzIGFuZCBIVE1MIGNoYXJhY3RlcnMuICovXG52YXIgcmVVbmVzY2FwZWRIdG1sID0gL1smPD5cIiddL2csXG4gICAgcmVIYXNVbmVzY2FwZWRIdG1sID0gUmVnRXhwKHJlVW5lc2NhcGVkSHRtbC5zb3VyY2UpO1xuXG4vKipcbiAqIENvbnZlcnRzIHRoZSBjaGFyYWN0ZXJzIFwiJlwiLCBcIjxcIiwgXCI+XCIsICdcIicsIGFuZCBcIidcIiBpbiBgc3RyaW5nYCB0byB0aGVpclxuICogY29ycmVzcG9uZGluZyBIVE1MIGVudGl0aWVzLlxuICpcbiAqICoqTm90ZToqKiBObyBvdGhlciBjaGFyYWN0ZXJzIGFyZSBlc2NhcGVkLiBUbyBlc2NhcGUgYWRkaXRpb25hbFxuICogY2hhcmFjdGVycyB1c2UgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5IGxpa2UgW19oZV9dKGh0dHBzOi8vbXRocy5iZS9oZSkuXG4gKlxuICogVGhvdWdoIHRoZSBcIj5cIiBjaGFyYWN0ZXIgaXMgZXNjYXBlZCBmb3Igc3ltbWV0cnksIGNoYXJhY3RlcnMgbGlrZVxuICogXCI+XCIgYW5kIFwiL1wiIGRvbid0IG5lZWQgZXNjYXBpbmcgaW4gSFRNTCBhbmQgaGF2ZSBubyBzcGVjaWFsIG1lYW5pbmdcbiAqIHVubGVzcyB0aGV5J3JlIHBhcnQgb2YgYSB0YWcgb3IgdW5xdW90ZWQgYXR0cmlidXRlIHZhbHVlLiBTZWVcbiAqIFtNYXRoaWFzIEJ5bmVucydzIGFydGljbGVdKGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9hbWJpZ3VvdXMtYW1wZXJzYW5kcylcbiAqICh1bmRlciBcInNlbWktcmVsYXRlZCBmdW4gZmFjdFwiKSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFdoZW4gd29ya2luZyB3aXRoIEhUTUwgeW91IHNob3VsZCBhbHdheXNcbiAqIFtxdW90ZSBhdHRyaWJ1dGUgdmFsdWVzXShodHRwOi8vd29ua28uY29tL3Bvc3QvaHRtbC1lc2NhcGluZykgdG8gcmVkdWNlXG4gKiBYU1MgdmVjdG9ycy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgU3RyaW5nXG4gKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBlc2NhcGUuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIHN0cmluZy5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5lc2NhcGUoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJyk7XG4gKiAvLyA9PiAnZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzJ1xuICovXG5mdW5jdGlvbiBlc2NhcGUoc3RyaW5nKSB7XG4gIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gIHJldHVybiAoc3RyaW5nICYmIHJlSGFzVW5lc2NhcGVkSHRtbC50ZXN0KHN0cmluZykpXG4gICAgPyBzdHJpbmcucmVwbGFjZShyZVVuZXNjYXBlZEh0bWwsIGVzY2FwZUh0bWxDaGFyKVxuICAgIDogc3RyaW5nO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGVzY2FwZTtcbiIsInZhciBiYXNlUHJvcGVydHlPZiA9IHJlcXVpcmUoJy4vX2Jhc2VQcm9wZXJ0eU9mJyk7XG5cbi8qKiBVc2VkIHRvIG1hcCBjaGFyYWN0ZXJzIHRvIEhUTUwgZW50aXRpZXMuICovXG52YXIgaHRtbEVzY2FwZXMgPSB7XG4gICcmJzogJyZhbXA7JyxcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnLFxuICAnXCInOiAnJnF1b3Q7JyxcbiAgXCInXCI6ICcmIzM5Oydcbn07XG5cbi8qKlxuICogVXNlZCBieSBgXy5lc2NhcGVgIHRvIGNvbnZlcnQgY2hhcmFjdGVycyB0byBIVE1MIGVudGl0aWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gY2hyIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byBlc2NhcGUuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIGNoYXJhY3Rlci5cbiAqL1xudmFyIGVzY2FwZUh0bWxDaGFyID0gYmFzZVByb3BlcnR5T2YoaHRtbEVzY2FwZXMpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVzY2FwZUh0bWxDaGFyO1xuIiwiLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wcm9wZXJ0eU9mYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlUHJvcGVydHlPZihvYmplY3QpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VQcm9wZXJ0eU9mO1xuIiwiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheWAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbm1vZHVsZS5leHBvcnRzID0gaXNBcnJheTtcbiIsIi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzT2JqZWN0TGlrZTtcbiIsInZhciBiYXNlQ2xhbXAgPSByZXF1aXJlKCcuL19iYXNlQ2xhbXAnKSxcbiAgICBiYXNlVG9TdHJpbmcgPSByZXF1aXJlKCcuL19iYXNlVG9TdHJpbmcnKSxcbiAgICB0b0ludGVnZXIgPSByZXF1aXJlKCcuL3RvSW50ZWdlcicpLFxuICAgIHRvU3RyaW5nID0gcmVxdWlyZSgnLi90b1N0cmluZycpO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgc3RyaW5nYCBlbmRzIHdpdGggdGhlIGdpdmVuIHRhcmdldCBzdHJpbmcuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjAuMFxuICogQGNhdGVnb3J5IFN0cmluZ1xuICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbdGFyZ2V0XSBUaGUgc3RyaW5nIHRvIHNlYXJjaCBmb3IuXG4gKiBAcGFyYW0ge251bWJlcn0gW3Bvc2l0aW9uPXN0cmluZy5sZW5ndGhdIFRoZSBwb3NpdGlvbiB0byBzZWFyY2ggdXAgdG8uXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHN0cmluZ2AgZW5kcyB3aXRoIGB0YXJnZXRgLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5lbmRzV2l0aCgnYWJjJywgJ2MnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVuZHNXaXRoKCdhYmMnLCAnYicpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVuZHNXaXRoKCdhYmMnLCAnYicsIDIpO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBlbmRzV2l0aChzdHJpbmcsIHRhcmdldCwgcG9zaXRpb24pIHtcbiAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgdGFyZ2V0ID0gYmFzZVRvU3RyaW5nKHRhcmdldCk7XG5cbiAgdmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG4gIHBvc2l0aW9uID0gcG9zaXRpb24gPT09IHVuZGVmaW5lZFxuICAgID8gbGVuZ3RoXG4gICAgOiBiYXNlQ2xhbXAodG9JbnRlZ2VyKHBvc2l0aW9uKSwgMCwgbGVuZ3RoKTtcblxuICB2YXIgZW5kID0gcG9zaXRpb247XG4gIHBvc2l0aW9uIC09IHRhcmdldC5sZW5ndGg7XG4gIHJldHVybiBwb3NpdGlvbiA+PSAwICYmIHN0cmluZy5zbGljZShwb3NpdGlvbiwgZW5kKSA9PSB0YXJnZXQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZW5kc1dpdGg7XG4iLCIvKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNsYW1wYCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byBjbGFtcC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbG93ZXJdIFRoZSBsb3dlciBib3VuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjbGFtcGVkIG51bWJlci5cbiAqL1xuZnVuY3Rpb24gYmFzZUNsYW1wKG51bWJlciwgbG93ZXIsIHVwcGVyKSB7XG4gIGlmIChudW1iZXIgPT09IG51bWJlcikge1xuICAgIGlmICh1cHBlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBudW1iZXIgPSBudW1iZXIgPD0gdXBwZXIgPyBudW1iZXIgOiB1cHBlcjtcbiAgICB9XG4gICAgaWYgKGxvd2VyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG51bWJlciA9IG51bWJlciA+PSBsb3dlciA/IG51bWJlciA6IGxvd2VyO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVtYmVyO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VDbGFtcDtcbiIsInZhciB0b0Zpbml0ZSA9IHJlcXVpcmUoJy4vdG9GaW5pdGUnKTtcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGludGVnZXIuXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAqIFtgVG9JbnRlZ2VyYF0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvaW50ZWdlcikuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b0ludGVnZXIoMy4yKTtcbiAqIC8vID0+IDNcbiAqXG4gKiBfLnRvSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IDBcbiAqXG4gKiBfLnRvSW50ZWdlcihJbmZpbml0eSk7XG4gKiAvLyA9PiAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOFxuICpcbiAqIF8udG9JbnRlZ2VyKCczLjInKTtcbiAqIC8vID0+IDNcbiAqL1xuZnVuY3Rpb24gdG9JbnRlZ2VyKHZhbHVlKSB7XG4gIHZhciByZXN1bHQgPSB0b0Zpbml0ZSh2YWx1ZSksXG4gICAgICByZW1haW5kZXIgPSByZXN1bHQgJSAxO1xuXG4gIHJldHVybiByZXN1bHQgPT09IHJlc3VsdCA/IChyZW1haW5kZXIgPyByZXN1bHQgLSByZW1haW5kZXIgOiByZXN1bHQpIDogMDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0b0ludGVnZXI7XG4iLCJ2YXIgdG9OdW1iZXIgPSByZXF1aXJlKCcuL3RvTnVtYmVyJyk7XG5cbi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIElORklOSVRZID0gMSAvIDAsXG4gICAgTUFYX0lOVEVHRVIgPSAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwODtcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgZmluaXRlIG51bWJlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMTIuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgbnVtYmVyLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRvRmluaXRlKDMuMik7XG4gKiAvLyA9PiAzLjJcbiAqXG4gKiBfLnRvRmluaXRlKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gNWUtMzI0XG4gKlxuICogXy50b0Zpbml0ZShJbmZpbml0eSk7XG4gKiAvLyA9PiAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOFxuICpcbiAqIF8udG9GaW5pdGUoJzMuMicpO1xuICogLy8gPT4gMy4yXG4gKi9cbmZ1bmN0aW9uIHRvRmluaXRlKHZhbHVlKSB7XG4gIGlmICghdmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6IDA7XG4gIH1cbiAgdmFsdWUgPSB0b051bWJlcih2YWx1ZSk7XG4gIGlmICh2YWx1ZSA9PT0gSU5GSU5JVFkgfHwgdmFsdWUgPT09IC1JTkZJTklUWSkge1xuICAgIHZhciBzaWduID0gKHZhbHVlIDwgMCA/IC0xIDogMSk7XG4gICAgcmV0dXJuIHNpZ24gKiBNQVhfSU5URUdFUjtcbiAgfVxuICByZXR1cm4gdmFsdWUgPT09IHZhbHVlID8gdmFsdWUgOiAwO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRvRmluaXRlO1xuIiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpLFxuICAgIGlzU3ltYm9sID0gcmVxdWlyZSgnLi9pc1N5bWJvbCcpO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBOQU4gPSAwIC8gMDtcblxuLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZS4gKi9cbnZhciByZVRyaW0gPSAvXlxccyt8XFxzKyQvZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiaW5hcnkgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb2N0YWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4vKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xudmFyIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBudW1iZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9OdW1iZXIoMy4yKTtcbiAqIC8vID0+IDMuMlxuICpcbiAqIF8udG9OdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiA1ZS0zMjRcbiAqXG4gKiBfLnRvTnVtYmVyKEluZmluaXR5KTtcbiAqIC8vID0+IEluZmluaXR5XG4gKlxuICogXy50b051bWJlcignMy4yJyk7XG4gKiAvLyA9PiAzLjJcbiAqL1xuZnVuY3Rpb24gdG9OdW1iZXIodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIE5BTjtcbiAgfVxuICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgIHZhbHVlID0gaXNPYmplY3Qob3RoZXIpID8gKG90aGVyICsgJycpIDogb3RoZXI7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogK3ZhbHVlO1xuICB9XG4gIHZhbHVlID0gdmFsdWUucmVwbGFjZShyZVRyaW0sICcnKTtcbiAgdmFyIGlzQmluYXJ5ID0gcmVJc0JpbmFyeS50ZXN0KHZhbHVlKTtcbiAgcmV0dXJuIChpc0JpbmFyeSB8fCByZUlzT2N0YWwudGVzdCh2YWx1ZSkpXG4gICAgPyBmcmVlUGFyc2VJbnQodmFsdWUuc2xpY2UoMiksIGlzQmluYXJ5ID8gMiA6IDgpXG4gICAgOiAocmVJc0JhZEhleC50ZXN0KHZhbHVlKSA/IE5BTiA6ICt2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdG9OdW1iZXI7XG4iXSwic291cmNlUm9vdCI6IiJ9