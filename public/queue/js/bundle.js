var Bundle=function(e){var t={};function n(s){if(t[s])return t[s].exports;var i=t[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(s,i,function(t){return e[t]}.bind(null,i));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t,n){var s=n(4).Symbol;e.exports=s},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var s=n(0),i=n(25),o=n(26),a="[object Null]",r="[object Undefined]",u=s?s.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?r:a:u&&u in Object(e)?i(e):o(e)}},function(e,t,n){var s=n(23),i="object"==typeof self&&self&&self.Object===Object&&self,o=s||i||Function("return this")();e.exports=o},function(e,t){e.exports=function(e,t){for(var n=-1,s=null==e?0:e.length,i=Array(s);++n<s;)i[n]=t(e[n],n,e);return i}},function(e,t,n){var s=n(7);e.exports=function(e){return null==e?"":s(e)}},function(e,t,n){var s=n(0),i=n(5),o=n(44),a=n(8),r=1/0,u=s?s.prototype:void 0,p=u?u.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return p?p.call(t):"";var n=t+"";return"0"==n&&1/t==-r?"-0":n}},function(e,t,n){var s=n(3),i=n(45),o="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||i(e)&&s(e)==o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(10);t.onSignIn=function(e){var t=e.getBasicProfile();s.User.signIn(t.getEmail(),e.getAuthResponse().id_token)},$(document).ready(function(){s.QueueApplication.createInstance($("#queueApplication")),function(){var e=$("#clearInput"),t=$("#clearTheQueueDialog");t.on("shown.bs.modal",function(){e.focus()}),t.on("show.bs.modal",function(){e.val("")}),e.on("input",function(e){if("clear"==$(this).val()){t.modal("hide");var n=s.QueueApplication.instance.activeQueue();n&&n.clear()}});var n=$("#signUpDialog");n.on("show.bs.modal",function(){$(this).find("input").val("")}),n.on("shown.bs.modal",function(){$(this).find("input:first").focus()});var i=$("#sendMessageDialog");i.on("show.bs.modal",function(){$(this).find("input").val("")}),i.on("shown.bs.modal",function(){$(this).find("input:first").focus()}),$("#sendMessageForm").submit(function(e){e.preventDefault();var t=$("#sendMessageContent").val();return t&&0!=t.length?(s.QueueApplication.instance.sendMessage(t),i.modal("hide"),!1):(alert("You can't send a blank message."),!1)});var o=$("#addAnnouncementDialog");o.on("show.bs.modal",function(){$(this).find("textarea").val("")}),o.on("shown.bs.modal",function(){$(this).find("textarea").focus()}),$("#addAnnouncementForm").submit(function(e){e.preventDefault();var t=$("#addAnnouncementContent").val();if(!t||0==t.length)return alert("You can't post a blank announcement."),!1;var n=s.QueueApplication.instance.activeQueue();return n&&n.addAnnouncement(t),o.modal("hide"),!1}),new s.Schedule($("#schedulePicker")),new s.ManageQueueDialog}()}),console.log("TEST BLAH")},function(e,t,n){"use strict";var s,i=this&&this.__extends||(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,s){var i,o=arguments.length,a=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,s);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))(function(i,o){function a(e){try{u(s.next(e))}catch(e){o(e)}}function r(e){try{u(s.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,r)}u((s=s.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,s,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function r(o){return function(r){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,s&&(i=2&o[0]?s.return:o[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,o[1])).done)return i;switch(s=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,s=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],s=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,r])}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});Array.prototype.clear=function(){this.length=0};var p=n(11),c=u(n(41)),l=u(n(46)),d=function(){function e(e){this.courses=[],this.messagesShown={},this.observable=new p.Observable(this),this.elem=e,this.coursePills=e.find(".coursePills"),this.coursePanes=e.find(".coursePanes"),this.loadCourses()}return e.createInstance=function(t){e.instance=new e(t)},e.prototype.loadCourses=function(){return a(this,void 0,void 0,function(){var e,t;return r(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,$.getJSON("api/courseList")];case 1:return e=n.sent(),this.onCoursesLoad(e),[3,3];case 2:return x(t=n.sent(),t),[3,3];case 3:return[2]}})})},e.prototype.onCoursesLoad=function(e){var t=this;this.coursePills.empty(),this.coursePanes.empty(),this.courses.clear(),this.coursePanes.append($('<div class="tab-pane fade in active"><h1><span class="glyphicon glyphicon-arrow-left"></span> Please select a course.</h1></div>')),e.forEach(function(e){for(var n in e)e[n]=c.default(e[n]);var s=e.courseId,i=$('<li><a href="#'+s+'" data-toggle="pill"><h3>'+s+"</h3></a></li>");t.coursePills.append(i);var o=$('<div id="'+s+'" class="tab-pane fade"></div>');t.coursePanes.append(o);var a=new h(e,o);t.courses.push(a),i.find("a").click(function(){a.makeActive()})})},e.prototype.setActiveQueue=function(e){this._activeQueue=e,console.log("Setting active queue to "+e.queueId),this.updateSignUpForm(),this.observable.send("activeQueueSet")},e.prototype.activeQueue=function(){return this._activeQueue},e.prototype.updateSignUpForm=function(){this._activeQueue&&this._activeQueue.hasMap()?($("#signUpMapHolder").show(),$("#signUpMapMessage").show(),$("#signUpMapImage").attr("src",this._activeQueue.mapImageSrc)):($("#signUpMapHolder").hide(),$("#signUpMapMessage").hide())},e.prototype.userSignedIn=function(){this.courses.forEach(function(e){e.userSignedIn()})},e.prototype.refreshActiveQueue=function(){this._activeQueue&&this._activeQueue.refresh(),this.refreshContent()},e.prototype.message=function(e){this.messagesShown[e.id]||(this.messagesShown[e.id]=!0,$("#messageDialogHeader").html("Message"),$("#messageDialogContent").append('<p><span class="label label-info">'+e.sender+"</span> "+e.message+"</p>"),$("#messageDialog").modal("show"))},e.prototype.setSendMessagePostId=function(e){this.sendMessagePostId=e},e.prototype.sendMessage=function(e){$.ajax({type:"POST",url:"api/sendMessage",data:{idtoken:q.idToken(),id:this.sendMessagePostId,message:e},success:function(){},error:x})},e.prototype.refreshContent=function(){this._activeQueue&&(document.title=this._activeQueue.course.shortName+" OH ("+this._activeQueue.numEntries+")")},e.prototype.notify=function(e,t){Notification?"granted"!==Notification.permission?Notification.requestPermission():new Notification(e,{body:t}):alert(t)},e._name="QueueApplication",e}();t.QueueApplication=d;var h=function(){function e(e,t){this.isAdmin=!1,this.queues=[],this.courseId=e.courseId,this.shortName=e.shortName,this.fullName=e.fullName,this.elem=t,this.queuePillsElem=$('<ul class="queuePills nav nav-pills"></ul>'),this.elem.append(this.queuePillsElem),this.pickAQueueElem=$("<div></div>"),this.pickAQueueElem.append($('<h3><span class="glyphicon glyphicon-arrow-up"></span> Several queues are available for '+this.shortName+". Please select one.</h3>")),this.elem.append(this.pickAQueueElem),this.mainElem=$("<div></div>"),this.mainElem.hide(),this.queuePanesElem=$('<div class="col-xs-12 col-md-12 queuePanes tab-content"></div>'),this.mainElem.append(this.queuePanesElem),this.contentElem=$('<div class="col-xs-12 col-md-12"></div>'),this.mainElem.append(this.contentElem),this.elem.append(this.mainElem),this.loadContent(),this.loadQueues()}return e.prototype.makeActive=function(){this.activeQueue&&this.activeQueue.makeActive()},e.prototype.loadContent=function(){this.contentElem.load("queue-component/courseContent/"+this.courseId)},e.prototype.loadQueues=function(){var e=this;return $.ajax({type:"GET",url:"api/queueList/"+this.courseId,dataType:"json",success:function(t){e.onQueuesLoad(t)},error:x})},e.prototype.onQueuesLoad=function(e){var t=this;this.queues.clear(),this.queuePillsElem.empty(),this.queuePanesElem.empty(),e.forEach(function(e){var n=e.name,s=e.queueId,i=$('<li><a data-toggle="pill"><h6>'+n+"</h6></a></li>");i.find("a").prop("href","#queue"+s),t.queuePillsElem.append(i);var o=$('<div id="queue'+s+'"></div>');o.addClass("tab-pane fade"),t.queuePanesElem.append(o);var a=new m(e,t,o);t.queues.push(a),a.refresh(),i.find("a").click(function(){t.pickAQueueElem.empty(),t.activeQueue=a,t.mainElem.show(),a.makeActive()})}),1===this.queues.length?(this.queuePillsElem.children().first().addClass("active"),this.queuePanesElem.children().first().addClass("in active"),this.activeQueue=this.queues[0],this.pickAQueueElem.hide(),this.mainElem.show()):(this.pickAQueueElem.show(),this.mainElem.hide()),this.setAdmin(q.isCourseAdmin(this.courseId))},e.prototype.setAdmin=function(e){this.isAdmin=e;for(var t=0;t<this.queues.length;++t)this.queues[t].setAdmin(e);this.isAdmin?(this.elem.addClass("admin"),this.elem.removeClass("notAdmin")):(this.elem.addClass("notAdmin"),this.elem.removeClass("admin"))},e.prototype.userSignedIn=function(){this.setAdmin(q.isCourseAdmin(this.courseId)),this.queues.forEach(function(e){e.userSignedIn()})},e}(),f=function(){function e(e,t,n){var s,i=this;this.id=e.id,this.content=e.content,this.ts=e.ts,this.queue=t,this.elem=n,this.elem.addClass("panel panel-info").append(s=$('<div class="panel-body bg-info"></div>').append('<span class="glyphicon glyphicon-bullhorn"></span> ').append($("<strong>"+this.content+"</strong>"))),$('<button type="button" class="close">&times;</button>').appendTo(s).click(function(e){confirm("Are you sure you want to remove this announcement?\n\n"+i.content)&&i.remove()})}return e.prototype.remove=function(){var e=this;$.ajax({type:"DELETE",url:"api/announcements/"+this.id,success:function(){e.queue.refresh()},error:x})},e}(),m=function(){function e(e,t,n){this.observable=new p.Observable(this),this.isAdmin=!1,this.numEntries=0,this.lastRefresh=new Date,this.isOpen=!1,this.myRequest=null,this.mapImageSrc="",this.refreshDisabled=!1,this.currentRefreshIndex=0,this.course=t,this.queueId=e.queueId,this.location=e.location,this.mapImageSrc=e.map?e.map:"",this.name=e.name,this.elem=n,this.isAdmin=!1,this.numEntries=0,this.currentRefreshIndex=0,this.lastRefresh=new Date,this.isOpen=!1,this.refreshDisabled=!1,this.announcementContainerElem=$("<div></div>").appendTo(this.elem);var s=$("<p></p>").appendTo(this.elem);s.append($('<span data-toggle="tooltip" title="Number of Students"><span class="glyphicon glyphicon-education"></span></span>').append(" ").append(this.numEntriesElem=$("<span></span>"))),s.append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"),s.append($('<span data-toggle="tooltip" title="Last Refresh"><span class="glyphicon glyphicon-refresh"></span></span>').append(" ").append(this.lastRefreshElem=$("<span></span>"))),s.append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"),this.statusMessageElem=$("<span>Loading queue information...</span>"),s.append(this.statusMessageElem),this.adminStatusElem=$('<span class="adminOnly"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;You are an admin for this queue.</b></span>'),s.append(this.adminStatusElem),this.adminControlsElem=$('<div class="panel panel-default adminOnly"><div class="panel-body"></div></div>').appendTo(this.elem).find(".panel-body"),this.adminControls=new g(this,this.adminControlsElem),this.studentControlsElem=$('<div class="panel panel-default"><div class="panel-body"></div></div>').appendTo(this.elem).find(".panel-body"),this.studentControls=new v(this,this.studentControlsElem),this.observable.addListener(this.studentControls),this.queueElem=$("<div></div>").appendTo(this.elem),this.stackElem=$('<div class="adminOnly"></div>').appendTo(this.elem),this.elem.find('[data-toggle="tooltip"]').tooltip(),this.userSignedIn()}return e.prototype.makeActiveOnClick=function(e){var t=this;e.click(function(){t.makeActive()})},e.prototype.makeActive=function(){d.instance.setActiveQueue(this),this.refresh()},e.prototype.refresh=function(){var e=this;this.currentRefreshIndex+=1;var t=this.currentRefreshIndex;return $.ajax({type:"POST",url:"api/list",data:{queueId:this.queueId},dataType:"json",success:function(n){t===e.currentRefreshIndex&&e.refreshResponse(n)},error:x})},e.prototype.refreshResponse=function(e){var t=this;if(!this.refreshDisabled){e.message&&d.instance.message(e.message),this.announcementContainerElem.empty();var n=e.announcements;if(n.forEach(function(e){var n=$("<div></div>").appendTo(t.announcementContainerElem);new f(e,t,n)}),n.length>0?this.announcementContainerElem.show():this.announcementContainerElem.hide(),this.isOpen=e.isOpen,this.isOpen)this.statusMessageElem.html("The queue is open.");else{for(var s=e.schedule,i=-1,o=e.halfHour;o<48;++o){var a=s.charAt(o);if("o"===a||"p"===a){i=o;break}}if(-1===i)this.statusMessageElem.html("The queue is closed for today.");else{var r=new Date;r.setHours(0),r.setMinutes(0),r.setSeconds(0);var u=new Date(r.getTime()+30*i*6e4);this.statusMessageElem.html("The queue is closed right now. It will open at "+u.toLocaleTimeString()+".")}}var p=e.queue;this.queueElem.empty();var c=[],l=null;for(o=0;o<p.length;++o){var h=p[o],m=$("<li class='list-group-item'></li>"),v=new y(this,h,o,m);c.push(v),!l&&q.isMe(v.email)&&(l=v),this.queueElem.append(m)}this.setMyRequest(l),this.observable.send("queueRefreshed"),this.stackElem.html("<h3>The Stack</h3><br /><p>Most recently removed at top</p><pre>"+JSON.stringify(e.stack,null,4)+"</pre>");var g=this.numEntries;this.numEntries=p.length,this.isAdmin&&0===g&&this.numEntries>0&&d.instance.notify("Request Received!",c[0].name),this.lastRefresh=new Date,this.numEntriesElem.html(""+this.numEntries),this.lastRefreshElem.html(this.lastRefresh.toLocaleTimeString())}},e.prototype.setMyRequest=function(e){this.myRequest=e,this.observable.send("myRequestSet")},e.prototype.removeRequest=function(e){console.log("attempting to remove "+e.email+" from queue "+this.queueId),this.disableRefresh();var t=this;$.ajax({type:"POST",url:"api/remove",data:{id:e.id},success:function(){console.log("successfully removed "+e.email+" from queue "+t.queueId),e.onRemove()},error:x}).always(function(){setTimeout(function(){t.enableRefresh(),t.refresh()},500)})},e.prototype.cancelIncomingRefresh=function(){this.currentRefreshIndex+=1},e.prototype.disableRefresh=function(){this.refreshDisabled=!0},e.prototype.enableRefresh=function(){this.refreshDisabled=!1},e.prototype.clear=function(){var e=this;return $.ajax({type:"POST",url:"api/clear",data:{idtoken:q.idToken(),queueId:this.queueId},success:function(){e.clearList()},error:x})},e.prototype.clearList=function(){this.queueElem.children().slideUp()},e.prototype.signUp=function(e,t,n,s,i){var o=this;return $.ajax({type:"POST",url:"api/signUp",data:{idtoken:q.idToken(),queueId:this.queueId,name:e,location:t,mapX:s,mapY:i,description:n},dataType:"json",success:function(e){e.fail?T(e.reason):o.refresh()},error:x})},e.prototype.updateRequest=function(e,t,n,s,i){var o=this;return $.ajax({type:"POST",url:"api/updateRequest",data:{id:this.myRequest.id,name:e,location:t,mapX:s,mapY:i,description:n},dataType:"json",success:function(e){e.fail?T(e.reason):o.refresh()},error:x})},e.prototype.setAdmin=function(e){var t=this.isAdmin;this.isAdmin=e,t!=this.isAdmin&&this.refresh()},e.prototype.userSignedIn=function(){this.observable.send("userSignedIn")},e.prototype.hasMap=function(){return""!==this.mapImageSrc},e.prototype.updateGroups=function(e){e.append("queueId",this.queueId),$.ajax({type:"POST",url:"api/updateGroups",cache:!1,contentType:!1,processData:!1,data:e,dataType:"json",success:function(e){e.success?alert("groups uploaded successfully"):alert("error uploading groups. roster and groups have been cleared - you'll have to upload them again, sorry!")},error:function(e){alert("error uploading groups")}})},e.prototype.updateConfiguration=function(e){return e.queueId=this.queueId,$.ajax({type:"POST",url:"api/updateQueueConfiguration",data:e,dataType:"json",success:function(e){e.fail&&T(e.reason)},error:x})},e.prototype.addAnnouncement=function(e){var t=this;return $.ajax({type:"POST",url:"api/announcements",data:{queueId:this.queueId,content:e},success:function(){t.refresh()},error:x})},e}(),v=function(){function e(t,n){var s=this;this.queue=t,this.elem=n,this.formHasChanges=!1;var i,o=$("<div></div>");if(this.signUpForm=$('<form id="signUpForm" role="form" class="form-horizontal"></form>').append(i=$("<div></div>").append($('<div class="form-group"></div>').append('<label class="control-label col-sm-3" for="signUpName'+t.queueId+'">Name:</label>').append($('<div class="col-sm-9"></div>').append(this.signUpNameInput=$('<input type="text" class="form-control" id="signUpName'+t.queueId+'" required="required" maxlength="30" placeholder="Nice to meet you!">')))).append($('<div class="form-group"></div>').append('<label class="control-label col-sm-3" for="signUpDescription'+t.queueId+'">Description:</label>').append($('<div class="col-sm-9"></div>').append(this.signUpDescriptionInput=$('<input type="text" class="form-control" id="signUpDescription'+t.queueId+'"required="required" maxlength="100" placeholder="e.g. Segfault in function X, using the map data structure, etc.">')))).append($('<div class="form-group"></div>').append('<label class="control-label col-sm-3" for="signUpLocation'+t.queueId+'">Location:</label>').append($('<div class="col-sm-9"></div>').append(this.signUpLocationInput=$('<input type="text" class="form-control" id="signUpLocation'+t.queueId+'"required="required" maxlength="30" placeholder="e.g. Computer #36, laptop by glass/atrium door, etc.">')))).append('<div class="hidden-xs form-group"><div class="col-sm-offset-3 col-sm-9"><button type="submit" class="btn btn-success queue-signUpButton">Sign Up</button> <button type="submit" class="btn btn-success queue-updateRequestButton" style="display:none;"></button></div></div>')),o.append(this.signUpForm),this.statusElem=$("<div></div>"),o.append(this.statusElem),this.signUpForm.find("input").on("input",function(){s.formChanged()}),this.queue.hasMap()){i.addClass("col-xs-12 col-sm-8"),i.css("padding","0"),this.signUpForm.append(this.mapHolder=$('<div class="col-xs-12 col-sm-4" style="position: relative; padding:0"></div>').append(this.signUpMap=$('<img src="img/'+this.queue.mapImageSrc+'" class="queue-signUpMap" style="width:100%"></img>')).append(this.signUpPin=$('<span class="queue-locatePin"><span class="glyphicon glyphicon-map-marker" style="position:absolute; left:-1.3ch;top:-0.95em;"></span></span>'))),this.signUpForm.append($('<div class="visible-xs col-xs-12" style="padding: 0;"><div class="form-group"><div class="col-sm-offset-3 col-sm-9"><button type="submit" class="btn btn-success queue-signUpButton">Sign Up</button> <button type="submit" class="btn btn-success queue-updateRequestButton" style="display:none;"></button></div></div></div>'));var a=this.signUpPin;this.mapX=50,this.mapY=50;var r=this;this.signUpMap.click(function(e){r.mapX=100*Math.trunc(e.pageX-$(this).offset().left)/$(this).width(),r.mapY=100*Math.trunc(e.pageY-$(this).offset().top)/$(this).height(),a.css("left",r.mapX+"%"),a.css("top",r.mapY+"%"),r.formChanged()}),this.signUpLocationInput.val("Click on the map!"),this.signUpLocationInput.prop("disabled",!0)}this.signUpForm.submit(function(t){t.preventDefault();var n=s.signUpNameInput.val(),i=s.signUpDescriptionInput.val(),o=s.signUpLocationInput.val();return n&&0!=n.length&&o&&0!=o.length&&i&&0!=i.length?(s.queue.myRequest?s.queue.updateRequest(n,o,i,s.mapX,s.mapY):s.queue.signUp(n,o,i,s.mapX,s.mapY),s.formHasChanges=!1,s.updateRequestButtons.removeClass("btn-warning"),s.updateRequestButtons.addClass("btn-success"),s.updateRequestButtons.prop("disabled",!0),s.updateRequestButtons.html(e.UPDATE_REQUEST_BUTTON_UP_TO_DATE),!1):(T("You must fill in all the fields."),!1)}),this.signUpButtons=this.signUpForm.find("button.queue-signUpButton"),this.updateRequestButtons=this.signUpForm.find("button.queue-updateRequestButton").prop("disabled",!0).html(e.UPDATE_REQUEST_BUTTON_UP_TO_DATE),this.elem.append(o)}return e.prototype.formChanged=function(){this.queue.myRequest&&(this.formHasChanges=!0,this.updateRequestButtons.removeClass("btn-success"),this.updateRequestButtons.addClass("btn-warning"),this.updateRequestButtons.prop("disabled",!1),this.updateRequestButtons.html(e.UPDATE_REQUEST_BUTTON_UPDATE))},e.prototype.refreshSignInEnabled=function(){var e=q.isUmich()&&this.queue.isOpen&&!this.queue.myRequest;this.signUpButtons.prop("disabled",!e),this.queue.myRequest&&this.updateRequestButtons.show()},e.prototype.queueRefreshed=function(){this.refreshSignInEnabled()},e.prototype.userSignedIn=function(){this.refreshSignInEnabled()},e.prototype.myRequestSet=function(){var e=this.queue.myRequest;this.statusElem.html(""),e&&(this.formHasChanges||(this.signUpNameInput.val(e.name),this.signUpDescriptionInput.val(e.description||""),this.signUpLocationInput.val(e.location||""),this.queue.hasMap()&&(this.mapX=e.mapX,this.mapY=e.mapY,this.signUpPin.css("left",this.mapX+"%"),this.signUpPin.css("top",this.mapY+"%"))),this.statusElem.html("You are at position "+e.index+" in the queue."),e.tag&&this.statusElem.prepend('<span class="label label-info">'+e.tag+"</span> "))},e._name="StudentControls",e.UPDATE_REQUEST_BUTTON_UP_TO_DATE="<span class='glyphicon glyphicon-ok'></span> Request Updated",e.UPDATE_REQUEST_BUTTON_UPDATE="Update Request",o([p.messageResponse()],e.prototype,"queueRefreshed",null),o([p.messageResponse()],e.prototype,"userSignedIn",null),o([p.messageResponse()],e.prototype,"myRequestSet",null),e}(),g=function(){function e(e,t){this.queue=e,this.elem=t,this.elem.append("<p><b>Admin Controls</b></p>");var n=$('<button type="button" class="btn btn-danger adminOnly" data-toggle="modal" data-target="#clearTheQueueDialog">Clear the queue</button>');this.queue.makeActiveOnClick(n),this.elem.append(n),this.elem.append(" ");var s=$('<button type="button" class="btn btn-info adminOnly" data-toggle="modal" data-target="#scheduleDialog">Schedule</button>');this.queue.makeActiveOnClick(s),this.elem.append(s),this.elem.append(" ");var i=$('<button type="button" class="btn btn-info adminOnly" data-toggle="modal" data-target="#manageQueueDialog">Manage Queue</button>');this.queue.makeActiveOnClick(i),this.elem.append(i),this.elem.append(" ");var o=$('<button type="button" class="btn btn-info adminOnly" data-toggle="modal" data-target="#addAnnouncementDialog">Add Announcement</button>');this.queue.makeActiveOnClick(o),this.elem.append(o)}return e._name="AdminControls",e}(),y=function(){function e(e,t,n,s){this.queue=e,this.id=t.id,this.email=t.email,this.index=n,this.isMe=!!t.name,this.elem=s;var i=$('<div class="queue-entryInfo"></div>'),o=t.name?t.name+" ("+t.email+")":"Anonymous Student";this.nameElem=$('<p><span class="glyphicon glyphicon-education"></span></p>').append(" "+o).appendTo(i),t.tag&&t.tag.length>0&&(this.tag=t.tag,this.nameElem.append(' <span class="label label-info">'+this.tag+"</span>")),this.name=t.name,t.location&&t.location.length>0&&(this.locationElem=$('<p><span class="glyphicon glyphicon-map-marker"></span></p>').append(" "+t.location).appendTo(i),this.location=t.location),t.description&&t.description.length>0&&(this.descriptionElem=$('<p><span class="glyphicon glyphicon-question-sign"></span></p>').append(" "+t.description).appendTo(i),this.description=t.description);var a=Date.now()-new Date(1e3*parseInt(t.ts)).getTime(),r=Math.round(a/1e3/60);this.tsElem=$('<p><span class="glyphicon glyphicon-time"></span></p>').append(" "+r+" min").appendTo(i);var u=$('<button type="button" class="btn btn-danger">Remove</button>');this.isMe||u.addClass("adminOnly"),u.on("click",this.queue.removeRequest.bind(this.queue,this)),i.append(u),i.append(" ");var p=$('<button type="button" class="btn btn-warning adminOnly">Message</button>'),c=this;if(p.on("click",function(){$("#sendMessageDialog").modal("show"),d.instance.setSendMessagePostId(c.id)}),i.append(p),this.queue.hasMap()&&void 0!==t.mapX&&void 0!==t.mapY){var l=this.mapX=parseFloat(t.mapX),h=this.mapY=parseFloat(t.mapY),f=$('<div class="adminOnly" style="display:inline-block; vertical-align: top; width: 25%; margin-right: 10px"></div>');this.elem.append(f);var m=$('<div style="position: relative"></div>');this.mapElem=$('<img class="adminOnly queue-entryMap" src="img/'+this.queue.mapImageSrc+'"></img>'),m.append(this.mapElem),this.mapPin=$('<span class="adminOnly queue-locatePin"><span class="glyphicon glyphicon-map-marker" style="position:absolute; left:-1.3ch;top:-0.95em;"></span></span>'),this.mapPin.css("left",l+"%"),this.mapPin.css("top",h+"%"),m.append(this.mapPin),f.append(m)}this.elem.append(i)}return e.prototype.onRemove=function(){this.elem.slideUp(500,function(){$(this).remove()})},e._name="QueueEntry",e}(),b=function(){function e(t){var n=this,s=$("#scheduleDialog");$("#scheduleForm").submit(function(e){return e.preventDefault(),n.update(),s.modal("hide"),!1}),s.on("shown.bs.modal",function(){n.refresh()});var i=$("#schedulePicker"),o=$("<tr></tr>").appendTo(i);o.append('<td style="width:1em; padding-right: 3px;"></td>');for(var a=0;a<24;++a)o.append('<td colspan="2">'+(0===a||12===a?12:a%12)+"</td>");this.unitElems=[];for(var r=["S","M","T","W","T","F","S"],u=0;u<7;++u){var p=[],c=$("<tr></tr>");c.append('<td style="width:1em; text-align: right; padding-right: 3px;">'+r[u]+"</td>");for(var l=0;l<48;++l){var d=$('<td><div class="scheduleUnit"></div></td>').appendTo(c).find(".scheduleUnit");p.push(d)}this.unitElems.push(p),i.append(c)}var h=!1;i.on("mousedown",function(e){return e.preventDefault(),h=!0,!1}),i.on("mouseup",function(){h=!1}),i.on("mouseleave",function(){h=!1}),s.on("hidden.bs.modal",function(){h=!1});var f=function(t){if(h){var n=t.data("scheduleType");t.removeClass("scheduleUnit-"+n);var s=e.sequence[n];t.data("scheduleType",s),t.addClass("scheduleUnit-"+s)}};i.on("mouseover",".scheduleUnit",function(e){return e.preventDefault(),f($(this)),!1}),i.on("mousedown",".scheduleUnit",function(e){return e.preventDefault(),h=!0,f($(this)),!1})}return e.prototype.refresh=function(){var e=this,t=d.instance.activeQueue();if(t)return $.ajax({type:"GET",url:"api/schedule/"+t.queueId,dataType:"json",success:function(t){for(var n=t,s=0;s<7;++s)for(var i=0;i<48;++i){var o=e.unitElems[s][i];o.removeClass(),o.addClass("scheduleUnit"),o.addClass("scheduleUnit-"+n[s].charAt(i)),o.data("scheduleType",n[s].charAt(i))}},error:x})},e.prototype.update=function(){if(d.instance.activeQueue()){for(var e=[],t=0;t<7;++t)e.push(this.unitElems[t].map(function(e){return e.data("scheduleType")}).join(""));var n=d.instance.activeQueue();return n?$.ajax({type:"POST",url:"api/updateSchedule",data:{idtoken:q.idToken(),queueId:n.queueId,schedule:e},success:function(){console.log("schedule updated")},error:x}):void 0}},e.sequence={o:"c",c:"p",p:"o"},e}();t.Schedule=b;var q,E=function(){function e(){var e=this,t=($("#manageQueueDialog"),$("#groupsForm"));t.submit(function(e){e.preventDefault();var n=new FormData(t[0]),s=d.instance.activeQueue();return s&&s.updateGroups(n),!1}),$("#policiesForm").submit(function(t){return t.preventDefault(),e.update(),!1}),this.updateConfigurationButton=$("#updateConfigurationButton"),$("#preventUnregisteredCheckbox").change(this.unsavedChanges.bind(this)),$("#preventGroupsCheckbox").change(this.unsavedChanges.bind(this)),$("#prioritizeNewCheckbox").change(this.unsavedChanges.bind(this)),d.instance.observable.addListener(this),this.refresh()}return e.prototype.refresh=function(){var e=d.instance.activeQueue();if(e&&e.isAdmin)return $("#checkQueueRosterLink").attr("href","api/roster/"+e.queueId),$("#checkQueueGroupsLink").attr("href","api/groups/"+e.queueId),$.ajax({type:"GET",url:"api/queueConfiguration/"+e.queueId,dataType:"json",success:this.refreshResponse.bind(this),error:x})},e.prototype.refreshResponse=function(e){console.log(JSON.stringify(e)),$("#preventUnregisteredCheckbox").prop("checked","y"===e.preventUnregistered),$("#preventGroupsCheckbox").prop("checked","y"===e.preventGroups),$("#prioritizeNewCheckbox").prop("checked","y"===e.prioritizeNew),this.changesUpToDate()},e.prototype.update=function(){var e=d.instance.activeQueue();e&&e.updateConfiguration({preventUnregistered:$("#preventUnregisteredCheckbox").is(":checked")?"y":"n",preventGroups:$("#preventGroupsCheckbox").is(":checked")?"y":"n",prioritizeNew:$("#prioritizeNewCheckbox").is(":checked")?"y":"n"}).done(this.changesUpToDate.bind(this))},e.prototype.unsavedChanges=function(){this.updateConfigurationButton.html(e.POLICIES_UNSAVED).prop("disabled",!1).removeClass("btn-success").addClass("btn-warning")},e.prototype.changesUpToDate=function(){this.updateConfigurationButton.html(e.POLICIES_UP_TO_DATE).prop("disabled",!0).removeClass("btn-warning").addClass("btn-success")},e.POLICIES_UP_TO_DATE='<span><span class="glyphicon glyphicon-floppy-saved"></span> Saved</span>',e.POLICIES_UNSAVED='<span><span class="glyphicon glyphicon-floppy-open"></span> Update Configuration</span>',o([p.messageResponse("activeQueueSet")],e.prototype,"refresh",null),e}();if(t.ManageQueueDialog=E,function(e){e.signIn=function(t,s){var i=new n(t,s),o=$("#accountMessage");i.isUmich()?(o.empty(),o.hide()):(o.show(),o.html("Hi "+i.email+"! Please <a>sign out</a> and switch to an @umich.edu account to use the queue."),o.find("a").click(function(){gapi.auth2.getAuthInstance().disconnect().then(function(){e.signOut(),o.hide()})}),$(".openSignUpDialogButton").prop("disabled",!0))},e.signOut=function(){$("#accountMessage").hide(),o&&o.onSignOut(),new s},e.idToken=function(){return o.idToken()},e.isUmich=function(){return o.isUmich()},e.isCourseAdmin=function(e){return o.isCourseAdmin(e)},e.isMe=function(e){return o.isMe(e)};var t=function(){function e(){}return e.prototype.onSignOut=function(){},e.prototype.onFinishSigningIn=function(){o=this,d.instance&&d.instance.userSignedIn()},e._name="UserBase",e}(),n=function(e){function t(t,n){var s=e.call(this)||this;return s.admins={},s.email=t,s._idToken=n,$.ajax({type:"POST",url:"api/login",data:{idtoken:s.idToken()},success:function(e){s.checkAdmin()},error:x}),s}return i(t,e),t.prototype.isUmich=function(){return l.default(this.email,"@umich.edu")},t.prototype.isMe=function(e){return this.email===e},t.prototype.idToken=function(){return this._idToken},t.prototype.checkAdmin=function(){var e=this;$.ajax({type:"POST",url:"api/adminCourses",data:{idtoken:this.idToken()},dataType:"json",success:function(t){for(var n=0;n<t.length;++n)e.admins[t[n].courseId]=!0;t.length>0?(setInterval(function(){d.instance.refreshActiveQueue()},5e3),Notification&&Notification.requestPermission()):setInterval(function(){d.instance.refreshActiveQueue()},6e4),e.onFinishSigningIn()},error:x})},t.prototype.isCourseAdmin=function(e){return this.admins[e]},t}(t),s=function(e){function t(){var t=e.call(this)||this;return t.onFinishSigningIn(),setInterval(function(){d.instance.refreshActiveQueue()},6e4),t}return i(t,e),t.prototype.isUmich=function(){return!1},t.prototype.idToken=function(){return""},t.prototype.isCourseAdmin=function(e){return!1},t.prototype.isMe=function(e){return!1},t}(t),o=new s}(q=t.User||(t.User={})),"object"==typeof sessionStorage)try{sessionStorage.setItem("localStorage","1"),sessionStorage.removeItem("localStorage")}catch(e){x(null,"It looks like local storage is disabled in your browser. This may aggravate an issue with Google sign-in on Safari or iOS while using private browsing mode.")}function x(e,t){"abort"!==t&&(console.log("Oops. An error occurred. Try refreshing the page."),$("#oopsDialog").modal("show"))}function T(e){console.log(e),$("#errorMessage").html(e),$("#errorDialog").modal("show")}},function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(12));function o(e,t){var n=e._act[t.category];n?n.call(e,t):e._act._default?e._act._default.call(e,t):assert(!1)}t.addListener=function(e,t,n){e.observable.addListener(t,n)},t.messageResponse=function(e){return function(t,n,s){t._act||(t._act={}),t._act[e||n]=t[n]}};var a=function(){function e(e){this.silent=!1,this.universalObservers=[],this.observers={},this.source=e}return e.prototype.send=function(e,t){if(!this.silent){var n={category:e,data:t,source:this.source},s=this.observers[n.category];if(s)for(var i=0;i<s.length;++i)o(s[i],n);for(i=0;i<this.universalObservers.length;++i)o(this.universalObservers[i],n)}},e.prototype.addListener=function(e,t){if(t)if(Array.isArray(t))for(var n=0;n<t.length;++n)this.addListener(e,t[n]);else this.observers[t]||(this.observers[t]=[]),this.observers[t].push(e),this.listenerAdded(e,t);else this.universalObservers.push(e),this.listenerAdded(e);return this},e.prototype.removeListener=function(e,t){if(t){var n=this.observers[t];n&&i.default(n,e),this.listenerRemoved(e,t)}else{for(var s in this.observers)this.removeListener(e,s);i.default(this.universalObservers,e),this.listenerRemoved(e)}return this},e.prototype.listenerAdded=function(e,t){},e.prototype.listenerRemoved=function(e,t){},e}();t.Observable=a},function(e,t,n){var s=n(13)(n(32));e.exports=s},function(e,t,n){var s=n(2),i=n(14),o=n(16);e.exports=function(e,t){return o(i(e,t,s),e+"")}},function(e,t,n){var s=n(15),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,r=i(o.length-t,0),u=Array(r);++a<r;)u[a]=o[t+a];a=-1;for(var p=Array(t+1);++a<t;)p[a]=o[a];return p[t]=n(u),s(e,this,p)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var s=n(17),i=n(31)(s);e.exports=i},function(e,t,n){var s=n(18),i=n(19),o=n(2),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:s(t),writable:!0})}:o;e.exports=a},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t,n){var s=n(20),i=function(){try{var e=s(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,n){var s=n(21),i=n(30);e.exports=function(e,t){var n=i(e,t);return s(n)?n:void 0}},function(e,t,n){var s=n(22),i=n(27),o=n(1),a=n(29),r=/^\[object .+?Constructor\]$/,u=Function.prototype,p=Object.prototype,c=u.toString,l=p.hasOwnProperty,d=RegExp("^"+c.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(s(e)?d:r).test(a(e))}},function(e,t,n){var s=n(3),i=n(1),o="[object AsyncFunction]",a="[object Function]",r="[object GeneratorFunction]",u="[object Proxy]";e.exports=function(e){if(!i(e))return!1;var t=s(e);return t==a||t==r||t==o||t==u}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(24))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var s=n(0),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,r=s?s.toStringTag:void 0;e.exports=function(e){var t=o.call(e,r),n=e[r];try{e[r]=void 0;var s=!0}catch(e){}var i=a.call(e);return s&&(t?e[r]=n:delete e[r]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var s,i=n(28),o=(s=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+s:"";e.exports=function(e){return!!o&&o in e}},function(e,t,n){var s=n(4)["__core-js_shared__"];e.exports=s},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t){var n=800,s=16,i=Date.now;e.exports=function(e){var t=0,o=0;return function(){var a=i(),r=s-(a-o);if(o=a,r>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var s=n(33);e.exports=function(e,t){return e&&e.length&&t&&t.length?s(e,t):e}},function(e,t,n){var s=n(5),i=n(34),o=n(38),a=n(39),r=n(40),u=Array.prototype.splice;e.exports=function(e,t,n,p){var c=p?o:i,l=-1,d=t.length,h=e;for(e===t&&(t=r(t)),n&&(h=s(e,a(n)));++l<d;)for(var f=0,m=t[l],v=n?n(m):m;(f=c(h,v,f,p))>-1;)h!==e&&u.call(h,f,1),u.call(e,f,1);return e}},function(e,t,n){var s=n(35),i=n(36),o=n(37);e.exports=function(e,t,n){return t==t?o(e,t,n):s(e,i,n)}},function(e,t){e.exports=function(e,t,n,s){for(var i=e.length,o=n+(s?1:-1);s?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,n){for(var s=n-1,i=e.length;++s<i;)if(e[s]===t)return s;return-1}},function(e,t){e.exports=function(e,t,n,s){for(var i=n-1,o=e.length;++i<o;)if(s(e[i],t))return i;return-1}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t){e.exports=function(e,t){var n=-1,s=e.length;for(t||(t=Array(s));++n<s;)t[n]=e[n];return t}},function(e,t,n){var s=n(42),i=n(6),o=/[&<>"']/g,a=RegExp(o.source);e.exports=function(e){return(e=i(e))&&a.test(e)?e.replace(o,s):e}},function(e,t,n){var s=n(43)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=s},function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var s=n(47),i=n(7),o=n(48),a=n(6);e.exports=function(e,t,n){e=a(e),t=i(t);var r=e.length,u=n=void 0===n?r:s(o(n),0,r);return(n-=t.length)>=0&&e.slice(n,u)==t}},function(e,t){e.exports=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}},function(e,t,n){var s=n(49);e.exports=function(e){var t=s(e),n=t%1;return t==t?n?t-n:t:0}},function(e,t,n){var s=n(50),i=1/0,o=1.7976931348623157e308;e.exports=function(e){return e?(e=s(e))===i||e===-i?(e<0?-1:1)*o:e==e?e:0:0===e?e:0}},function(e,t,n){var s=n(1),i=n(8),o=NaN,a=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,p=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return o;if(s(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=s(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=u.test(e);return n||p.test(e)?c(e.slice(2),n?2:8):r.test(e)?o:+e}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9CdW5kbGUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fU3ltYm9sLmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNPYmplY3QuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pZGVudGl0eS5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlR2V0VGFnLmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3Jvb3QuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYXJyYXlNYXAuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC90b1N0cmluZy5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlVG9TdHJpbmcuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc1N5bWJvbC5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9zcmMvanMvbWFpbi50cyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9zcmMvanMvcXVldWUudHMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vc3JjL2pzL3V0aWwvbWl4aW5zLnRzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvcHVsbC5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlUmVzdC5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19vdmVyUmVzdC5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19hcHBseS5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19zZXRUb1N0cmluZy5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlU2V0VG9TdHJpbmcuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9jb25zdGFudC5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19kZWZpbmVQcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXROYXRpdmUuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUlzTmF0aXZlLmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNGdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19mcmVlR2xvYmFsLmpzIiwid2VicGFjazovL0J1bmRsZS8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZ2V0UmF3VGFnLmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX29iamVjdFRvU3RyaW5nLmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2lzTWFza2VkLmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2NvcmVKc0RhdGEuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fdG9Tb3VyY2UuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZ2V0VmFsdWUuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fc2hvcnRPdXQuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9wdWxsQWxsLmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VQdWxsQWxsLmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VJbmRleE9mLmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VGaW5kSW5kZXguanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUlzTmFOLmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3N0cmljdEluZGV4T2YuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUluZGV4T2ZXaXRoLmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VVbmFyeS5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19jb3B5QXJyYXkuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9lc2NhcGUuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZXNjYXBlSHRtbENoYXIuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZVByb3BlcnR5T2YuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc0FycmF5LmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNPYmplY3RMaWtlLmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvZW5kc1dpdGguanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUNsYW1wLmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvdG9JbnRlZ2VyLmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvdG9GaW5pdGUuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC90b051bWJlci5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInR5cGUiLCJnZXRSYXdUYWciLCJvYmplY3RUb1N0cmluZyIsIm51bGxUYWciLCJ1bmRlZmluZWRUYWciLCJzeW1Ub1N0cmluZ1RhZyIsInVuZGVmaW5lZCIsImZyZWVHbG9iYWwiLCJmcmVlU2VsZiIsInNlbGYiLCJyb290IiwiRnVuY3Rpb24iLCJhcnJheSIsIml0ZXJhdGVlIiwiaW5kZXgiLCJsZW5ndGgiLCJyZXN1bHQiLCJBcnJheSIsImJhc2VUb1N0cmluZyIsImFycmF5TWFwIiwiaXNBcnJheSIsImlzU3ltYm9sIiwiSU5GSU5JVFkiLCJzeW1ib2xQcm90byIsInN5bWJvbFRvU3RyaW5nIiwidG9TdHJpbmciLCJiYXNlR2V0VGFnIiwiaXNPYmplY3RMaWtlIiwic3ltYm9sVGFnIiwicXVldWVfMSIsIm9uU2lnbkluIiwiZ29vZ2xlVXNlciIsInByb2ZpbGUiLCJnZXRCYXNpY1Byb2ZpbGUiLCJVc2VyIiwic2lnbkluIiwiZ2V0RW1haWwiLCJnZXRBdXRoUmVzcG9uc2UiLCJpZF90b2tlbiIsIiQiLCJkb2N1bWVudCIsInJlYWR5IiwiUXVldWVBcHBsaWNhdGlvbiIsImNyZWF0ZUluc3RhbmNlIiwiY2xlYXJJbnB1dCIsImNsZWFyVGhlUXVldWVEaWFsb2ciLCJvbiIsImZvY3VzIiwidmFsIiwiZSIsInRoaXMiLCJtb2RhbCIsImFxIiwiaW5zdGFuY2UiLCJhY3RpdmVRdWV1ZSIsImNsZWFyIiwic2lnblVwRGlhbG9nIiwiZmluZCIsInNlbmRNZXNzYWdlRGlhbG9nIiwic3VibWl0IiwicHJldmVudERlZmF1bHQiLCJjb250ZW50Iiwic2VuZE1lc3NhZ2UiLCJhbGVydCIsImFkZEFubm91bmNlbWVudERpYWxvZyIsImFkZEFubm91bmNlbWVudCIsIlNjaGVkdWxlIiwiTWFuYWdlUXVldWVEaWFsb2ciLCJzZXR1cERpYWxvZ3MiLCJjb25zb2xlIiwibG9nIiwibWl4aW5zXzEiLCJlc2NhcGVfMSIsIl9faW1wb3J0RGVmYXVsdCIsImVuZHNXaXRoXzEiLCJlbGVtIiwiY291cnNlcyIsIm1lc3NhZ2VzU2hvd24iLCJvYnNlcnZhYmxlIiwiT2JzZXJ2YWJsZSIsImNvdXJzZVBpbGxzIiwiY291cnNlUGFuZXMiLCJsb2FkQ291cnNlcyIsImdldEpTT04iLCJsaXN0IiwiX2EiLCJzZW50Iiwib25Db3Vyc2VzTG9hZCIsIm9vcHMiLCJlXzEiLCJfdGhpcyIsImVtcHR5IiwiYXBwZW5kIiwiZm9yRWFjaCIsImNvdXJzZURhdGEiLCJkZWZhdWx0IiwiY291cnNlSWQiLCJwaWxsRWxlbSIsImNvdXJzZUVsZW0iLCJjb3Vyc2UiLCJDb3Vyc2UiLCJwdXNoIiwiY2xpY2siLCJtYWtlQWN0aXZlIiwic2V0QWN0aXZlUXVldWUiLCJxdWV1ZSIsIl9hY3RpdmVRdWV1ZSIsInF1ZXVlSWQiLCJ1cGRhdGVTaWduVXBGb3JtIiwic2VuZCIsImhhc01hcCIsInNob3ciLCJhdHRyIiwibWFwSW1hZ2VTcmMiLCJoaWRlIiwidXNlclNpZ25lZEluIiwicmVmcmVzaEFjdGl2ZVF1ZXVlIiwicmVmcmVzaCIsInJlZnJlc2hDb250ZW50IiwibWVzc2FnZSIsImlkIiwiaHRtbCIsInNldFNlbmRNZXNzYWdlUG9zdElkIiwic2VuZE1lc3NhZ2VQb3N0SWQiLCJhamF4IiwidXJsIiwiZGF0YSIsImlkdG9rZW4iLCJpZFRva2VuIiwic3VjY2VzcyIsImVycm9yIiwidGl0bGUiLCJzaG9ydE5hbWUiLCJudW1FbnRyaWVzIiwibm90aWZ5IiwiTm90aWZpY2F0aW9uIiwicGVybWlzc2lvbiIsInJlcXVlc3RQZXJtaXNzaW9uIiwiYm9keSIsIl9uYW1lIiwiaXNBZG1pbiIsInF1ZXVlcyIsImZ1bGxOYW1lIiwicXVldWVQaWxsc0VsZW0iLCJwaWNrQVF1ZXVlRWxlbSIsIm1haW5FbGVtIiwicXVldWVQYW5lc0VsZW0iLCJjb250ZW50RWxlbSIsImxvYWRDb250ZW50IiwibG9hZFF1ZXVlcyIsImxvYWQiLCJkYXRhVHlwZSIsIm9uUXVldWVzTG9hZCIsIml0ZW0iLCJwcm9wIiwicXVldWVFbGVtIiwiYWRkQ2xhc3MiLCJRdWV1ZSIsImNoaWxkcmVuIiwiZmlyc3QiLCJzZXRBZG1pbiIsImlzQ291cnNlQWRtaW4iLCJyZW1vdmVDbGFzcyIsIkFubm91bmNlbWVudCIsInBhbmVsQm9keSIsInRzIiwiYXBwZW5kVG8iLCJjb25maXJtIiwicmVtb3ZlIiwibGFzdFJlZnJlc2giLCJEYXRlIiwiaXNPcGVuIiwibXlSZXF1ZXN0IiwicmVmcmVzaERpc2FibGVkIiwiY3VycmVudFJlZnJlc2hJbmRleCIsImxvY2F0aW9uIiwiYW5ub3VuY2VtZW50Q29udGFpbmVyRWxlbSIsInN0YXR1c0VsZW0iLCJudW1FbnRyaWVzRWxlbSIsImxhc3RSZWZyZXNoRWxlbSIsInN0YXR1c01lc3NhZ2VFbGVtIiwiYWRtaW5TdGF0dXNFbGVtIiwiYWRtaW5Db250cm9sc0VsZW0iLCJhZG1pbkNvbnRyb2xzIiwiQWRtaW5Db250cm9scyIsInN0dWRlbnRDb250cm9sc0VsZW0iLCJzdHVkZW50Q29udHJvbHMiLCJTdHVkZW50Q29udHJvbHMiLCJhZGRMaXN0ZW5lciIsInN0YWNrRWxlbSIsInRvb2x0aXAiLCJtYWtlQWN0aXZlT25DbGljayIsIm15UmVmcmVzaEluZGV4IiwicmVmcmVzaFJlc3BvbnNlIiwiYW5ub3VuY2VtZW50c0RhdGEiLCJhRGF0YSIsImFubm91bmNlbWVudEVsZW0iLCJzY2hlZHVsZSIsIm5leHRPcGVuIiwic2NoZWR1bGVUeXBlIiwiY2hhckF0Iiwic2V0SG91cnMiLCJzZXRNaW51dGVzIiwic2V0U2Vjb25kcyIsIm5ld0RhdGUiLCJnZXRUaW1lIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwicXVldWVFbnRyaWVzIiwiaXRlbUVsZW0iLCJlbnRyeSIsIlF1ZXVlRW50cnkiLCJpc01lIiwiZW1haWwiLCJzZXRNeVJlcXVlc3QiLCJKU09OIiwic3RyaW5naWZ5Iiwib2xkTnVtRW50cmllcyIsInJlbW92ZVJlcXVlc3QiLCJyZXF1ZXN0IiwiZGlzYWJsZVJlZnJlc2giLCJvblJlbW92ZSIsImFsd2F5cyIsInNldFRpbWVvdXQiLCJlbmFibGVSZWZyZXNoIiwiY2FuY2VsSW5jb21pbmdSZWZyZXNoIiwiY2xlYXJMaXN0Iiwic2xpZGVVcCIsInNpZ25VcCIsImRlc2NyaXB0aW9uIiwibWFwWCIsIm1hcFkiLCJzaG93RXJyb3JNZXNzYWdlIiwidXBkYXRlUmVxdWVzdCIsIm9sZEFkbWluIiwidXBkYXRlR3JvdXBzIiwiZm9ybURhdGEiLCJjYWNoZSIsImNvbnRlbnRUeXBlIiwicHJvY2Vzc0RhdGEiLCJ1cGRhdGVDb25maWd1cmF0aW9uIiwib3B0aW9ucyIsImZvcm1IYXNDaGFuZ2VzIiwicmVndWxhckZvcm1FbGVtIiwiY29udGFpbmVyRWxlbSIsInNpZ25VcEZvcm0iLCJzaWduVXBOYW1lSW5wdXQiLCJzaWduVXBEZXNjcmlwdGlvbklucHV0Iiwic2lnblVwTG9jYXRpb25JbnB1dCIsImZvcm1DaGFuZ2VkIiwiY3NzIiwibWFwSG9sZGVyIiwic2lnblVwTWFwIiwic2lnblVwUGluIiwicGluIiwic2VsZl8xIiwiTWF0aCIsInRydW5jIiwicGFnZVgiLCJvZmZzZXQiLCJsZWZ0Iiwid2lkdGgiLCJwYWdlWSIsInRvcCIsImhlaWdodCIsInNpZ25VcE5hbWUiLCJzaWduVXBEZXNjcmlwdGlvbiIsInNpZ25VcExvY2F0aW9uIiwidXBkYXRlUmVxdWVzdEJ1dHRvbnMiLCJVUERBVEVfUkVRVUVTVF9CVVRUT05fVVBfVE9fREFURSIsInNpZ25VcEJ1dHRvbnMiLCJVUERBVEVfUkVRVUVTVF9CVVRUT05fVVBEQVRFIiwicmVmcmVzaFNpZ25JbkVuYWJsZWQiLCJpc0VuYWJsZWQiLCJpc1VtaWNoIiwicXVldWVSZWZyZXNoZWQiLCJteVJlcXVlc3RTZXQiLCJyZXEiLCJ0YWciLCJwcmVwZW5kIiwiX19kZWNvcmF0ZSIsIm1lc3NhZ2VSZXNwb25zZSIsImNsZWFyUXVldWVCdXR0b24iLCJvcGVuU2NoZWR1bGVEaWFsb2dCdXR0b24iLCJvcGVuTWFuYWdlUXVldWVEaWFsb2dCdXR0b24iLCJvcGVuQWRkQW5ub3VuY2VtZW50RGlhbG9nQnV0dG9uIiwiaW5mb0VsZW0iLCJuYW1lRWxlbSIsImxvY2F0aW9uRWxlbSIsImRlc2NyaXB0aW9uRWxlbSIsInRpbWVXYWl0aW5nIiwibm93IiwicGFyc2VJbnQiLCJtaW51dGVzV2FpdGluZyIsInJvdW5kIiwidHNFbGVtIiwicmVtb3ZlQnV0dG9uIiwic2VuZE1lc3NhZ2VCdXR0b24iLCJwYXJzZUZsb2F0IiwibWFwRWxlbSIsIm1hcFBpbiIsImRpYWxvZyIsInVwZGF0ZSIsInNjaGVkdWxlUGlja2VyIiwiZmlyc3RSb3ciLCJ1bml0RWxlbXMiLCJkYXlMZXR0ZXJzIiwiZGF5Iiwicm93RWxlbSIsInVuaXRFbGVtIiwicHJlc3NlZCIsImNoYW5nZUNvbG9yIiwiY3VycmVudFR5cGUiLCJuZXh0VHlwZSIsInNlcXVlbmNlIiwibWFwIiwiam9pbiIsImdyb3Vwc0Zvcm0iLCJGb3JtRGF0YSIsInVwZGF0ZUNvbmZpZ3VyYXRpb25CdXR0b24iLCJjaGFuZ2UiLCJ1bnNhdmVkQ2hhbmdlcyIsImNoYW5nZXNVcFRvRGF0ZSIsInByZXZlbnRVbnJlZ2lzdGVyZWQiLCJpcyIsInByZXZlbnRHcm91cHMiLCJwcmlvcml0aXplTmV3IiwiZG9uZSIsIlBPTElDSUVTX1VOU0FWRUQiLCJQT0xJQ0lFU19VUF9UT19EQVRFIiwibmV3VXNlciIsIkF1dGhlbnRpY2F0ZWRVc2VyIiwiYWNjb3VudE1lc3NhZ2VFbGVtIiwiZ2FwaSIsImF1dGgyIiwiZ2V0QXV0aEluc3RhbmNlIiwiZGlzY29ubmVjdCIsInRoZW4iLCJzaWduT3V0IiwidGhlVXNlciIsIm9uU2lnbk91dCIsIlVuYXV0aGVudGljYXRlZFVzZXIiLCJVc2VyQmFzZSIsIm9uRmluaXNoU2lnbmluZ0luIiwiX3N1cGVyIiwiYWRtaW5zIiwiX2lkVG9rZW4iLCJjaGVja0FkbWluIiwiX19leHRlbmRzIiwic2V0SW50ZXJ2YWwiLCJzZXNzaW9uU3RvcmFnZSIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwieGhyIiwidGV4dFN0YXR1cyIsInB1bGxfMSIsInJlY2VpdmVNZXNzYWdlIiwib2JzZXJ2ZXIiLCJtc2ciLCJjYXRBY3QiLCJfYWN0IiwiY2F0ZWdvcnkiLCJfZGVmYXVsdCIsImFzc2VydCIsIm9ialdpdGhPYnNlcnZhYmxlIiwibGlzdGVuZXIiLCJtZXNzYWdlQ2F0ZWdvcnkiLCJ0YXJnZXQiLCJwcm9wZXJ0eUtleSIsImRlc2NyaXB0b3IiLCJzb3VyY2UiLCJzaWxlbnQiLCJ1bml2ZXJzYWxPYnNlcnZlcnMiLCJvYnNlcnZlcnMiLCJsaXN0ZW5lckFkZGVkIiwicmVtb3ZlTGlzdGVuZXIiLCJsaXN0ZW5lclJlbW92ZWQiLCJjYXQiLCJwdWxsIiwiYmFzZVJlc3QiLCJpZGVudGl0eSIsIm92ZXJSZXN0Iiwic2V0VG9TdHJpbmciLCJmdW5jIiwic3RhcnQiLCJhcHBseSIsIm5hdGl2ZU1heCIsIm1heCIsInRyYW5zZm9ybSIsImFyZ3MiLCJhcmd1bWVudHMiLCJvdGhlckFyZ3MiLCJ0aGlzQXJnIiwiYmFzZVNldFRvU3RyaW5nIiwic2hvcnRPdXQiLCJjb25zdGFudCIsInN0cmluZyIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiZ2V0TmF0aXZlIiwiYmFzZUlzTmF0aXZlIiwiZ2V0VmFsdWUiLCJpc0Z1bmN0aW9uIiwiaXNNYXNrZWQiLCJpc09iamVjdCIsInRvU291cmNlIiwicmVJc0hvc3RDdG9yIiwiZnVuY1Byb3RvIiwib2JqZWN0UHJvdG8iLCJmdW5jVG9TdHJpbmciLCJyZUlzTmF0aXZlIiwiUmVnRXhwIiwicmVwbGFjZSIsInRlc3QiLCJhc3luY1RhZyIsImZ1bmNUYWciLCJnZW5UYWciLCJwcm94eVRhZyIsImdsb2JhbCIsImciLCJ3aW5kb3ciLCJuYXRpdmVPYmplY3RUb1N0cmluZyIsImlzT3duIiwidW5tYXNrZWQiLCJ1aWQiLCJjb3JlSnNEYXRhIiwibWFza1NyY0tleSIsImV4ZWMiLCJrZXlzIiwiSUVfUFJPVE8iLCJIT1RfQ09VTlQiLCJIT1RfU1BBTiIsIm5hdGl2ZU5vdyIsImNvdW50IiwibGFzdENhbGxlZCIsInN0YW1wIiwicmVtYWluaW5nIiwiYmFzZVB1bGxBbGwiLCJ2YWx1ZXMiLCJiYXNlSW5kZXhPZiIsImJhc2VJbmRleE9mV2l0aCIsImJhc2VVbmFyeSIsImNvcHlBcnJheSIsInNwbGljZSIsImNvbXBhcmF0b3IiLCJpbmRleE9mIiwic2VlbiIsImZyb21JbmRleCIsImNvbXB1dGVkIiwiYmFzZUZpbmRJbmRleCIsImJhc2VJc05hTiIsInN0cmljdEluZGV4T2YiLCJwcmVkaWNhdGUiLCJmcm9tUmlnaHQiLCJlc2NhcGVIdG1sQ2hhciIsInJlVW5lc2NhcGVkSHRtbCIsInJlSGFzVW5lc2NhcGVkSHRtbCIsImJhc2VQcm9wZXJ0eU9mIiwiJiIsIjwiLCI+IiwiXCIiLCInIiwiYmFzZUNsYW1wIiwidG9JbnRlZ2VyIiwicG9zaXRpb24iLCJlbmQiLCJzbGljZSIsIm51bWJlciIsImxvd2VyIiwidXBwZXIiLCJ0b0Zpbml0ZSIsInJlbWFpbmRlciIsInRvTnVtYmVyIiwiTUFYX0lOVEVHRVIiLCJOQU4iLCJyZVRyaW0iLCJyZUlzQmFkSGV4IiwicmVJc0JpbmFyeSIs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cUMsR0FDQXJDLEVBQUEsUUFDQXdlLEVBRUF4ZSxPQUFBLEVBUEEsSUFBQUEsSUFBQSxvQkMvQkEsSUFBQWthLEVBQWV2YixFQUFRLEdBQ3ZCeUQsRUFBZXpELEVBQVEsR0FHdkI4ZixFQUFBLElBR0FDLEVBQUEsYUFHQUMsRUFBQSxxQkFHQUMsRUFBQSxhQUdBQyxFQUFBLGNBR0FDLEVBQUE1TCxTQThDQXBVLEVBQUFELFFBckJBLFNBQUFtQixHQUNBLG9CQUFBQSxFQUNBLE9BQUFBLEVBRUEsR0FBQW9DLEVBQUFwQyxHQUNBLE9BQUF5ZSxFQUVBLEdBQUF2RSxFQUFBbGEsR0FBQSxDQUNBLElBQUErZSxFQUFBLG1CQUFBL2UsRUFBQWdmLFFBQUFoZixFQUFBZ2YsVUFBQWhmLEVBQ0FBLEVBQUFrYSxFQUFBNkUsS0FBQSxHQUFBQSxFQUVBLG9CQUFBL2UsRUFDQSxXQUFBQSxPQUVBQSxJQUFBMGEsUUFBQWdFLEVBQUEsSUFDQSxJQUFBTyxFQUFBTCxFQUFBakUsS0FBQTNhLEdBQ0EsT0FBQWlmLEdBQUFKLEVBQUFsRSxLQUFBM2EsR0FDQThlLEVBQUE5ZSxFQUFBaWUsTUFBQSxHQUFBZ0IsRUFBQSxLQUNBTixFQUFBaEUsS0FBQTNhLEdBQUF5ZSxHQUFBemUiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDkpO1xuIiwidmFyIHJvb3QgPSByZXF1aXJlKCcuL19yb290Jyk7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIFN5bWJvbCA9IHJvb3QuU3ltYm9sO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFN5bWJvbDtcbiIsIi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzT2JqZWN0O1xuIiwiLyoqXG4gKiBUaGlzIG1ldGhvZCByZXR1cm5zIHRoZSBmaXJzdCBhcmd1bWVudCBpdCByZWNlaXZlcy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHBhcmFtIHsqfSB2YWx1ZSBBbnkgdmFsdWUuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyBgdmFsdWVgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAqXG4gKiBjb25zb2xlLmxvZyhfLmlkZW50aXR5KG9iamVjdCkgPT09IG9iamVjdCk7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpZGVudGl0eTtcbiIsInZhciBTeW1ib2wgPSByZXF1aXJlKCcuL19TeW1ib2wnKSxcbiAgICBnZXRSYXdUYWcgPSByZXF1aXJlKCcuL19nZXRSYXdUYWcnKSxcbiAgICBvYmplY3RUb1N0cmluZyA9IHJlcXVpcmUoJy4vX29iamVjdFRvU3RyaW5nJyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBudWxsVGFnID0gJ1tvYmplY3QgTnVsbF0nLFxuICAgIHVuZGVmaW5lZFRhZyA9ICdbb2JqZWN0IFVuZGVmaW5lZF0nO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0VGFnYCB3aXRob3V0IGZhbGxiYWNrcyBmb3IgYnVnZ3kgZW52aXJvbm1lbnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXRUYWcodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZFRhZyA6IG51bGxUYWc7XG4gIH1cbiAgcmV0dXJuIChzeW1Ub1N0cmluZ1RhZyAmJiBzeW1Ub1N0cmluZ1RhZyBpbiBPYmplY3QodmFsdWUpKVxuICAgID8gZ2V0UmF3VGFnKHZhbHVlKVxuICAgIDogb2JqZWN0VG9TdHJpbmcodmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VHZXRUYWc7XG4iLCJ2YXIgZnJlZUdsb2JhbCA9IHJlcXVpcmUoJy4vX2ZyZWVHbG9iYWwnKTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvb3Q7XG4iLCIvKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5tYXBgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICogc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlNYXAoYXJyYXksIGl0ZXJhdGVlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFycmF5TWFwO1xuIiwidmFyIGJhc2VUb1N0cmluZyA9IHJlcXVpcmUoJy4vX2Jhc2VUb1N0cmluZycpO1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcuIEFuIGVtcHR5IHN0cmluZyBpcyByZXR1cm5lZCBmb3IgYG51bGxgXG4gKiBhbmQgYHVuZGVmaW5lZGAgdmFsdWVzLiBUaGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9TdHJpbmcobnVsbCk7XG4gKiAvLyA9PiAnJ1xuICpcbiAqIF8udG9TdHJpbmcoLTApO1xuICogLy8gPT4gJy0wJ1xuICpcbiAqIF8udG9TdHJpbmcoWzEsIDIsIDNdKTtcbiAqIC8vID0+ICcxLDIsMydcbiAqL1xuZnVuY3Rpb24gdG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09IG51bGwgPyAnJyA6IGJhc2VUb1N0cmluZyh2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdG9TdHJpbmc7XG4iLCJ2YXIgU3ltYm9sID0gcmVxdWlyZSgnLi9fU3ltYm9sJyksXG4gICAgYXJyYXlNYXAgPSByZXF1aXJlKCcuL19hcnJheU1hcCcpLFxuICAgIGlzQXJyYXkgPSByZXF1aXJlKCcuL2lzQXJyYXknKSxcbiAgICBpc1N5bWJvbCA9IHJlcXVpcmUoJy4vaXNTeW1ib2wnKTtcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgSU5GSU5JVFkgPSAxIC8gMDtcblxuLyoqIFVzZWQgdG8gY29udmVydCBzeW1ib2xzIHRvIHByaW1pdGl2ZXMgYW5kIHN0cmluZ3MuICovXG52YXIgc3ltYm9sUHJvdG8gPSBTeW1ib2wgPyBTeW1ib2wucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuICAgIHN5bWJvbFRvU3RyaW5nID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by50b1N0cmluZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b1N0cmluZ2Agd2hpY2ggZG9lc24ndCBjb252ZXJ0IG51bGxpc2hcbiAqIHZhbHVlcyB0byBlbXB0eSBzdHJpbmdzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBiYXNlVG9TdHJpbmcodmFsdWUpIHtcbiAgLy8gRXhpdCBlYXJseSBmb3Igc3RyaW5ncyB0byBhdm9pZCBhIHBlcmZvcm1hbmNlIGhpdCBpbiBzb21lIGVudmlyb25tZW50cy5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAvLyBSZWN1cnNpdmVseSBjb252ZXJ0IHZhbHVlcyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgIHJldHVybiBhcnJheU1hcCh2YWx1ZSwgYmFzZVRvU3RyaW5nKSArICcnO1xuICB9XG4gIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gc3ltYm9sVG9TdHJpbmcgPyBzeW1ib2xUb1N0cmluZy5jYWxsKHZhbHVlKSA6ICcnO1xuICB9XG4gIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlVG9TdHJpbmc7XG4iLCJ2YXIgYmFzZUdldFRhZyA9IHJlcXVpcmUoJy4vX2Jhc2VHZXRUYWcnKSxcbiAgICBpc09iamVjdExpa2UgPSByZXF1aXJlKCcuL2lzT2JqZWN0TGlrZScpO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXSc7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHN5bWJvbFRhZyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNTeW1ib2w7XG4iLCJpbXBvcnQge1F1ZXVlQXBwbGljYXRpb24sIFNjaGVkdWxlLCBNYW5hZ2VRdWV1ZURpYWxvZywgVXNlcn0gZnJvbSBcIi4vcXVldWVcIjtcclxuXHJcbi8vIGltcG9ydCB7Z2FwaX0gZnJvbSBcImh0dHBzOi8vYXBpcy5nb29nbGUuY29tL2pzL3BsYXRmb3JtLmpzXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gb25TaWduSW4oZ29vZ2xlVXNlcjogZ2FwaS5hdXRoMi5Hb29nbGVVc2VyKSB7XHJcbiAgICB2YXIgcHJvZmlsZSA9IGdvb2dsZVVzZXIuZ2V0QmFzaWNQcm9maWxlKCk7XHJcbi8vICAgICAgICBjb25zb2xlLmxvZygnTmFtZTogJyArIHByb2ZpbGUuZ2V0TmFtZSgpKTtcclxuLy8gICAgICAgIGNvbnNvbGUubG9nKCdJbWFnZSBVUkw6ICcgKyBwcm9maWxlLmdldEltYWdlVXJsKCkpO1xyXG4vLyAgICAgICAgY29uc29sZS5sb2coJ0lEOiAnICsgcHJvZmlsZS5nZXRJZCgpKTsgLy8gRG8gbm90IHNlbmQgdG8geW91ciBiYWNrZW5kISBVc2UgYW4gSUQgdG9rZW4gaW5zdGVhZC5cclxuICAgIFVzZXIuc2lnbkluKHByb2ZpbGUuZ2V0RW1haWwoKSwgZ29vZ2xlVXNlci5nZXRBdXRoUmVzcG9uc2UoKS5pZF90b2tlbik7XHJcbi8vICAgICAgICBjb25zb2xlLmxvZyhnb29nbGVVc2VyLmdldEF1dGhSZXNwb25zZSgpLmV4cGlyZXNfYXQoKSk7XHJcbi8vICAgICAgICB2YXIgZXhwaXJlc19hdCA9IGdvb2dsZVVzZXIuZ2V0QXV0aFJlc3BvbnNlKCkuZXhwaXJlc19hdDtcclxuLy8gICAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xyXG4vLyAgICAgICAgdmFyIG5vdzIgPSBEYXRlLm5vdygpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXR1cERpYWxvZ3MoKSB7XHJcbiAgICB2YXIgY2xlYXJJbnB1dCA9ICQoXCIjY2xlYXJJbnB1dFwiKTtcclxuICAgIHZhciBjbGVhclRoZVF1ZXVlRGlhbG9nID0gJChcIiNjbGVhclRoZVF1ZXVlRGlhbG9nXCIpO1xyXG4gICAgY2xlYXJUaGVRdWV1ZURpYWxvZy5vbignc2hvd24uYnMubW9kYWwnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY2xlYXJJbnB1dC5mb2N1cygpO1xyXG4gICAgfSk7XHJcbiAgICBjbGVhclRoZVF1ZXVlRGlhbG9nLm9uKCdzaG93LmJzLm1vZGFsJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNsZWFySW5wdXQudmFsKFwiXCIpO1xyXG4gICAgfSk7XHJcbiAgICBjbGVhcklucHV0Lm9uKFwiaW5wdXRcIiwgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgaWYgKCQodGhpcykudmFsKCkgPT0gXCJjbGVhclwiKXtcclxuICAgICAgICAgICAgY2xlYXJUaGVRdWV1ZURpYWxvZy5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgICAgICAgIGxldCBhcSA9IFF1ZXVlQXBwbGljYXRpb24uaW5zdGFuY2UuYWN0aXZlUXVldWUoKTtcclxuICAgICAgICAgICAgYXEgJiYgYXEuY2xlYXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICB2YXIgc2lnblVwRGlhbG9nID0gJChcIiNzaWduVXBEaWFsb2dcIik7XHJcbiAgICBzaWduVXBEaWFsb2cub24oJ3Nob3cuYnMubW9kYWwnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCh0aGlzKS5maW5kKFwiaW5wdXRcIikudmFsKFwiXCIpO1xyXG4gICAgfSk7XHJcbiAgICBzaWduVXBEaWFsb2cub24oJ3Nob3duLmJzLm1vZGFsJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQodGhpcykuZmluZChcImlucHV0OmZpcnN0XCIpLmZvY3VzKCk7XHJcbiAgICB9KTtcclxuXHJcblxyXG5cclxuXHJcbiAgICBsZXQgc2VuZE1lc3NhZ2VEaWFsb2cgPSAkKFwiI3NlbmRNZXNzYWdlRGlhbG9nXCIpO1xyXG4gICAgc2VuZE1lc3NhZ2VEaWFsb2cub24oJ3Nob3cuYnMubW9kYWwnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCh0aGlzKS5maW5kKFwiaW5wdXRcIikudmFsKFwiXCIpO1xyXG4gICAgfSk7XHJcbiAgICBzZW5kTWVzc2FnZURpYWxvZy5vbignc2hvd24uYnMubW9kYWwnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCh0aGlzKS5maW5kKFwiaW5wdXQ6Zmlyc3RcIikuZm9jdXMoKTtcclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICBsZXQgc2VuZE1lc3NhZ2VGb3JtID0gJChcIiNzZW5kTWVzc2FnZUZvcm1cIik7XHJcbiAgICBzZW5kTWVzc2FnZUZvcm0uc3VibWl0KGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBsZXQgY29udGVudCA6IHN0cmluZyA9IDxzdHJpbmc+JChcIiNzZW5kTWVzc2FnZUNvbnRlbnRcIikudmFsKCk7XHJcblxyXG4gICAgICAgIGlmICghY29udGVudCB8fCBjb250ZW50Lmxlbmd0aCA9PSAwKXtcclxuICAgICAgICAgICAgYWxlcnQoXCJZb3UgY2FuJ3Qgc2VuZCBhIGJsYW5rIG1lc3NhZ2UuXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBRdWV1ZUFwcGxpY2F0aW9uLmluc3RhbmNlLnNlbmRNZXNzYWdlKGNvbnRlbnQpO1xyXG5cclxuICAgICAgICBzZW5kTWVzc2FnZURpYWxvZy5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgbGV0IGFkZEFubm91bmNlbWVudERpYWxvZyA9ICQoXCIjYWRkQW5ub3VuY2VtZW50RGlhbG9nXCIpO1xyXG4gICAgYWRkQW5ub3VuY2VtZW50RGlhbG9nLm9uKCdzaG93LmJzLm1vZGFsJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQodGhpcykuZmluZChcInRleHRhcmVhXCIpLnZhbChcIlwiKTtcclxuICAgIH0pO1xyXG4gICAgYWRkQW5ub3VuY2VtZW50RGlhbG9nLm9uKCdzaG93bi5icy5tb2RhbCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKHRoaXMpLmZpbmQoXCJ0ZXh0YXJlYVwiKS5mb2N1cygpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgbGV0IGFkZEFubm91bmNlbWVudEZvcm0gPSAkKFwiI2FkZEFubm91bmNlbWVudEZvcm1cIik7XHJcbiAgICBhZGRBbm5vdW5jZW1lbnRGb3JtLnN1Ym1pdCgoZSkgPT4ge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBsZXQgY29udGVudCA9IDxzdHJpbmc+JChcIiNhZGRBbm5vdW5jZW1lbnRDb250ZW50XCIpLnZhbCgpO1xyXG5cclxuICAgICAgICBpZiAoIWNvbnRlbnQgfHwgY29udGVudC5sZW5ndGggPT0gMCl7XHJcbiAgICAgICAgICAgIGFsZXJ0KFwiWW91IGNhbid0IHBvc3QgYSBibGFuayBhbm5vdW5jZW1lbnQuXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgYXEgPSBRdWV1ZUFwcGxpY2F0aW9uLmluc3RhbmNlLmFjdGl2ZVF1ZXVlKCk7XHJcbiAgICAgICAgYXEgJiYgYXEuYWRkQW5ub3VuY2VtZW50KGNvbnRlbnQpO1xyXG5cclxuICAgICAgICBhZGRBbm5vdW5jZW1lbnREaWFsb2cubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICBuZXcgU2NoZWR1bGUoJChcIiNzY2hlZHVsZVBpY2tlclwiKSk7XHJcblxyXG4gICAgbmV3IE1hbmFnZVF1ZXVlRGlhbG9nKCk7XHJcbn1cclxuXHJcblxyXG5cclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcbiAgICBcclxuICAgIFF1ZXVlQXBwbGljYXRpb24uY3JlYXRlSW5zdGFuY2UoJChcIiNxdWV1ZUFwcGxpY2F0aW9uXCIpKTtcclxuICAgIC8vIFVzZXIuc2V0VGFyZ2V0KFVuYXV0aGVudGljYXRlZFVzZXIuaW5zdGFuY2UoKSk7XHJcblxyXG4gICAgc2V0dXBEaWFsb2dzKCk7XHJcblxyXG4gICAgLy8gPGRpdiBjbGFzcz1cImctc2lnbmluMlwiIGRhdGEtb25zdWNjZXNzPVwib25TaWduSW5cIj48L2Rpdj5cclxuICAgIC8vIFJlY3VycmluZyByZWZyZXNoXHJcbiAgICAvL3NldEludGVydmFsKGZ1bmN0aW9uKCl7XHJcbiAgICAvLyAgICBRdWV1ZUFwcGxpY2F0aW9uLnJlZnJlc2hBY3RpdmVRdWV1ZSgpO1xyXG4gICAgLy99LCA2MDAwMCk7XHJcbiAgICAvLyBNT1ZFRCBUTyBVU0VSIENPREUgSU4gcXVldWUuanNcclxufSk7XHJcblxyXG5jb25zb2xlLmxvZyhcIlRFU1QgQkxBSFwiKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBKYW1lcyBKdWV0dCBvbiA5LzUvMjAxNi5cclxuICovXHJcblxyXG5pbXBvcnQgYm9vdGJveCBmcm9tIFwiYm9vdGJveFwiXHJcblxyXG4vLyBpbXBvcnQgXCIuL3V0aWwvdXRpbC5qc1wiXHJcbmZ1bmN0aW9uIGRlYnVnKG1lc3NhZ2U6IHN0cmluZywgY2F0ZWdvcnk6IHN0cmluZykge1xyXG4gICAgaWYgKGNhdGVnb3J5KXtcclxuICAgICAgICBjb25zb2xlLmxvZyhjYXRlZ29yeSArIFwiOiBcIiArIG1lc3NhZ2UpO1xyXG4gICAgICAgICQoXCIuZGVidWcuXCIrY2F0ZWdvcnkpLmh0bWwoXCJcIittZXNzYWdlKTsgLy9cIlwiKyBpcyB0byBmb3JjZSBjb252ZXJzaW9uIHRvIHN0cmluZyAodmlhIC50b1N0cmluZyBpZiBvYmplY3QpXHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpO1xyXG4gICAgICAgICQoXCIuZGVidWcuZGVidWdBbGxcIikuaHRtbChcIlwiK21lc3NhZ2UpOyAvL1wiXCIrIGlzIHRvIGZvcmNlIGNvbnZlcnNpb24gdG8gc3RyaW5nICh2aWEgLnRvU3RyaW5nIGlmIG9iamVjdClcclxuICAgIH1cclxufVxyXG5cclxudmFyIGFzc2VydCA9IGZ1bmN0aW9uKGNvbmRpdGlvbjogYW55LCBtZXNzYWdlID0gXCJcIikge1xyXG4gICAgaWYgKCFjb25kaXRpb24pXHJcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJBc3NlcnQgZmFpbGVkOiBcIiArIG1lc3NhZ2UpO1xyXG59O1xyXG5cclxuaW50ZXJmYWNlIEFycmF5PFQ+IHtcclxuICAgIGNsZWFyKCkgOiB2b2lkO1xyXG59IFxyXG5BcnJheS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLmxlbmd0aCA9IDA7XHJcbn1cclxuXHJcbmltcG9ydCB7T2JzZXJ2YWJsZSwgTWVzc2FnZVJlc3BvbnNlcywgbWVzc2FnZVJlc3BvbnNlfSBmcm9tIFwiLi91dGlsL21peGluc1wiO1xyXG5pbXBvcnQgZXNjYXBlIGZyb20gXCJsb2Rhc2gvZXNjYXBlXCJcclxuaW1wb3J0IGVuZHNXaXRoIGZyb20gXCJsb2Rhc2gvZW5kc1dpdGhcIlxyXG5cclxudmFyIEFOSU1BVElPTl9ERUxBWSA9IDUwMDtcclxuXHJcbmV4cG9ydCBjbGFzcyBRdWV1ZUFwcGxpY2F0aW9uIHtcclxuICAgIHByaXZhdGUgc3RhdGljIF9uYW1lID0gXCJRdWV1ZUFwcGxpY2F0aW9uXCI7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBpbnN0YW5jZSA6IFF1ZXVlQXBwbGljYXRpb247XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVJbnN0YW5jZShlbGVtOiBKUXVlcnkpIHtcclxuICAgICAgICAoPFF1ZXVlQXBwbGljYXRpb24+UXVldWVBcHBsaWNhdGlvbi5pbnN0YW5jZSkgPSBuZXcgUXVldWVBcHBsaWNhdGlvbihlbGVtKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGVsZW0gOiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIGNvdXJzZVBpbGxzIDogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSBjb3Vyc2VQYW5lcyA6IEpRdWVyeTtcclxuXHJcbiAgICBwcml2YXRlIGNvdXJzZXMgOiBDb3Vyc2VbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBfYWN0aXZlUXVldWU/IDogUXVldWU7XHJcblxyXG4gICAgcHJpdmF0ZSBtZXNzYWdlc1Nob3duIDoge1tpbmRleDpzdHJpbmddOiBib29sZWFufSA9IHt9O1xyXG4gICAgcHJpdmF0ZSBzZW5kTWVzc2FnZVBvc3RJZD86IHN0cmluZztcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKHRoaXMpO1xyXG5cclxuICAgIHByaXZhdGUgY29uc3RydWN0b3IoZWxlbSA6IEpRdWVyeSkge1xyXG4gICAgICAgIHRoaXMuZWxlbSA9IGVsZW07XHJcbiAgICAgICAgdGhpcy5jb3Vyc2VQaWxscyA9IGVsZW0uZmluZChcIi5jb3Vyc2VQaWxsc1wiKTtcclxuICAgICAgICB0aGlzLmNvdXJzZVBhbmVzID0gZWxlbS5maW5kKFwiLmNvdXJzZVBhbmVzXCIpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWRDb3Vyc2VzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIGxvYWRDb3Vyc2VzKCkge1xyXG4gICAgICAgIHRyeXtcclxuICAgICAgICAgICAgbGV0IGxpc3QgPSBhd2FpdCAkLmdldEpTT04oXCJhcGkvY291cnNlTGlzdFwiKTtcclxuICAgICAgICAgICAgdGhpcy5vbkNvdXJzZXNMb2FkKGxpc3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaChlKSB7XHJcbiAgICAgICAgICAgIG9vcHMoZSwgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbkNvdXJzZXNMb2FkKGxpc3QgOiB7W2luZGV4OnN0cmluZ106IHN0cmluZ31bXSkge1xyXG4gICAgICAgIHRoaXMuY291cnNlUGlsbHMuZW1wdHkoKTtcclxuICAgICAgICB0aGlzLmNvdXJzZVBhbmVzLmVtcHR5KCk7XHJcbiAgICAgICAgdGhpcy5jb3Vyc2VzLmNsZWFyKCk7XHJcblxyXG5cclxuICAgICAgICAvLyBObyBhY3RpdmUgY291cnNlIGluaXRpYWxseVxyXG4gICAgICAgIHRoaXMuY291cnNlUGFuZXMuYXBwZW5kKCQoJzxkaXYgY2xhc3M9XCJ0YWItcGFuZSBmYWRlIGluIGFjdGl2ZVwiPjxoMT48c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tYXJyb3ctbGVmdFwiPjwvc3Bhbj4gUGxlYXNlIHNlbGVjdCBhIGNvdXJzZS48L2gxPjwvZGl2PicpKTtcclxuXHJcbiAgICAgICAgbGlzdC5mb3JFYWNoKChjb3Vyc2VEYXRhKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAvLyBFc2NhcGUgZXZlcnl0aGluZ1xyXG4gICAgICAgICAgICAvLyBUT0RPIHJlZHVuZGFudCAtIHRoaXMgaGFwcGVucyBvbiB0aGUgc2VydmVyXHJcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBjb3Vyc2VEYXRhKXtcclxuICAgICAgICAgICAgICAgIGNvdXJzZURhdGFba2V5XSA9IGVzY2FwZShjb3Vyc2VEYXRhW2tleV0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgY291cnNlSWQgPSBjb3Vyc2VEYXRhW1wiY291cnNlSWRcIl07XHJcblxyXG4gICAgICAgICAgICAvLyBBZGQgdGhlIHBpbGwgdXNlZCB0byBzZWxlY3QgdGhlIGNvdXJzZVxyXG4gICAgICAgICAgICBsZXQgcGlsbEVsZW0gPSAkKCc8bGk+PGEgaHJlZj1cIiMnICsgY291cnNlSWQgKyAnXCIgZGF0YS10b2dnbGU9XCJwaWxsXCI+PGgzPicgKyBjb3Vyc2VJZCArICc8L2gzPjwvYT48L2xpPicpO1xyXG4gICAgICAgICAgICB0aGlzLmNvdXJzZVBpbGxzLmFwcGVuZChwaWxsRWxlbSk7XHJcblxyXG4gICAgICAgICAgICAvLyBBZGQgdGhlIGVsZW1lbnQgdGhhdCB3aWxsIGNvbnRhaW4gdGhlIGNvdXJzZSBjb250ZW50XHJcbiAgICAgICAgICAgIGxldCBjb3Vyc2VFbGVtID0gJCgnPGRpdiBpZD1cIicgKyBjb3Vyc2VJZCArICdcIiBjbGFzcz1cInRhYi1wYW5lIGZhZGVcIj48L2Rpdj4nKTtcclxuICAgICAgICAgICAgdGhpcy5jb3Vyc2VQYW5lcy5hcHBlbmQoY291cnNlRWxlbSk7XHJcblxyXG4gICAgICAgICAgICAvLyBDcmVhdGUgdGhlIGNvdXJzZSBpdHNlbGZcclxuICAgICAgICAgICAgbGV0IGNvdXJzZSA9IG5ldyBDb3Vyc2UoY291cnNlRGF0YSwgY291cnNlRWxlbSk7XHJcbiAgICAgICAgICAgIHRoaXMuY291cnNlcy5wdXNoKGNvdXJzZSk7XHJcblxyXG4gICAgICAgICAgICBwaWxsRWxlbS5maW5kKFwiYVwiKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgY291cnNlLm1ha2VBY3RpdmUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldEFjdGl2ZVF1ZXVlKHF1ZXVlIDogYW55KSB7XHJcbiAgICAgICAgdGhpcy5fYWN0aXZlUXVldWUgPSBxdWV1ZTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlNldHRpbmcgYWN0aXZlIHF1ZXVlIHRvIFwiICsgcXVldWUucXVldWVJZCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVTaWduVXBGb3JtKCk7XHJcbiAgICAgICAgdGhpcy5vYnNlcnZhYmxlLnNlbmQoXCJhY3RpdmVRdWV1ZVNldFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWN0aXZlUXVldWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FjdGl2ZVF1ZXVlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVTaWduVXBGb3JtKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9hY3RpdmVRdWV1ZSAmJiB0aGlzLl9hY3RpdmVRdWV1ZS5oYXNNYXAoKSkge1xyXG4gICAgICAgICAgICAkKFwiI3NpZ25VcE1hcEhvbGRlclwiKS5zaG93KCk7XHJcbiAgICAgICAgICAgICQoXCIjc2lnblVwTWFwTWVzc2FnZVwiKS5zaG93KCk7XHJcbiAgICAgICAgICAgICQoXCIjc2lnblVwTWFwSW1hZ2VcIikuYXR0cihcInNyY1wiLCB0aGlzLl9hY3RpdmVRdWV1ZS5tYXBJbWFnZVNyYyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAkKFwiI3NpZ25VcE1hcEhvbGRlclwiKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICQoXCIjc2lnblVwTWFwTWVzc2FnZVwiKS5oaWRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1c2VyU2lnbmVkSW4oKSB7XHJcbiAgICAgICAgdGhpcy5jb3Vyc2VzLmZvckVhY2goKGNvdXJzZSkgPT4ge1xyXG4gICAgICAgICAgICBjb3Vyc2UudXNlclNpZ25lZEluKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlZnJlc2hBY3RpdmVRdWV1ZSgpIHtcclxuICAgICAgICB0aGlzLl9hY3RpdmVRdWV1ZSAmJiB0aGlzLl9hY3RpdmVRdWV1ZS5yZWZyZXNoKCk7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoQ29udGVudCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtZXNzYWdlKG1lc3NhZ2U6IHtbaW5kZXg6c3RyaW5nXTogc3RyaW5nfSkge1xyXG4gICAgICAgIGlmICghdGhpcy5tZXNzYWdlc1Nob3duW21lc3NhZ2UuaWRdKXtcclxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlc1Nob3duW21lc3NhZ2UuaWRdID0gdHJ1ZTtcclxuICAgICAgICAgICAgJChcIiNtZXNzYWdlRGlhbG9nSGVhZGVyXCIpLmh0bWwoJ01lc3NhZ2UnKTtcclxuICAgICAgICAgICAgJChcIiNtZXNzYWdlRGlhbG9nQ29udGVudFwiKS5hcHBlbmQoJzxwPjxzcGFuIGNsYXNzPVwibGFiZWwgbGFiZWwtaW5mb1wiPicgICsgbWVzc2FnZVtcInNlbmRlclwiXSArICc8L3NwYW4+ICcgKyBtZXNzYWdlW1wibWVzc2FnZVwiXSArICc8L3A+Jyk7XHJcbiAgICAgICAgICAgICQoXCIjbWVzc2FnZURpYWxvZ1wiKS5tb2RhbChcInNob3dcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRTZW5kTWVzc2FnZVBvc3RJZChpZDogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZVBvc3RJZCA9IGlkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZW5kTWVzc2FnZShtZXNzYWdlOiBzdHJpbmcpIHtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgdXJsOiBcImFwaS9zZW5kTWVzc2FnZVwiLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBpZHRva2VuOiBVc2VyLmlkVG9rZW4oKSxcclxuICAgICAgICAgICAgICAgIGlkOiB0aGlzLnNlbmRNZXNzYWdlUG9zdElkLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogb29wc1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWZyZXNoQ29udGVudCgpIHtcclxuICAgICAgICBpZiAodGhpcy5fYWN0aXZlUXVldWUpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQudGl0bGUgPSB0aGlzLl9hY3RpdmVRdWV1ZS5jb3Vyc2Uuc2hvcnROYW1lICsgXCIgT0ggKFwiICsgdGhpcy5fYWN0aXZlUXVldWUubnVtRW50cmllcyArIFwiKVwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbm90aWZ5KHRpdGxlOiBzdHJpbmcsIG1lc3NhZ2U6IHN0cmluZykge1xyXG4gICAgICBpZiAoIU5vdGlmaWNhdGlvbikge1xyXG4gICAgICAgIGFsZXJ0KG1lc3NhZ2UpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIFRPRE86IGJ1ZyBpbiB0eXBlc2NyaXB0IHJlcXVpcmVzIGNhc3QgYmVsb3cuIENhbiBiZSByZW1vdmVkIGV2ZW50dWFsbHkuXHJcbiAgICAgICAgaWYgKCg8YW55Pk5vdGlmaWNhdGlvbikucGVybWlzc2lvbiAhPT0gXCJncmFudGVkXCIpIHtcclxuICAgICAgICAgIE5vdGlmaWNhdGlvbi5yZXF1ZXN0UGVybWlzc2lvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIG5ldyBOb3RpZmljYXRpb24odGl0bGUsIHtcclxuICAgICAgICAgICAgYm9keTogbWVzc2FnZVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIENvdXJzZSB7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgY291cnNlSWQgOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc2hvcnROYW1lIDogc3RyaW5nO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGZ1bGxOYW1lIDogc3RyaW5nO1xyXG5cclxuICAgIHByaXZhdGUgaXNBZG1pbiA6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgcXVldWVzIDogYW55W10gPSBbXTtcclxuICAgIHByaXZhdGUgYWN0aXZlUXVldWUgOiBhbnk7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBlbGVtIDogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBxdWV1ZVBpbGxzRWxlbSA6IEpRdWVyeTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgcGlja0FRdWV1ZUVsZW0gOiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IG1haW5FbGVtIDogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBxdWV1ZVBhbmVzRWxlbSA6IEpRdWVyeTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgY29udGVudEVsZW0gOiBKUXVlcnk7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKGRhdGE6IHtbaW5kZXg6c3RyaW5nXTogc3RyaW5nfSwgZWxlbTogSlF1ZXJ5KSB7XHJcblxyXG4gICAgICAgIHRoaXMuY291cnNlSWQgPSBkYXRhW1wiY291cnNlSWRcIl07XHJcbiAgICAgICAgdGhpcy5zaG9ydE5hbWUgPSBkYXRhW1wic2hvcnROYW1lXCJdO1xyXG4gICAgICAgIHRoaXMuZnVsbE5hbWUgPSBkYXRhW1wiZnVsbE5hbWVcIl07XHJcblxyXG4gICAgICAgIHRoaXMuZWxlbSA9IGVsZW07XHJcblxyXG4gICAgICAgIHRoaXMucXVldWVQaWxsc0VsZW0gPSAkKCc8dWwgY2xhc3M9XCJxdWV1ZVBpbGxzIG5hdiBuYXYtcGlsbHNcIj48L3VsPicpO1xyXG4gICAgICAgIHRoaXMuZWxlbS5hcHBlbmQodGhpcy5xdWV1ZVBpbGxzRWxlbSk7XHJcblxyXG4gICAgICAgIHRoaXMucGlja0FRdWV1ZUVsZW0gPSAkKCc8ZGl2PjwvZGl2PicpO1xyXG4gICAgICAgIHRoaXMucGlja0FRdWV1ZUVsZW0uYXBwZW5kKCQoJzxoMz48c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tYXJyb3ctdXBcIj48L3NwYW4+IFNldmVyYWwgcXVldWVzIGFyZSBhdmFpbGFibGUgZm9yICcgKyB0aGlzLnNob3J0TmFtZSArICcuIFBsZWFzZSBzZWxlY3Qgb25lLjwvaDM+JykpO1xyXG4gICAgICAgIHRoaXMuZWxlbS5hcHBlbmQodGhpcy5waWNrQVF1ZXVlRWxlbSk7XHJcblxyXG4gICAgICAgIHRoaXMubWFpbkVsZW0gPSAkKCc8ZGl2PjwvZGl2PicpO1xyXG4gICAgICAgIHRoaXMubWFpbkVsZW0uaGlkZSgpO1xyXG5cclxuICAgICAgICB0aGlzLnF1ZXVlUGFuZXNFbGVtID0gJCgnPGRpdiBjbGFzcz1cImNvbC14cy0xMiBjb2wtbWQtMTIgcXVldWVQYW5lcyB0YWItY29udGVudFwiPjwvZGl2PicpO1xyXG4gICAgICAgIHRoaXMubWFpbkVsZW0uYXBwZW5kKHRoaXMucXVldWVQYW5lc0VsZW0pO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRlbnRFbGVtID0gJCgnPGRpdiBjbGFzcz1cImNvbC14cy0xMiBjb2wtbWQtMTJcIj48L2Rpdj4nKTtcclxuICAgICAgICB0aGlzLm1haW5FbGVtLmFwcGVuZCh0aGlzLmNvbnRlbnRFbGVtKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbGVtLmFwcGVuZCh0aGlzLm1haW5FbGVtKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkQ29udGVudCgpO1xyXG4gICAgICAgIHRoaXMubG9hZFF1ZXVlcygpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtYWtlQWN0aXZlKCkge1xyXG4gICAgICAgIC8vIERvbid0IG5lZWQgdG8gZG8gYW55dGhpbmcgaW4gcGFydGljdWxhciBmb3IgdGhlIGNvdXJzZSBpdHNlbGYsXHJcbiAgICAgICAgLy8gYnV0IHdlIGRvIG5lZWQgdG8gbWFrZSBzdXJlIHRoZSBhY3RpdmUgcXVldWUgd2l0aGluIHRoaXMgY291cnNlXHJcbiAgICAgICAgLy8gaXMgdGhlIGFjdGl2ZSBxdWV1ZSBvdmVyYWxsIHNpbmNlIGl0IHdpbGwgYmUgc2hvd24uXHJcbiAgICAgICAgdGhpcy5hY3RpdmVRdWV1ZSAmJiB0aGlzLmFjdGl2ZVF1ZXVlLm1ha2VBY3RpdmUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGxvYWRDb250ZW50KCkge1xyXG4gICAgICAgIHRoaXMuY29udGVudEVsZW0ubG9hZChcInF1ZXVlLWNvbXBvbmVudC9jb3Vyc2VDb250ZW50L1wiICsgdGhpcy5jb3Vyc2VJZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsb2FkUXVldWVzKCkge1xyXG4gICAgICAgIHJldHVybiAkLmFqYXgoe1xyXG4gICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICB1cmw6IFwiYXBpL3F1ZXVlTGlzdC9cIiArIHRoaXMuY291cnNlSWQsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgc3VjY2VzczogKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMub25RdWV1ZXNMb2FkKGRhdGEpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogb29wc1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb25RdWV1ZXNMb2FkKGxpc3QgOiBhbnlbXSkge1xyXG4gICAgICAgIHRoaXMucXVldWVzLmNsZWFyKCk7XHJcbiAgICAgICAgdGhpcy5xdWV1ZVBpbGxzRWxlbS5lbXB0eSgpO1xyXG4gICAgICAgIHRoaXMucXVldWVQYW5lc0VsZW0uZW1wdHkoKTtcclxuXHJcbiAgICAgICAgbGlzdC5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBuYW1lID0gaXRlbVtcIm5hbWVcIl07XHJcbiAgICAgICAgICAgIHZhciBxdWV1ZUlkID0gaXRlbVtcInF1ZXVlSWRcIl07XHJcblxyXG4gICAgICAgICAgICAvLyBBZGQgcGlsbHMgZm9yIGVhY2ggcXVldWUgYmVsb25naW5nIHRvIHRoaXMgY291cnNlXHJcbiAgICAgICAgICAgIHZhciBwaWxsRWxlbSA9ICQoJzxsaT48YSBkYXRhLXRvZ2dsZT1cInBpbGxcIj48aDY+JyArIG5hbWUgKyAnPC9oNj48L2E+PC9saT4nKTtcclxuICAgICAgICAgICAgcGlsbEVsZW0uZmluZChcImFcIikucHJvcChcImhyZWZcIiwgXCIjcXVldWVcIiArIHF1ZXVlSWQpO1xyXG4gICAgICAgICAgICB0aGlzLnF1ZXVlUGlsbHNFbGVtLmFwcGVuZChwaWxsRWxlbSk7XHJcblxyXG4gICAgICAgICAgICAvLyBBZGQgcGFuZXMgdG8gaG9sZCB0aGUgcXVldWVcclxuICAgICAgICAgICAgdmFyIHF1ZXVlRWxlbSA9ICQoJzxkaXYgaWQ9XCJxdWV1ZScgKyBxdWV1ZUlkICsgJ1wiPjwvZGl2PicpO1xyXG4gICAgICAgICAgICBxdWV1ZUVsZW0uYWRkQ2xhc3MoXCJ0YWItcGFuZSBmYWRlXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnF1ZXVlUGFuZXNFbGVtLmFwcGVuZChxdWV1ZUVsZW0pO1xyXG5cclxuICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBxdWV1ZSBvYmplY3RzIHRoZW1zZWx2ZXNcclxuICAgICAgICAgICAgdmFyIHF1ZXVlID0gbmV3IFF1ZXVlKGl0ZW0sIHRoaXMsIHF1ZXVlRWxlbSk7XHJcbiAgICAgICAgICAgIHRoaXMucXVldWVzLnB1c2gocXVldWUpO1xyXG5cclxuICAgICAgICAgICAgcXVldWUucmVmcmVzaCgpO1xyXG5cclxuICAgICAgICAgICAgcGlsbEVsZW0uZmluZChcImFcIikuY2xpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5waWNrQVF1ZXVlRWxlbS5lbXB0eSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVRdWV1ZSA9IHF1ZXVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYWluRWxlbS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICBxdWV1ZS5tYWtlQWN0aXZlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgLy8gSWYgb25seSBvbmUgcXVldWUsIHNlbGVjdCBpdCBhdXRvbWF0aWNhbGx5XHJcbiAgICAgICAgLy8gKHBpbGxFbGVtIGFuZCBxdWV1ZUVsZW0gYXJlIHN0aWxsIGluIHNjb3BlIGV2ZW4gYWZ0ZXIgdGhlIGxvb3AgYm9keSlcclxuICAgICAgICBpZiAodGhpcy5xdWV1ZXMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMucXVldWVQaWxsc0VsZW0uY2hpbGRyZW4oKS5maXJzdCgpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnF1ZXVlUGFuZXNFbGVtLmNoaWxkcmVuKCkuZmlyc3QoKS5hZGRDbGFzcyhcImluIGFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVRdWV1ZSA9IHRoaXMucXVldWVzWzBdO1xyXG4gICAgICAgICAgICB0aGlzLnBpY2tBUXVldWVFbGVtLmhpZGUoKTtcclxuICAgICAgICAgICAgdGhpcy5tYWluRWxlbS5zaG93KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMucGlja0FRdWV1ZUVsZW0uc2hvdygpO1xyXG4gICAgICAgICAgICB0aGlzLm1haW5FbGVtLmhpZGUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc2V0QWRtaW4oVXNlci5pc0NvdXJzZUFkbWluKHRoaXMuY291cnNlSWQpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0QWRtaW4oaXNBZG1pbiA6IGJvb2xlYW4pe1xyXG4gICAgICAgIHRoaXMuaXNBZG1pbiA9IGlzQWRtaW47XHJcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMucXVldWVzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIHRoaXMucXVldWVzW2ldLnNldEFkbWluKGlzQWRtaW4pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzQWRtaW4pIHtcclxuICAgICAgICAgICAgdGhpcy5lbGVtLmFkZENsYXNzKFwiYWRtaW5cIik7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbS5yZW1vdmVDbGFzcyhcIm5vdEFkbWluXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICB0aGlzLmVsZW0uYWRkQ2xhc3MoXCJub3RBZG1pblwiKTtcclxuICAgICAgICAgICAgdGhpcy5lbGVtLnJlbW92ZUNsYXNzKFwiYWRtaW5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1c2VyU2lnbmVkSW4oKXtcclxuICAgICAgICB0aGlzLnNldEFkbWluKFVzZXIuaXNDb3Vyc2VBZG1pbih0aGlzLmNvdXJzZUlkKSk7XHJcbiAgICAgICAgdGhpcy5xdWV1ZXMuZm9yRWFjaChmdW5jdGlvbihxdWV1ZSl7XHJcbiAgICAgICAgICAgIHF1ZXVlLnVzZXJTaWduZWRJbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuY2xhc3MgQW5ub3VuY2VtZW50IHtcclxuICAgIHB1YmxpYyByZWFkb25seSBpZCA6IG51bWJlcjtcclxuICAgIHB1YmxpYyByZWFkb25seSBjb250ZW50IDogc3RyaW5nO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHRzIDogc3RyaW5nO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBxdWV1ZSA6IFF1ZXVlO1xyXG4gICAgXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGVsZW0gOiBKUXVlcnk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZGF0YToge1tpbmRleDpzdHJpbmddOiBhbnl9LCBxdWV1ZSA6IFF1ZXVlLCBlbGVtIDogSlF1ZXJ5KSB7XHJcbiAgICAgICAgdGhpcy5pZCA9IGRhdGFbXCJpZFwiXTtcclxuICAgICAgICB0aGlzLmNvbnRlbnQgPSBkYXRhW1wiY29udGVudFwiXTtcclxuICAgICAgICB0aGlzLnRzID0gZGF0YVtcInRzXCJdO1xyXG4gICAgICAgIHRoaXMucXVldWUgPSBxdWV1ZTtcclxuICAgICAgICB0aGlzLmVsZW0gPSBlbGVtO1xyXG5cclxuICAgICAgICBsZXQgcGFuZWxCb2R5OiBKUXVlcnk7XHJcbiAgICAgICAgdGhpcy5lbGVtLmFkZENsYXNzKFwicGFuZWwgcGFuZWwtaW5mb1wiKS5hcHBlbmQoXHJcbiAgICAgICAgICAgIHBhbmVsQm9keSA9ICQoJzxkaXYgY2xhc3M9XCJwYW5lbC1ib2R5IGJnLWluZm9cIj48L2Rpdj4nKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZCgnPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLWJ1bGxob3JuXCI+PC9zcGFuPiAnKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8c3Ryb25nPicgKyB0aGlzLmNvbnRlbnQgKyAnPC9zdHJvbmc+JykpXHJcbiAgICAgICAgKTtcclxuICAgICAgICAkKCc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImNsb3NlXCI+JnRpbWVzOzwvYnV0dG9uPicpXHJcbiAgICAgICAgICAgIC5hcHBlbmRUbyhwYW5lbEJvZHkpXHJcbiAgICAgICAgICAgIC5jbGljaygoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogUmVtb3ZlIHVnbHkgY29uZmlybVxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpcm0oXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVtb3ZlIHRoaXMgYW5ub3VuY2VtZW50P1xcblxcblwiICsgdGhpcy5jb250ZW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmUoKSB7XHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdHlwZTogXCJERUxFVEVcIixcclxuICAgICAgICAgICAgdXJsOiBcImFwaS9hbm5vdW5jZW1lbnRzL1wiICsgdGhpcy5pZCxcclxuICAgICAgICAgICAgc3VjY2VzcyA6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucXVldWUucmVmcmVzaCgpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogb29wc1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBRdWV1ZSB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBfbmFtZTogXCJRdWV1ZVwiO1xyXG4gICAgXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZSh0aGlzKTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgY291cnNlOiBDb3Vyc2U7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHF1ZXVlSWQ6IHN0cmluZztcclxuICAgIHB1YmxpYyByZWFkb25seSBsb2NhdGlvbjogc3RyaW5nO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNBZG1pbjogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IG51bUVudHJpZXM6IG51bWJlciA9IDA7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGFzdFJlZnJlc2g6IERhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGlzT3BlbjogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IG15UmVxdWVzdDogUXVldWVFbnRyeSB8IG51bGwgPSBudWxsO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IG1hcEltYWdlU3JjOiBzdHJpbmcgPSBcIlwiO1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgZWxlbTogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBudW1FbnRyaWVzRWxlbTogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBsYXN0UmVmcmVzaEVsZW06IEpRdWVyeTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgc3RhdHVzTWVzc2FnZUVsZW06IEpRdWVyeTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgYW5ub3VuY2VtZW50Q29udGFpbmVyRWxlbTogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBhZG1pblN0YXR1c0VsZW06IEpRdWVyeTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgYWRtaW5Db250cm9sc0VsZW06IEpRdWVyeTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgc3R1ZGVudENvbnRyb2xzRWxlbTogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBxdWV1ZUVsZW06IEpRdWVyeTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgc3RhY2tFbGVtOiBKUXVlcnk7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBhZG1pbkNvbnRyb2xzOiBBZG1pbkNvbnRyb2xzO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBzdHVkZW50Q29udHJvbHM6IFN0dWRlbnRDb250cm9scztcclxuICAgIFxyXG4gICAgcHJpdmF0ZSByZWZyZXNoRGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIHByaXZhdGUgY3VycmVudFJlZnJlc2hJbmRleCA9IDA7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZGF0YToge1tpbmRleDpzdHJpbmddOiBhbnl9LCBjb3Vyc2U6IENvdXJzZSwgZWxlbTogSlF1ZXJ5KSB7XHJcblxyXG4gICAgICAgIHRoaXMuY291cnNlID0gY291cnNlO1xyXG5cclxuICAgICAgICB0aGlzLnF1ZXVlSWQgPSBkYXRhW1wicXVldWVJZFwiXTtcclxuICAgICAgICB0aGlzLmxvY2F0aW9uID0gZGF0YVtcImxvY2F0aW9uXCJdO1xyXG4gICAgICAgIHRoaXMubWFwSW1hZ2VTcmMgPSBkYXRhW1wibWFwXCJdID8gZGF0YVtcIm1hcFwiXSA6IFwiXCI7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gZGF0YVtcIm5hbWVcIl07XHJcbiAgICAgICAgdGhpcy5lbGVtID0gZWxlbTtcclxuXHJcbiAgICAgICAgdGhpcy5pc0FkbWluID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5udW1FbnRyaWVzID0gMDtcclxuICAgICAgICB0aGlzLmN1cnJlbnRSZWZyZXNoSW5kZXggPSAwO1xyXG4gICAgICAgIHRoaXMubGFzdFJlZnJlc2ggPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoRGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmFubm91bmNlbWVudENvbnRhaW5lckVsZW0gPSAkKCc8ZGl2PjwvZGl2PicpLmFwcGVuZFRvKHRoaXMuZWxlbSk7XHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIHZhciBzdGF0dXNFbGVtID0gJCgnPHA+PC9wPicpLmFwcGVuZFRvKHRoaXMuZWxlbSk7XHJcbiAgICAgICAgc3RhdHVzRWxlbS5hcHBlbmQoXHJcbiAgICAgICAgICAgICQoJzxzcGFuIGRhdGEtdG9nZ2xlPVwidG9vbHRpcFwiIHRpdGxlPVwiTnVtYmVyIG9mIFN0dWRlbnRzXCI+PHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLWVkdWNhdGlvblwiPjwvc3Bhbj48L3NwYW4+JylcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoXCIgXCIpXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKHRoaXMubnVtRW50cmllc0VsZW0gPSAkKCc8c3Bhbj48L3NwYW4+JykpXHJcbiAgICAgICAgKTtcclxuICAgICAgICBzdGF0dXNFbGVtLmFwcGVuZCgnJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jyk7XHJcbiAgICAgICAgc3RhdHVzRWxlbS5hcHBlbmQoXHJcbiAgICAgICAgICAgICQoJzxzcGFuIGRhdGEtdG9nZ2xlPVwidG9vbHRpcFwiIHRpdGxlPVwiTGFzdCBSZWZyZXNoXCI+PHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLXJlZnJlc2hcIj48L3NwYW4+PC9zcGFuPicpXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKFwiIFwiKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZCh0aGlzLmxhc3RSZWZyZXNoRWxlbSA9ICQoJzxzcGFuPjwvc3Bhbj4nKSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHN0YXR1c0VsZW0uYXBwZW5kKCcmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsnKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGF0dXNNZXNzYWdlRWxlbSA9ICQoJzxzcGFuPkxvYWRpbmcgcXVldWUgaW5mb3JtYXRpb24uLi48L3NwYW4+Jyk7XHJcbiAgICAgICAgc3RhdHVzRWxlbS5hcHBlbmQodGhpcy5zdGF0dXNNZXNzYWdlRWxlbSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRtaW5TdGF0dXNFbGVtID0gJCgnPHNwYW4gY2xhc3M9XCJhZG1pbk9ubHlcIj48Yj4mbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDtZb3UgYXJlIGFuIGFkbWluIGZvciB0aGlzIHF1ZXVlLjwvYj48L3NwYW4+Jyk7XHJcbiAgICAgICAgc3RhdHVzRWxlbS5hcHBlbmQodGhpcy5hZG1pblN0YXR1c0VsZW0pO1xyXG5cclxuICAgICAgICB0aGlzLmFkbWluQ29udHJvbHNFbGVtID0gJCgnPGRpdiBjbGFzcz1cInBhbmVsIHBhbmVsLWRlZmF1bHQgYWRtaW5Pbmx5XCI+PGRpdiBjbGFzcz1cInBhbmVsLWJvZHlcIj48L2Rpdj48L2Rpdj4nKVxyXG4gICAgICAgICAgICAuYXBwZW5kVG8odGhpcy5lbGVtKVxyXG4gICAgICAgICAgICAuZmluZChcIi5wYW5lbC1ib2R5XCIpO1xyXG5cclxuICAgICAgICB0aGlzLmFkbWluQ29udHJvbHMgPSBuZXcgQWRtaW5Db250cm9scyh0aGlzLCB0aGlzLmFkbWluQ29udHJvbHNFbGVtKTtcclxuICAgICAgICAvLyB0aGlzLm9ic2VydmFibGUuYWRkTGlzdGVuZXIodGhpcy5hZG1pbkNvbnRyb2xzKTsgLy8gQWRtaW5Db250cm9scyBjdXJyZW50bHkgbm90IGFuIE9ic2VydmVyXHJcblxyXG4gICAgICAgIHRoaXMuc3R1ZGVudENvbnRyb2xzRWxlbSA9ICQoJzxkaXYgY2xhc3M9XCJwYW5lbCBwYW5lbC1kZWZhdWx0XCI+PGRpdiBjbGFzcz1cInBhbmVsLWJvZHlcIj48L2Rpdj48L2Rpdj4nKVxyXG4gICAgICAgICAgICAuYXBwZW5kVG8odGhpcy5lbGVtKVxyXG4gICAgICAgICAgICAuZmluZChcIi5wYW5lbC1ib2R5XCIpO1xyXG5cclxuICAgICAgICB0aGlzLnN0dWRlbnRDb250cm9scyA9IG5ldyBTdHVkZW50Q29udHJvbHModGhpcywgdGhpcy5zdHVkZW50Q29udHJvbHNFbGVtKTtcclxuICAgICAgICB0aGlzLm9ic2VydmFibGUuYWRkTGlzdGVuZXIodGhpcy5zdHVkZW50Q29udHJvbHMpO1xyXG5cclxuICAgICAgICAvLyBUT0RPOiBpcyB0aGlzIG9sZD9cclxuICAgICAgICAvLyBpZiAodGhpcy5oYXNNYXAoKSkge1xyXG4gICAgICAgIC8vICAgICB0aGlzLmFkbWluQ29udHJvbHNFbGVtLmFwcGVuZCgnPHAgY2xhc3M9XCJhZG1pbk9ubHlcIj5DbGljayB0aGUgXCJMb2NhdGVcIiBidXR0b24gb24gYSBzdHVkZW50XFwncyByZXF1ZXN0IHRvIHVwZGF0ZSB0aGUgbWFwLjwvcD4nKTtcclxuICAgICAgICAvLyAgICAgdmFyIG1hcEhvbGRlciA9ICQoJzxkaXYgc3R5bGU9XCJwb3NpdGlvbjogcmVsYXRpdmU7IG1hcmdpbi10b3A6IDEwcHg7XCI+PC9kaXY+Jyk7XHJcbiAgICAgICAgLy8gICAgIHRoaXMubWFwRWxlbSA9ICQoJzxpbWcgY2xhc3M9XCJhZG1pbk9ubHkgcXVldWUtc3RhZmZNYXBcIiBzcmM9XCJpbWcvJyArIHRoaXMubWFwSW1hZ2VTcmMgKyAnXCI+PC9pbWc+Jyk7XHJcbiAgICAgICAgLy8gICAgIG1hcEhvbGRlci5hcHBlbmQodGhpcy5tYXBFbGVtKTtcclxuICAgICAgICAvLyAgICAgdGhpcy5tYXBQaW4gPSAkKCc8c3BhbiBjbGFzcz1cImFkbWluT25seSBxdWV1ZS1sb2NhdGVQaW5cIj48c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tbWFwLW1hcmtlclwiIHN0eWxlPVwicG9zaXRpb246YWJzb2x1dGU7IGxlZnQ6LTEuM2NoO3RvcDotMC45NWVtO1wiPjwvc3Bhbj48L3NwYW4+Jyk7XHJcbiAgICAgICAgLy8gICAgIG1hcEhvbGRlci5hcHBlbmQodGhpcy5tYXBQaW4pO1xyXG4gICAgICAgIC8vICAgICB0aGlzLmFkbWluQ29udHJvbHNFbGVtLmFwcGVuZChtYXBIb2xkZXIpO1xyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgdGhpcy5xdWV1ZUVsZW0gPSAkKCc8ZGl2PjwvZGl2PicpLmFwcGVuZFRvKHRoaXMuZWxlbSk7XHJcblx0ICAgIHRoaXMuc3RhY2tFbGVtID0gJCgnPGRpdiBjbGFzcz1cImFkbWluT25seVwiPjwvZGl2PicpLmFwcGVuZFRvKHRoaXMuZWxlbSk7XHJcblxyXG4gICAgICAgIHRoaXMuZWxlbS5maW5kKCdbZGF0YS10b2dnbGU9XCJ0b29sdGlwXCJdJykudG9vbHRpcCgpO1xyXG5cclxuICAgICAgICB0aGlzLnVzZXJTaWduZWRJbigpOyAvLyBUT0RPIGNoYW5nZSBuYW1lIHRvIHVwZGF0ZVVzZXI/XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1ha2VBY3RpdmVPbkNsaWNrKGVsZW0gOiBKUXVlcnkpIHtcclxuICAgICAgICBlbGVtLmNsaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5tYWtlQWN0aXZlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1ha2VBY3RpdmUoKSB7XHJcbiAgICAgICAgUXVldWVBcHBsaWNhdGlvbi5pbnN0YW5jZS5zZXRBY3RpdmVRdWV1ZSh0aGlzKTtcclxuICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVmcmVzaCgpIHtcclxuXHJcbiAgICAgICAgLy8gbXlSZWZyZXNoSW5kZXggaXMgY2FwdHVyZWQgaW4gYSBjbG9zdXJlIHdpdGggdGhlIGNhbGxiYWNrLlxyXG4gICAgICAgIC8vIGlmIHJlZnJlc2ggaGFkIGJlZW4gY2FsbGVkIGFnYWluLCB0aGUgaW5kZXggd29uJ3QgbWF0Y2ggYW5kXHJcbiAgICAgICAgLy8gd2UgZG9uJ3QgZG8gYW55dGhpbmcuIHRoaXMgcHJldmVudHMgdGhlIHNpdHVhdGlvbiB3aGVyZSBzb21lb25lXHJcbiAgICAgICAgLy8gc2lnbnMgdXAgYnV0IHRoZW4gYSBwZW5kaW5nIHJlcXVlc3QgZnJvbSBiZWZvcmUgdGhleSBkaWQgc28gZmluaXNoZXNcclxuICAgICAgICAvLyBhbmQgY2F1c2VzIGl0IHRvIGxvb2sgbGlrZSB0aGV5IHdlcmUgaW1tZWRpYXRlbHkgcmVtb3ZlZC4gdGhpcyBhbHNvXHJcbiAgICAgICAgLy8gZml4ZXMgYSBzaW1pbGFyIHByb2JsZW0gd2hlbiBhbiBhZG1pbiByZW1vdmVzIHNvbWVvbmUgYnV0IHRoZW4gYVxyXG4gICAgICAgIC8vIHBlbmRpbmcgcmVmcmVzaCBtYWtlcyB0aGVtIHBvcCBiYWNrIHVwIHRlbXBvcmFyaWx5LlxyXG4gICAgICAgIHRoaXMuY3VycmVudFJlZnJlc2hJbmRleCArPSAxO1xyXG4gICAgICAgIHZhciBteVJlZnJlc2hJbmRleCA9IHRoaXMuY3VycmVudFJlZnJlc2hJbmRleDtcclxuXHJcbiAgICAgICAgcmV0dXJuICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICB1cmw6IFwiYXBpL2xpc3RcIixcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgcXVldWVJZDogdGhpcy5xdWV1ZUlkXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgc3VjY2VzczogKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIGlmIGFub3RoZXIgcmVmcmVzaCBoYXMgYmVlbiByZXF1ZXN0ZWQsIGlnbm9yZSB0aGUgcmVzdWx0cyBvZiB0aGlzIG9uZVxyXG4gICAgICAgICAgICAgICAgaWYgKG15UmVmcmVzaEluZGV4ID09PSB0aGlzLmN1cnJlbnRSZWZyZXNoSW5kZXgpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaFJlc3BvbnNlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogb29wc1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWZyZXNoUmVzcG9uc2UoZGF0YSA6IHtbaW5kZXg6IHN0cmluZ106IGFueX0pIHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucmVmcmVzaERpc2FibGVkKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBNZXNzYWdlIGZvciBpbmRpdmlkdWFsIHVzZXJcclxuICAgICAgICBpZiAoZGF0YVtcIm1lc3NhZ2VcIl0pIHtcclxuICAgICAgICAgICAgUXVldWVBcHBsaWNhdGlvbi5pbnN0YW5jZS5tZXNzYWdlKGRhdGFbXCJtZXNzYWdlXCJdKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEFubm91bmNlbWVudCBmb3IgdGhpcyBxdWV1ZSBhcyBhIHdob2xlXHJcbiAgICAgICAgdGhpcy5hbm5vdW5jZW1lbnRDb250YWluZXJFbGVtLmVtcHR5KCk7XHJcbiAgICAgICAgbGV0IGFubm91bmNlbWVudHNEYXRhID0gPGFueVtdPmRhdGFbXCJhbm5vdW5jZW1lbnRzXCJdO1xyXG4gICAgICAgIGFubm91bmNlbWVudHNEYXRhLmZvckVhY2goKGFEYXRhOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgbGV0IGFubm91bmNlbWVudEVsZW0gPSAkKFwiPGRpdj48L2Rpdj5cIikuYXBwZW5kVG8odGhpcy5hbm5vdW5jZW1lbnRDb250YWluZXJFbGVtKTtcclxuICAgICAgICAgICAgbmV3IEFubm91bmNlbWVudChhRGF0YSwgdGhpcywgYW5ub3VuY2VtZW50RWxlbSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICBpZiAoYW5ub3VuY2VtZW50c0RhdGEubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmFubm91bmNlbWVudENvbnRhaW5lckVsZW0uc2hvdygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5hbm5vdW5jZW1lbnRDb250YWluZXJFbGVtLmhpZGUoKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAoPGJvb2xlYW4+dGhpcy5pc09wZW4pID0gZGF0YVtcImlzT3BlblwiXTtcclxuICAgICAgICBpZiAodGhpcy5pc09wZW4pIHtcclxuICAgICAgICAgICAgdGhpcy5zdGF0dXNNZXNzYWdlRWxlbS5odG1sKFwiVGhlIHF1ZXVlIGlzIG9wZW4uXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IHNjaGVkdWxlID0gZGF0YVtcInNjaGVkdWxlXCJdO1xyXG4gICAgICAgICAgICBsZXQgaGFsZkhvdXIgPSBkYXRhW1wiaGFsZkhvdXJcIl07XHJcbiAgICAgICAgICAgIGxldCBuZXh0T3BlbiA9IC0xO1xyXG4gICAgICAgICAgICBmb3IobGV0IGkgPSBoYWxmSG91cjsgaSA8IDQ4OyArK2kpIHtcclxuICAgICAgICAgICAgICAgIGxldCBzY2hlZHVsZVR5cGUgPSBzY2hlZHVsZS5jaGFyQXQoaSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2NoZWR1bGVUeXBlID09PSBcIm9cIiB8fCBzY2hlZHVsZVR5cGUgPT09IFwicFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dE9wZW4gPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAobmV4dE9wZW4gPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXR1c01lc3NhZ2VFbGVtLmh0bWwoXCJUaGUgcXVldWUgaXMgY2xvc2VkIGZvciB0b2RheS5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZCA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICBkLnNldEhvdXJzKDApO1xyXG4gICAgICAgICAgICAgICAgZC5zZXRNaW51dGVzKDApO1xyXG4gICAgICAgICAgICAgICAgZC5zZXRTZWNvbmRzKDApO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBuZXdEYXRlID0gbmV3IERhdGUoZC5nZXRUaW1lKCkgKyBuZXh0T3BlbiozMCo2MDAwMCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXR1c01lc3NhZ2VFbGVtLmh0bWwoXCJUaGUgcXVldWUgaXMgY2xvc2VkIHJpZ2h0IG5vdy4gSXQgd2lsbCBvcGVuIGF0IFwiICsgbmV3RGF0ZS50b0xvY2FsZVRpbWVTdHJpbmcoKSArIFwiLlwiKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgbGV0IHF1ZXVlID0gZGF0YVtcInF1ZXVlXCJdO1xyXG4gICAgICAgIHRoaXMucXVldWVFbGVtLmVtcHR5KCk7XHJcbiAgICAgICAgbGV0IHF1ZXVlRW50cmllcyA9IFtdO1xyXG4gICAgICAgIGxldCBteVJlcXVlc3QgOiAoUXVldWVFbnRyeSB8IG51bGwpID0gbnVsbDtcclxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgbGV0IGl0ZW0gPSBxdWV1ZVtpXTtcclxuXHJcbiAgICAgICAgICAgIGxldCBpdGVtRWxlbSA9ICQoXCI8bGkgY2xhc3M9J2xpc3QtZ3JvdXAtaXRlbSc+PC9saT5cIik7XHJcbiAgICAgICAgICAgIGxldCBlbnRyeSA9IG5ldyBRdWV1ZUVudHJ5KHRoaXMsIGl0ZW0sIGksIGl0ZW1FbGVtKTtcclxuICAgICAgICAgICAgcXVldWVFbnRyaWVzLnB1c2goZW50cnkpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFteVJlcXVlc3QgJiYgVXNlci5pc01lKGVudHJ5LmVtYWlsKSkge1xyXG4gICAgICAgICAgICAgICAgbXlSZXF1ZXN0ID0gZW50cnk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMucXVldWVFbGVtLmFwcGVuZChpdGVtRWxlbSk7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNldE15UmVxdWVzdChteVJlcXVlc3QpO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5vYnNlcnZhYmxlLnNlbmQoXCJxdWV1ZVJlZnJlc2hlZFwiKTtcclxuXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoZGF0YVtcInN0YWNrXCJdLCBudWxsLCA0KSk7XHJcbiAgICAgICAgdGhpcy5zdGFja0VsZW0uaHRtbChcIjxoMz5UaGUgU3RhY2s8L2gzPjxiciAvPjxwPk1vc3QgcmVjZW50bHkgcmVtb3ZlZCBhdCB0b3A8L3A+PHByZT5cIiArIEpTT04uc3RyaW5naWZ5KGRhdGFbXCJzdGFja1wiXSwgbnVsbCwgNCkgKyBcIjwvcHJlPlwiKTtcclxuXHJcblxyXG4gICAgICAgIHZhciBvbGROdW1FbnRyaWVzID0gdGhpcy5udW1FbnRyaWVzO1xyXG4gICAgICAgICg8bnVtYmVyPnRoaXMubnVtRW50cmllcykgPSBxdWV1ZS5sZW5ndGg7XHJcbiAgICAgICAgaWYodGhpcy5pc0FkbWluICYmIG9sZE51bUVudHJpZXMgPT09IDAgJiYgdGhpcy5udW1FbnRyaWVzID4gMCkge1xyXG4gICAgICAgICAgUXVldWVBcHBsaWNhdGlvbi5pbnN0YW5jZS5ub3RpZnkoXCJSZXF1ZXN0IFJlY2VpdmVkIVwiLCBxdWV1ZUVudHJpZXNbMF0ubmFtZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAoPERhdGU+dGhpcy5sYXN0UmVmcmVzaCkgPSBuZXcgRGF0ZSgpO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5udW1FbnRyaWVzRWxlbS5odG1sKFwiXCIrdGhpcy5udW1FbnRyaWVzKTtcclxuICAgICAgICB0aGlzLmxhc3RSZWZyZXNoRWxlbS5odG1sKHRoaXMubGFzdFJlZnJlc2gudG9Mb2NhbGVUaW1lU3RyaW5nKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRNeVJlcXVlc3QobXlSZXF1ZXN0OiBRdWV1ZUVudHJ5IHwgbnVsbCkge1xyXG4gICAgICAgICg8UXVldWVFbnRyeSB8IG51bGw+dGhpcy5teVJlcXVlc3QpID0gbXlSZXF1ZXN0O1xyXG4gICAgICAgIHRoaXMub2JzZXJ2YWJsZS5zZW5kKFwibXlSZXF1ZXN0U2V0XCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVSZXF1ZXN0KHJlcXVlc3Q6IFF1ZXVlRW50cnkpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImF0dGVtcHRpbmcgdG8gcmVtb3ZlIFwiICsgcmVxdWVzdC5lbWFpbCArIFwiIGZyb20gcXVldWUgXCIgKyB0aGlzLnF1ZXVlSWQpO1xyXG4gICAgICAgIHRoaXMuZGlzYWJsZVJlZnJlc2goKTtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIHVybDogXCJhcGkvcmVtb3ZlXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0LmlkXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic3VjY2Vzc2Z1bGx5IHJlbW92ZWQgXCIgKyByZXF1ZXN0LmVtYWlsICsgXCIgZnJvbSBxdWV1ZSBcIiArIHNlbGYucXVldWVJZCk7XHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0Lm9uUmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBvb3BzXHJcbiAgICAgICAgfSkuYWx3YXlzKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHNlbGYuZW5hYmxlUmVmcmVzaCgpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5yZWZyZXNoKCk7XHJcbiAgICAgICAgICAgIH0sIEFOSU1BVElPTl9ERUxBWSlcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2FuY2VsSW5jb21pbmdSZWZyZXNoKCkge1xyXG4gICAgICB0aGlzLmN1cnJlbnRSZWZyZXNoSW5kZXggKz0gMTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGlzYWJsZVJlZnJlc2goKSB7XHJcbiAgICAgIHRoaXMucmVmcmVzaERpc2FibGVkID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZW5hYmxlUmVmcmVzaCgpIHtcclxuICAgICAgdGhpcy5yZWZyZXNoRGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xlYXIoKSB7XHJcbiAgICAgICAgcmV0dXJuICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICB1cmw6IFwiYXBpL2NsZWFyXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIGlkdG9rZW46IFVzZXIuaWRUb2tlbigpLFxyXG4gICAgICAgICAgICAgICAgcXVldWVJZDogdGhpcy5xdWV1ZUlkXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6ICgpID0+IHsgdGhpcy5jbGVhckxpc3QoKSB9LFxyXG4gICAgICAgICAgICBlcnJvcjogb29wc1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2xlYXJMaXN0KCkge1xyXG4gICAgICAgIHRoaXMucXVldWVFbGVtLmNoaWxkcmVuKCkuc2xpZGVVcCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzaWduVXAobmFtZTogc3RyaW5nLCBsb2NhdGlvbjogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nLCBtYXBYPzogbnVtYmVyLCBtYXBZPzogbnVtYmVyKSB7XHJcbiAgICAgICAgcmV0dXJuICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICB1cmw6IFwiYXBpL3NpZ25VcFwiLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBpZHRva2VuOiBVc2VyLmlkVG9rZW4oKSxcclxuICAgICAgICAgICAgICAgIHF1ZXVlSWQ6IHRoaXMucXVldWVJZCxcclxuICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb24sXHJcbiAgICAgICAgICAgICAgICBtYXBYOiBtYXBYLFxyXG4gICAgICAgICAgICAgICAgbWFwWTogbWFwWSxcclxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVtcImZhaWxcIl0pIHtcclxuICAgICAgICAgICAgICAgICAgICBzaG93RXJyb3JNZXNzYWdlKGRhdGFbXCJyZWFzb25cIl0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBvb3BzXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZVJlcXVlc3QobmFtZTogc3RyaW5nLCBsb2NhdGlvbjogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nLCBtYXBYPzogbnVtYmVyLCBtYXBZPzogbnVtYmVyKSB7XHJcbiAgICAgICAgcmV0dXJuICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICB1cmw6IFwiYXBpL3VwZGF0ZVJlcXVlc3RcIixcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMubXlSZXF1ZXN0IS5pZCxcclxuICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb24sXHJcbiAgICAgICAgICAgICAgICBtYXBYOiBtYXBYLFxyXG4gICAgICAgICAgICAgICAgbWFwWTogbWFwWSxcclxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVtcImZhaWxcIl0pIHtcclxuICAgICAgICAgICAgICAgICAgICBzaG93RXJyb3JNZXNzYWdlKGRhdGFbXCJyZWFzb25cIl0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBvb3BzXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldEFkbWluKGlzQWRtaW46IGJvb2xlYW4pIHtcclxuICAgICAgICB2YXIgb2xkQWRtaW4gPSB0aGlzLmlzQWRtaW47XHJcbiAgICAgICAgKDxib29sZWFuPnRoaXMuaXNBZG1pbikgPSBpc0FkbWluO1xyXG5cclxuICAgICAgICAvLyBJZiBvdXIgcHJpdmlsZWdlcyBjaGFuZ2UsIGhpdCB0aGUgc2VydmVyIGZvciBhcHByb3ByaWF0ZSBkYXRhLFxyXG4gICAgICAgIC8vIGJlY2F1c2UgaXQgZ2l2ZXMgb3V0IGRpZmZlcmVudCB0aGluZ3MgZm9yIG5vcm1hbCB2cy4gYWRtaW5cclxuICAgICAgICBpZiAob2xkQWRtaW4gIT0gdGhpcy5pc0FkbWluKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVzZXJTaWduZWRJbigpIHtcclxuICAgICAgICB0aGlzLm9ic2VydmFibGUuc2VuZChcInVzZXJTaWduZWRJblwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaGFzTWFwKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1hcEltYWdlU3JjICE9PSBcIlwiO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVHcm91cHMoZm9ybURhdGE6IEZvcm1EYXRhKSB7XHJcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKFwicXVldWVJZFwiLCB0aGlzLnF1ZXVlSWQpO1xyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICB1cmw6IFwiYXBpL3VwZGF0ZUdyb3Vwc1wiLFxyXG4gICAgICAgICAgICBjYWNoZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBmYWxzZSxcclxuICAgICAgICAgICAgcHJvY2Vzc0RhdGE6IGZhbHNlLFxyXG4gICAgICAgICAgICBkYXRhOiBmb3JtRGF0YSxcclxuICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhWydzdWNjZXNzJ10pIHtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydChcImdyb3VwcyB1cGxvYWRlZCBzdWNjZXNzZnVsbHlcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydChcImVycm9yIHVwbG9hZGluZyBncm91cHMuIHJvc3RlciBhbmQgZ3JvdXBzIGhhdmUgYmVlbiBjbGVhcmVkIC0geW91J2xsIGhhdmUgdG8gdXBsb2FkIHRoZW0gYWdhaW4sIHNvcnJ5IVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vICAgICAvLyBpZiBhbm90aGVyIHJlZnJlc2ggaGFzIGJlZW4gcmVxdWVzdGVkLCBpZ25vcmUgdGhlIHJlc3VsdHMgb2YgdGhpcyBvbmVcclxuICAgICAgICAgICAgICAgIC8vICAgICBpZiAobXlSZWZyZXNoSW5kZXggPT09IHNlbGYuY3VycmVudFJlZnJlc2hJbmRleCl7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHNlbGYucmVmcmVzaFJlc3BvbnNlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoXCJlcnJvciB1cGxvYWRpbmcgZ3JvdXBzXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVDb25maWd1cmF0aW9uKG9wdGlvbnM6IHtbaW5kZXg6IHN0cmluZ106IHN0cmluZzt9KSB7XHJcbiAgICAgICAgb3B0aW9ucy5xdWV1ZUlkID0gdGhpcy5xdWV1ZUlkO1xyXG4gICAgICAgIHJldHVybiAkLmFqYXgoe1xyXG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgdXJsOiBcImFwaS91cGRhdGVRdWV1ZUNvbmZpZ3VyYXRpb25cIixcclxuICAgICAgICAgICAgZGF0YTogb3B0aW9ucyxcclxuICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGFbXCJmYWlsXCJdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvd0Vycm9yTWVzc2FnZShkYXRhW1wicmVhc29uXCJdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IG9vcHNcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkQW5ub3VuY2VtZW50KGNvbnRlbnQ6IHN0cmluZykge1xyXG4gICAgICAgIHJldHVybiAkLmFqYXgoe1xyXG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgdXJsOiBcImFwaS9hbm5vdW5jZW1lbnRzXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIHF1ZXVlSWQ6IHRoaXMucXVldWVJZCxcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGNvbnRlbnRcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3VjY2VzczogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBvb3BzXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFN0dWRlbnRDb250cm9scyB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBfbmFtZSA9IFwiU3R1ZGVudENvbnRyb2xzXCI7XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgVVBEQVRFX1JFUVVFU1RfQlVUVE9OX1VQX1RPX0RBVEUgPSBcIjxzcGFuIGNsYXNzPSdnbHlwaGljb24gZ2x5cGhpY29uLW9rJz48L3NwYW4+IFJlcXVlc3QgVXBkYXRlZFwiO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgVVBEQVRFX1JFUVVFU1RfQlVUVE9OX1VQREFURSA9IFwiVXBkYXRlIFJlcXVlc3RcIjtcclxuXHJcbiAgICBwcml2YXRlIHF1ZXVlOiBRdWV1ZTtcclxuXHJcbiAgICBwcml2YXRlIGZvcm1IYXNDaGFuZ2VzOiBib29sZWFuO1xyXG5cclxuICAgIHByaXZhdGUgZWxlbTogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSBzdGF0dXNFbGVtOiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIHNpZ25VcEZvcm06IEpRdWVyeTtcclxuICAgIHByaXZhdGUgc2lnblVwTmFtZUlucHV0OiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIHNpZ25VcERlc2NyaXB0aW9uSW5wdXQ6IEpRdWVyeTtcclxuICAgIHByaXZhdGUgc2lnblVwTG9jYXRpb25JbnB1dDogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSBtYXBIb2xkZXI/OiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIHNpZ25VcE1hcD86IEpRdWVyeTtcclxuICAgIHByaXZhdGUgc2lnblVwUGluPzogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSBtYXBYPzogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBtYXBZPzogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBzaWduVXBCdXR0b25zOiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIHVwZGF0ZVJlcXVlc3RCdXR0b25zOiBKUXVlcnk7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IF9hY3QhIDogTWVzc2FnZVJlc3BvbnNlcztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihxdWV1ZTogUXVldWUsIGVsZW06IEpRdWVyeSkge1xyXG4gICAgICAgIHRoaXMucXVldWUgPSBxdWV1ZTtcclxuICAgICAgICB0aGlzLmVsZW0gPSBlbGVtO1xyXG5cclxuICAgICAgICB0aGlzLmZvcm1IYXNDaGFuZ2VzID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGxldCBjb250YWluZXJFbGVtID0gJCgnPGRpdj48L2Rpdj4nKTtcclxuXHJcbiAgICAgICAgbGV0IHJlZ3VsYXJGb3JtRWxlbTtcclxuICAgICAgICB0aGlzLnNpZ25VcEZvcm0gPSAkKCc8Zm9ybSBpZD1cInNpZ25VcEZvcm1cIiByb2xlPVwiZm9ybVwiIGNsYXNzPVwiZm9ybS1ob3Jpem9udGFsXCI+PC9mb3JtPicpXHJcbiAgICAgICAgICAgIC5hcHBlbmQocmVndWxhckZvcm1FbGVtID0gJCgnPGRpdj48L2Rpdj4nKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPjwvZGl2PicpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgnPGxhYmVsIGNsYXNzPVwiY29udHJvbC1sYWJlbCBjb2wtc20tM1wiIGZvcj1cInNpZ25VcE5hbWUnICsgcXVldWUucXVldWVJZCArICdcIj5OYW1lOjwvbGFiZWw+JylcclxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxkaXYgY2xhc3M9XCJjb2wtc20tOVwiPjwvZGl2PicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQodGhpcy5zaWduVXBOYW1lSW5wdXQgPSAkKCc8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIGlkPVwic2lnblVwTmFtZScgKyBxdWV1ZS5xdWV1ZUlkICsgJ1wiIHJlcXVpcmVkPVwicmVxdWlyZWRcIiBtYXhsZW5ndGg9XCIzMFwiIHBsYWNlaG9sZGVyPVwiTmljZSB0byBtZWV0IHlvdSFcIj4nKSlcclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+PC9kaXY+JylcclxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCc8bGFiZWwgY2xhc3M9XCJjb250cm9sLWxhYmVsIGNvbC1zbS0zXCIgZm9yPVwic2lnblVwRGVzY3JpcHRpb24nICsgcXVldWUucXVldWVJZCArICdcIj5EZXNjcmlwdGlvbjo8L2xhYmVsPicpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8ZGl2IGNsYXNzPVwiY29sLXNtLTlcIj48L2Rpdj4nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKHRoaXMuc2lnblVwRGVzY3JpcHRpb25JbnB1dCA9ICQoJzxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgaWQ9XCJzaWduVXBEZXNjcmlwdGlvbicgKyBxdWV1ZS5xdWV1ZUlkICsgJ1wicmVxdWlyZWQ9XCJyZXF1aXJlZFwiIG1heGxlbmd0aD1cIjEwMFwiIHBsYWNlaG9sZGVyPVwiZS5nLiBTZWdmYXVsdCBpbiBmdW5jdGlvbiBYLCB1c2luZyB0aGUgbWFwIGRhdGEgc3RydWN0dXJlLCBldGMuXCI+JykpXHJcbiAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPjwvZGl2PicpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgnPGxhYmVsIGNsYXNzPVwiY29udHJvbC1sYWJlbCBjb2wtc20tM1wiIGZvcj1cInNpZ25VcExvY2F0aW9uJyArIHF1ZXVlLnF1ZXVlSWQgKyAnXCI+TG9jYXRpb246PC9sYWJlbD4nKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGRpdiBjbGFzcz1cImNvbC1zbS05XCI+PC9kaXY+JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCh0aGlzLnNpZ25VcExvY2F0aW9uSW5wdXQgPSAkKCc8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIGlkPVwic2lnblVwTG9jYXRpb24nICsgcXVldWUucXVldWVJZCArICdcInJlcXVpcmVkPVwicmVxdWlyZWRcIiBtYXhsZW5ndGg9XCIzMFwiIHBsYWNlaG9sZGVyPVwiZS5nLiBDb21wdXRlciAjMzYsIGxhcHRvcCBieSBnbGFzcy9hdHJpdW0gZG9vciwgZXRjLlwiPicpKVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJzxkaXYgY2xhc3M9XCJoaWRkZW4teHMgZm9ybS1ncm91cFwiPjxkaXYgY2xhc3M9XCJjb2wtc20tb2Zmc2V0LTMgY29sLXNtLTlcIj48YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBjbGFzcz1cImJ0biBidG4tc3VjY2VzcyBxdWV1ZS1zaWduVXBCdXR0b25cIj5TaWduIFVwPC9idXR0b24+IDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzPVwiYnRuIGJ0bi1zdWNjZXNzIHF1ZXVlLXVwZGF0ZVJlcXVlc3RCdXR0b25cIiBzdHlsZT1cImRpc3BsYXk6bm9uZTtcIj48L2J1dHRvbj48L2Rpdj48L2Rpdj4nKVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICBjb250YWluZXJFbGVtLmFwcGVuZCh0aGlzLnNpZ25VcEZvcm0pO1xyXG5cclxuXHR0aGlzLnN0YXR1c0VsZW0gPSAkKFwiPGRpdj48L2Rpdj5cIik7XHJcblx0Y29udGFpbmVyRWxlbS5hcHBlbmQodGhpcy5zdGF0dXNFbGVtKTtcclxuXHJcbiAgICAgICAgdGhpcy5zaWduVXBGb3JtLmZpbmQoXCJpbnB1dFwiKS5vbihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5mb3JtQ2hhbmdlZCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgaWYgKHRoaXMucXVldWUuaGFzTWFwKCkpIHtcclxuICAgICAgICAgICAgcmVndWxhckZvcm1FbGVtLmFkZENsYXNzKFwiY29sLXhzLTEyIGNvbC1zbS04XCIpO1xyXG4gICAgICAgICAgICByZWd1bGFyRm9ybUVsZW0uY3NzKFwicGFkZGluZ1wiLCBcIjBcIik7XHJcbiAgICAgICAgICAgIHRoaXMuc2lnblVwRm9ybS5hcHBlbmQodGhpcy5tYXBIb2xkZXIgPSAkKCc8ZGl2IGNsYXNzPVwiY29sLXhzLTEyIGNvbC1zbS00XCIgc3R5bGU9XCJwb3NpdGlvbjogcmVsYXRpdmU7IHBhZGRpbmc6MFwiPjwvZGl2PicpXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKHRoaXMuc2lnblVwTWFwID0gJCgnPGltZyBzcmM9XCJpbWcvJyArIHRoaXMucXVldWUubWFwSW1hZ2VTcmMgKyAnXCIgY2xhc3M9XCJxdWV1ZS1zaWduVXBNYXBcIiBzdHlsZT1cIndpZHRoOjEwMCVcIj48L2ltZz4nKSlcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQodGhpcy5zaWduVXBQaW4gPSAkKCc8c3BhbiBjbGFzcz1cInF1ZXVlLWxvY2F0ZVBpblwiPjxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1tYXAtbWFya2VyXCIgc3R5bGU9XCJwb3NpdGlvbjphYnNvbHV0ZTsgbGVmdDotMS4zY2g7dG9wOi0wLjk1ZW07XCI+PC9zcGFuPjwvc3Bhbj4nKSlcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFkZCBkaWZmZXJlbnQgbGF5b3V0IGZvciBzaWduIHVwIGJ1dHRvbiBvbiBzbWFsbCBzY3JlZW5zXHJcbiAgICAgICAgICAgIHRoaXMuc2lnblVwRm9ybS5hcHBlbmQoJCgnPGRpdiBjbGFzcz1cInZpc2libGUteHMgY29sLXhzLTEyXCIgc3R5bGU9XCJwYWRkaW5nOiAwO1wiPjxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+PGRpdiBjbGFzcz1cImNvbC1zbS1vZmZzZXQtMyBjb2wtc20tOVwiPjxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzPVwiYnRuIGJ0bi1zdWNjZXNzIHF1ZXVlLXNpZ25VcEJ1dHRvblwiPlNpZ24gVXA8L2J1dHRvbj4gPGJ1dHRvbiB0eXBlPVwic3VibWl0XCIgY2xhc3M9XCJidG4gYnRuLXN1Y2Nlc3MgcXVldWUtdXBkYXRlUmVxdWVzdEJ1dHRvblwiIHN0eWxlPVwiZGlzcGxheTpub25lO1wiPjwvYnV0dG9uPjwvZGl2PjwvZGl2PjwvZGl2PicpKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBwaW4gPSB0aGlzLnNpZ25VcFBpbjtcclxuICAgICAgICAgICAgdGhpcy5tYXBYID0gNTA7XHJcbiAgICAgICAgICAgIHRoaXMubWFwWSA9IDUwO1xyXG4gICAgICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIHRoaXMuc2lnblVwTWFwLmNsaWNrKGZ1bmN0aW9uIChlKSB7IC8vT2Zmc2V0IG1vdXNlIFBvc2l0aW9uXHJcbiAgICAgICAgICAgICAgICAvLyBVc2UgISBmb3Igbm9uLW51bGwgYXNzZXJ0aW9uXHJcbiAgICAgICAgICAgICAgICBzZWxmLm1hcFggPSAxMDAgKiBNYXRoLnRydW5jKChlLnBhZ2VYIC0gJCh0aGlzKS5vZmZzZXQoKSEubGVmdCkpIC8gJCh0aGlzKS53aWR0aCgpITtcclxuICAgICAgICAgICAgICAgIHNlbGYubWFwWSA9IDEwMCAqIE1hdGgudHJ1bmMoZS5wYWdlWSAtICQodGhpcykub2Zmc2V0KCkhLnRvcCkgLyAkKHRoaXMpLmhlaWdodCgpITtcclxuICAgICAgICAgICAgICAgIC8vIHZhciBwaW5MZWZ0ID0gbWFwWCAtIHBpbi53aWR0aCgpLzI7XHJcbiAgICAgICAgICAgICAgICAvLyB2YXIgcGluVG9wID0gbWFwWSAtIHBpbi5oZWlnaHQoKTtcclxuICAgICAgICAgICAgICAgIHBpbi5jc3MoXCJsZWZ0XCIsIHNlbGYubWFwWCArIFwiJVwiKTtcclxuICAgICAgICAgICAgICAgIHBpbi5jc3MoXCJ0b3BcIiwgc2VsZi5tYXBZICsgXCIlXCIpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5mb3JtQ2hhbmdlZCgpO1xyXG4vLyAgICAgICAgICAgIGFsZXJ0KFwieDpcIiArIG1hcFggKyBcIiwgeTpcIiArIG1hcFkpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIERpc2FibGUgcmVndWxhciBsb2NhdGlvbiBpbnB1dFxyXG4gICAgICAgICAgICB0aGlzLnNpZ25VcExvY2F0aW9uSW5wdXQudmFsKFwiQ2xpY2sgb24gdGhlIG1hcCFcIik7XHJcbiAgICAgICAgICAgIHRoaXMuc2lnblVwTG9jYXRpb25JbnB1dC5wcm9wKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNpZ25VcEZvcm0uc3VibWl0KChlKSA9PiB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdmFyIHNpZ25VcE5hbWU6IHN0cmluZyA9IDxzdHJpbmc+dGhpcy5zaWduVXBOYW1lSW5wdXQudmFsKCk7XHJcbiAgICAgICAgICAgIHZhciBzaWduVXBEZXNjcmlwdGlvbjogc3RyaW5nID0gPHN0cmluZz50aGlzLnNpZ25VcERlc2NyaXB0aW9uSW5wdXQudmFsKCk7XHJcbiAgICAgICAgICAgIHZhciBzaWduVXBMb2NhdGlvbjogc3RyaW5nID0gPHN0cmluZz50aGlzLnNpZ25VcExvY2F0aW9uSW5wdXQudmFsKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXNpZ25VcE5hbWUgfHwgc2lnblVwTmFtZS5sZW5ndGggPT0gMCB8fFxyXG4gICAgICAgICAgICAgICAgIXNpZ25VcExvY2F0aW9uIHx8IHNpZ25VcExvY2F0aW9uLmxlbmd0aCA9PSAwIHx8XHJcbiAgICAgICAgICAgICAgICAhc2lnblVwRGVzY3JpcHRpb24gfHwgc2lnblVwRGVzY3JpcHRpb24ubGVuZ3RoID09IDApe1xyXG4gICAgICAgICAgICAgICAgc2hvd0Vycm9yTWVzc2FnZShcIllvdSBtdXN0IGZpbGwgaW4gYWxsIHRoZSBmaWVsZHMuXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIXRoaXMucXVldWUubXlSZXF1ZXN0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlLnNpZ25VcChcclxuICAgICAgICAgICAgICAgICAgICBzaWduVXBOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpZ25VcExvY2F0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpZ25VcERlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFwWCxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcFkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5xdWV1ZS51cGRhdGVSZXF1ZXN0KFxyXG4gICAgICAgICAgICAgICAgICAgIHNpZ25VcE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgc2lnblVwTG9jYXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgc2lnblVwRGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBYLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFwWSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLmZvcm1IYXNDaGFuZ2VzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUmVxdWVzdEJ1dHRvbnMucmVtb3ZlQ2xhc3MoXCJidG4td2FybmluZ1wiKTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVSZXF1ZXN0QnV0dG9ucy5hZGRDbGFzcyhcImJ0bi1zdWNjZXNzXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVJlcXVlc3RCdXR0b25zLnByb3AoXCJkaXNhYmxlZFwiLCB0cnVlKTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVSZXF1ZXN0QnV0dG9ucy5odG1sKFN0dWRlbnRDb250cm9scy5VUERBVEVfUkVRVUVTVF9CVVRUT05fVVBfVE9fREFURSk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zaWduVXBCdXR0b25zID0gdGhpcy5zaWduVXBGb3JtLmZpbmQoXCJidXR0b24ucXVldWUtc2lnblVwQnV0dG9uXCIpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlUmVxdWVzdEJ1dHRvbnMgPSB0aGlzLnNpZ25VcEZvcm0uZmluZChcImJ1dHRvbi5xdWV1ZS11cGRhdGVSZXF1ZXN0QnV0dG9uXCIpXHJcbiAgICAgICAgICAgIC5wcm9wKFwiZGlzYWJsZWRcIiwgdHJ1ZSkuaHRtbChTdHVkZW50Q29udHJvbHMuVVBEQVRFX1JFUVVFU1RfQlVUVE9OX1VQX1RPX0RBVEUpO1xyXG5cclxuICAgICAgICB0aGlzLmVsZW0uYXBwZW5kKGNvbnRhaW5lckVsZW0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBmb3JtQ2hhbmdlZCgpIHtcclxuICAgICAgICBpZiAodGhpcy5xdWV1ZS5teVJlcXVlc3QpIHtcclxuICAgICAgICAgICAgdGhpcy5mb3JtSGFzQ2hhbmdlcyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUmVxdWVzdEJ1dHRvbnMucmVtb3ZlQ2xhc3MoXCJidG4tc3VjY2Vzc1wiKTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVSZXF1ZXN0QnV0dG9ucy5hZGRDbGFzcyhcImJ0bi13YXJuaW5nXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVJlcXVlc3RCdXR0b25zLnByb3AoXCJkaXNhYmxlZFwiLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUmVxdWVzdEJ1dHRvbnMuaHRtbChTdHVkZW50Q29udHJvbHMuVVBEQVRFX1JFUVVFU1RfQlVUVE9OX1VQREFURSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWZyZXNoU2lnbkluRW5hYmxlZCgpIHtcclxuICAgICAgICB2YXIgaXNFbmFibGVkID0gVXNlci5pc1VtaWNoKCkgJiYgdGhpcy5xdWV1ZS5pc09wZW4gJiYgIXRoaXMucXVldWUubXlSZXF1ZXN0O1xyXG4gICAgICAgIHRoaXMuc2lnblVwQnV0dG9ucy5wcm9wKFwiZGlzYWJsZWRcIiwgIWlzRW5hYmxlZCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnF1ZXVlLm15UmVxdWVzdCkge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVJlcXVlc3RCdXR0b25zLnNob3coKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgQG1lc3NhZ2VSZXNwb25zZSgpXHJcbiAgICBwcml2YXRlIHF1ZXVlUmVmcmVzaGVkKCkge1xyXG4gICAgICAgIHRoaXMucmVmcmVzaFNpZ25JbkVuYWJsZWQoKTtcclxuICAgIH1cclxuXHJcbiAgICBAbWVzc2FnZVJlc3BvbnNlKClcclxuICAgIHByaXZhdGUgdXNlclNpZ25lZEluKCkge1xyXG4gICAgICAgIHRoaXMucmVmcmVzaFNpZ25JbkVuYWJsZWQoKTtcclxuICAgIH1cclxuXHJcbiAgICBAbWVzc2FnZVJlc3BvbnNlKClcclxuICAgIHByaXZhdGUgbXlSZXF1ZXN0U2V0KCkge1xyXG4gICAgICAgIHZhciByZXEgPSB0aGlzLnF1ZXVlLm15UmVxdWVzdDtcclxuICAgICAgICB0aGlzLnN0YXR1c0VsZW0uaHRtbChcIlwiKTtcclxuICAgICAgICBpZiAocmVxKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5mb3JtSGFzQ2hhbmdlcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaWduVXBOYW1lSW5wdXQudmFsKHJlcS5uYW1lKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2lnblVwRGVzY3JpcHRpb25JbnB1dC52YWwocmVxLmRlc2NyaXB0aW9uIHx8IFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaWduVXBMb2NhdGlvbklucHV0LnZhbChyZXEubG9jYXRpb24gfHwgXCJcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5xdWV1ZS5oYXNNYXAoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFwWCA9IHJlcS5tYXBYO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFwWSA9IHJlcS5tYXBZO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2lnblVwUGluIS5jc3MoXCJsZWZ0XCIsIHRoaXMubWFwWCArIFwiJVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNpZ25VcFBpbiEuY3NzKFwidG9wXCIsIHRoaXMubWFwWSArIFwiJVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5zdGF0dXNFbGVtLmh0bWwoXCJZb3UgYXJlIGF0IHBvc2l0aW9uIFwiICsgcmVxLmluZGV4ICsgXCIgaW4gdGhlIHF1ZXVlLlwiKTtcclxuICAgICAgICAgICAgaWYgKHJlcS50YWcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzRWxlbS5wcmVwZW5kKCc8c3BhbiBjbGFzcz1cImxhYmVsIGxhYmVsLWluZm9cIj4nICsgcmVxLnRhZyArICc8L3NwYW4+ICcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcbmNsYXNzIEFkbWluQ29udHJvbHMge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX25hbWUgPSBcIkFkbWluQ29udHJvbHNcIjtcclxuXHJcbiAgICBwcml2YXRlIHF1ZXVlOiBhbnk7XHJcbiAgICBwcml2YXRlIGVsZW06IEpRdWVyeTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihxdWV1ZTogYW55LCBlbGVtOiBKUXVlcnkpIHtcclxuICAgICAgICB0aGlzLnF1ZXVlID0gcXVldWU7XHJcbiAgICAgICAgdGhpcy5lbGVtID0gZWxlbTtcclxuXHJcbiAgICAgICAgdGhpcy5lbGVtLmFwcGVuZChcIjxwPjxiPkFkbWluIENvbnRyb2xzPC9iPjwvcD5cIik7XHJcbiAgICAgICAgdmFyIGNsZWFyUXVldWVCdXR0b24gPSAkKCc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tZGFuZ2VyIGFkbWluT25seVwiIGRhdGEtdG9nZ2xlPVwibW9kYWxcIiBkYXRhLXRhcmdldD1cIiNjbGVhclRoZVF1ZXVlRGlhbG9nXCI+Q2xlYXIgdGhlIHF1ZXVlPC9idXR0b24+Jyk7XHJcbiAgICAgICAgdGhpcy5xdWV1ZS5tYWtlQWN0aXZlT25DbGljayhjbGVhclF1ZXVlQnV0dG9uKTsgLy8gVE9ETyBJIGRvbid0IHRoaW5rIHRoaXMgaXMgbmVjZXNzYXJ5IGFueW1vcmUuIElmIHRoZXkgY2FuIGNsaWNrIGl0LCBpdCBzaG91bGQgYmUgYWN0aXZlLlxyXG4gICAgICAgIHRoaXMuZWxlbS5hcHBlbmQoY2xlYXJRdWV1ZUJ1dHRvbik7XHJcblxyXG4gICAgICAgIHRoaXMuZWxlbS5hcHBlbmQoXCIgXCIpO1xyXG4gICAgICAgIHZhciBvcGVuU2NoZWR1bGVEaWFsb2dCdXR0b24gPSAkKCc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4taW5mbyBhZG1pbk9ubHlcIiBkYXRhLXRvZ2dsZT1cIm1vZGFsXCIgZGF0YS10YXJnZXQ9XCIjc2NoZWR1bGVEaWFsb2dcIj5TY2hlZHVsZTwvYnV0dG9uPicpO1xyXG4gICAgICAgIHRoaXMucXVldWUubWFrZUFjdGl2ZU9uQ2xpY2sob3BlblNjaGVkdWxlRGlhbG9nQnV0dG9uKTsgLy8gVE9ETyBJIGRvbid0IHRoaW5rIHRoaXMgaXMgbmVjZXNzYXJ5IGFueW1vcmUuIElmIHRoZXkgY2FuIGNsaWNrIGl0LCBpdCBzaG91bGQgYmUgYWN0aXZlLlxyXG4gICAgICAgIHRoaXMuZWxlbS5hcHBlbmQob3BlblNjaGVkdWxlRGlhbG9nQnV0dG9uKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbGVtLmFwcGVuZChcIiBcIik7XHJcbiAgICAgICAgdmFyIG9wZW5NYW5hZ2VRdWV1ZURpYWxvZ0J1dHRvbiA9ICQoJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1pbmZvIGFkbWluT25seVwiIGRhdGEtdG9nZ2xlPVwibW9kYWxcIiBkYXRhLXRhcmdldD1cIiNtYW5hZ2VRdWV1ZURpYWxvZ1wiPk1hbmFnZSBRdWV1ZTwvYnV0dG9uPicpO1xyXG4gICAgICAgIHRoaXMucXVldWUubWFrZUFjdGl2ZU9uQ2xpY2sob3Blbk1hbmFnZVF1ZXVlRGlhbG9nQnV0dG9uKTsgLy8gVE9ETyBJIGRvbid0IHRoaW5rIHRoaXMgaXMgbmVjZXNzYXJ5IGFueW1vcmUuIElmIHRoZXkgY2FuIGNsaWNrIGl0LCBpdCBzaG91bGQgYmUgYWN0aXZlLlxyXG4gICAgICAgIHRoaXMuZWxlbS5hcHBlbmQob3Blbk1hbmFnZVF1ZXVlRGlhbG9nQnV0dG9uKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbGVtLmFwcGVuZChcIiBcIik7XHJcbiAgICAgICAgbGV0IG9wZW5BZGRBbm5vdW5jZW1lbnREaWFsb2dCdXR0b24gPSAkKCc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4taW5mbyBhZG1pbk9ubHlcIiBkYXRhLXRvZ2dsZT1cIm1vZGFsXCIgZGF0YS10YXJnZXQ9XCIjYWRkQW5ub3VuY2VtZW50RGlhbG9nXCI+QWRkIEFubm91bmNlbWVudDwvYnV0dG9uPicpO1xyXG4gICAgICAgIHRoaXMucXVldWUubWFrZUFjdGl2ZU9uQ2xpY2sob3BlbkFkZEFubm91bmNlbWVudERpYWxvZ0J1dHRvbik7IC8vIFRPRE8gSSBkb24ndCB0aGluayB0aGlzIGlzIG5lY2Vzc2FyeSBhbnltb3JlLiBJZiB0aGV5IGNhbiBjbGljayBpdCwgaXQgc2hvdWxkIGJlIGFjdGl2ZS5cclxuICAgICAgICB0aGlzLmVsZW0uYXBwZW5kKG9wZW5BZGRBbm5vdW5jZW1lbnREaWFsb2dCdXR0b24pO1xyXG4gICAgfVxyXG59O1xyXG5cclxuY2xhc3MgUXVldWVFbnRyeSB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBfbmFtZSA9IFwiUXVldWVFbnRyeVwiO1xyXG5cclxuICAgIHByaXZhdGUgcXVldWU6IGFueTtcclxuICAgIFxyXG4gICAgcHVibGljIHJlYWRvbmx5IGlkOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZW1haWw6IHN0cmluZztcclxuICAgIHB1YmxpYyByZWFkb25seSBpbmRleDogbnVtYmVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcclxuICAgIHB1YmxpYyByZWFkb25seSBpc01lOiBib29sZWFuO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGxvY2F0aW9uPzogc3RyaW5nO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGRlc2NyaXB0aW9uPzogc3RyaW5nO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHRhZz86IHN0cmluZztcclxuICAgIHB1YmxpYyByZWFkb25seSBtYXBYPzogbnVtYmVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IG1hcFk/OiBudW1iZXI7XHJcblxyXG4gICAgcHJpdmF0ZSBlbGVtOiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIG5hbWVFbGVtOiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIGxvY2F0aW9uRWxlbT86IEpRdWVyeTtcclxuICAgIHByaXZhdGUgZGVzY3JpcHRpb25FbGVtPzogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSB0YWdFbGVtPzogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSB0c0VsZW06IEpRdWVyeTtcclxuICAgIHByaXZhdGUgbWFwRWxlbT86IEpRdWVyeTtcclxuICAgIHByaXZhdGUgbWFwUGluPzogSlF1ZXJ5O1xyXG5cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihxdWV1ZTogYW55LCBkYXRhOiB7W2luZGV4OnN0cmluZ106IHN0cmluZ30sIGluZGV4OiBudW1iZXIsIGVsZW06IEpRdWVyeSkge1xyXG4gICAgICAgIHRoaXMucXVldWUgPSBxdWV1ZTtcclxuXHJcbiAgICAgICAgdGhpcy5pZCA9IGRhdGFbXCJpZFwiXTtcclxuICAgICAgICB0aGlzLmVtYWlsID0gZGF0YVtcImVtYWlsXCJdO1xyXG5cclxuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgdGhpcy5pc01lID0gISFkYXRhW1wibmFtZVwiXTsgLy8gaWYgaXQgaGFzIGEgbmFtZSBpdCdzIHRoZW1cclxuXHJcbiAgICAgICAgdGhpcy5lbGVtID0gZWxlbTtcclxuXHJcbiAgICAgICAgbGV0IGluZm9FbGVtID0gJCgnPGRpdiBjbGFzcz1cInF1ZXVlLWVudHJ5SW5mb1wiPjwvZGl2PicpO1xyXG5cclxuICAgICAgICBsZXQgbmFtZSA9IGRhdGFbXCJuYW1lXCJdID8gZGF0YVtcIm5hbWVcIl0gKyBcIiAoXCIgKyBkYXRhW1wiZW1haWxcIl0gKyBcIilcIiA6IFwiQW5vbnltb3VzIFN0dWRlbnRcIjtcclxuICAgICAgICB0aGlzLm5hbWVFbGVtID0gJCgnPHA+PHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLWVkdWNhdGlvblwiPjwvc3Bhbj48L3A+JylcclxuICAgICAgICAgICAgLmFwcGVuZChcIiBcIiArIG5hbWUpXHJcbiAgICAgICAgICAgIC5hcHBlbmRUbyhpbmZvRWxlbSk7XHJcbiAgICAgICAgaWYgKGRhdGFbXCJ0YWdcIl0gJiYgZGF0YVtcInRhZ1wiXS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGFnID0gZGF0YVtcInRhZ1wiXTtcclxuICAgICAgICAgICAgdGhpcy5uYW1lRWxlbS5hcHBlbmQoJyA8c3BhbiBjbGFzcz1cImxhYmVsIGxhYmVsLWluZm9cIj4nICsgdGhpcy50YWcgKyAnPC9zcGFuPicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm5hbWUgPSBkYXRhW1wibmFtZVwiXTtcclxuXHJcbiAgICAgICAgaWYgKGRhdGFbXCJsb2NhdGlvblwiXSAmJiBkYXRhW1wibG9jYXRpb25cIl0ubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYXRpb25FbGVtID0gJCgnPHA+PHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLW1hcC1tYXJrZXJcIj48L3NwYW4+PC9wPicpXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKFwiIFwiICsgZGF0YVtcImxvY2F0aW9uXCJdKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZFRvKGluZm9FbGVtKTtcclxuICAgICAgICAgICAgdGhpcy5sb2NhdGlvbiA9IGRhdGFbXCJsb2NhdGlvblwiXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChkYXRhW1wiZGVzY3JpcHRpb25cIl0gJiYgZGF0YVtcImRlc2NyaXB0aW9uXCJdLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICB0aGlzLmRlc2NyaXB0aW9uRWxlbSA9ICQoJzxwPjxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1xdWVzdGlvbi1zaWduXCI+PC9zcGFuPjwvcD4nKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZChcIiBcIiArIGRhdGFbXCJkZXNjcmlwdGlvblwiXSlcclxuICAgICAgICAgICAgICAgIC5hcHBlbmRUbyhpbmZvRWxlbSk7XHJcbiAgICAgICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkYXRhW1wiZGVzY3JpcHRpb25cIl07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgdGltZVdhaXRpbmcgPSBEYXRlLm5vdygpIC0gbmV3IERhdGUocGFyc2VJbnQoZGF0YVtcInRzXCJdKSoxMDAwKS5nZXRUaW1lKCk7XHJcbiAgICAgICAgbGV0IG1pbnV0ZXNXYWl0aW5nID0gTWF0aC5yb3VuZCh0aW1lV2FpdGluZyAvIDEwMDAgLyA2MCk7XHJcbiAgICAgICAgdGhpcy50c0VsZW0gPSAkKCc8cD48c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tdGltZVwiPjwvc3Bhbj48L3A+JylcclxuICAgICAgICAgICAgLmFwcGVuZChcIiBcIiArIG1pbnV0ZXNXYWl0aW5nICsgXCIgbWluXCIpXHJcbiAgICAgICAgICAgIC5hcHBlbmRUbyhpbmZvRWxlbSk7XHJcblxyXG4gICAgICAgIGxldCByZW1vdmVCdXR0b24gPSAkKCc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tZGFuZ2VyXCI+UmVtb3ZlPC9idXR0b24+Jyk7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzTWUpe1xyXG4gICAgICAgICAgICByZW1vdmVCdXR0b24uYWRkQ2xhc3MoXCJhZG1pbk9ubHlcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZW1vdmVCdXR0b24ub24oXCJjbGlja1wiLCB0aGlzLnF1ZXVlLnJlbW92ZVJlcXVlc3QuYmluZCh0aGlzLnF1ZXVlLCB0aGlzKSk7XHJcbiAgICAgICAgaW5mb0VsZW0uYXBwZW5kKHJlbW92ZUJ1dHRvbik7XHJcblxyXG4gICAgICAgIGluZm9FbGVtLmFwcGVuZChcIiBcIik7XHJcblxyXG5cclxuICAgICAgICBsZXQgc2VuZE1lc3NhZ2VCdXR0b24gPSAkKCc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4td2FybmluZyBhZG1pbk9ubHlcIj5NZXNzYWdlPC9idXR0b24+Jyk7XHJcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHNlbmRNZXNzYWdlQnV0dG9uLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgbGV0IHNlbmRNZXNzYWdlRGlhbG9nID0gJChcIiNzZW5kTWVzc2FnZURpYWxvZ1wiKTtcclxuICAgICAgICAgICAgc2VuZE1lc3NhZ2VEaWFsb2cubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgICAgICAgICBRdWV1ZUFwcGxpY2F0aW9uLmluc3RhbmNlLnNldFNlbmRNZXNzYWdlUG9zdElkKHNlbGYuaWQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGluZm9FbGVtLmFwcGVuZChzZW5kTWVzc2FnZUJ1dHRvbik7XHJcblxyXG5cclxuXHJcbiAgICAgICAgaWYodGhpcy5xdWV1ZS5oYXNNYXAoKSAmJiBkYXRhW1wibWFwWFwiXSAhPT0gdW5kZWZpbmVkICYmIGRhdGFbXCJtYXBZXCJdICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgbGV0IG1hcFggPSB0aGlzLm1hcFggPSBwYXJzZUZsb2F0KGRhdGFbXCJtYXBYXCJdKTtcclxuICAgICAgICAgICAgbGV0IG1hcFkgPSB0aGlzLm1hcFkgPSBwYXJzZUZsb2F0KGRhdGFbXCJtYXBZXCJdKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBtYXBFbGVtID0gJCgnPGRpdiBjbGFzcz1cImFkbWluT25seVwiIHN0eWxlPVwiZGlzcGxheTppbmxpbmUtYmxvY2s7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAyNSU7IG1hcmdpbi1yaWdodDogMTBweFwiPjwvZGl2PicpO1xyXG4gICAgICAgICAgICB0aGlzLmVsZW0uYXBwZW5kKG1hcEVsZW0pO1xyXG5cclxuICAgICAgICAgICAgbGV0IG1hcEhvbGRlciA9ICQoJzxkaXYgc3R5bGU9XCJwb3NpdGlvbjogcmVsYXRpdmVcIj48L2Rpdj4nKTtcclxuICAgICAgICAgICAgdGhpcy5tYXBFbGVtID0gJCgnPGltZyBjbGFzcz1cImFkbWluT25seSBxdWV1ZS1lbnRyeU1hcFwiIHNyYz1cImltZy8nICsgdGhpcy5xdWV1ZS5tYXBJbWFnZVNyYyArICdcIj48L2ltZz4nKTtcclxuICAgICAgICAgICAgbWFwSG9sZGVyLmFwcGVuZCh0aGlzLm1hcEVsZW0pO1xyXG4gICAgICAgICAgICB0aGlzLm1hcFBpbiA9ICQoJzxzcGFuIGNsYXNzPVwiYWRtaW5Pbmx5IHF1ZXVlLWxvY2F0ZVBpblwiPjxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1tYXAtbWFya2VyXCIgc3R5bGU9XCJwb3NpdGlvbjphYnNvbHV0ZTsgbGVmdDotMS4zY2g7dG9wOi0wLjk1ZW07XCI+PC9zcGFuPjwvc3Bhbj4nKTtcclxuICAgICAgICAgICAgdGhpcy5tYXBQaW4uY3NzKFwibGVmdFwiLCBtYXBYICsgXCIlXCIpO1xyXG4gICAgICAgICAgICB0aGlzLm1hcFBpbi5jc3MoXCJ0b3BcIiwgbWFwWSArIFwiJVwiKTtcclxuICAgICAgICAgICAgbWFwSG9sZGVyLmFwcGVuZCh0aGlzLm1hcFBpbik7XHJcbiAgICAgICAgICAgIG1hcEVsZW0uYXBwZW5kKG1hcEhvbGRlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBsZXQgZGlic0J1dHRvbiA9ICQoJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1pbmZvIGFkbWluT25seVwiPkRpYnMhPC9idXR0b24+Jyk7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuZWxlbS5hcHBlbmQoZGlic0J1dHRvbik7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuZWxlbS5hcHBlbmQoXCIgXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5lbGVtLmFwcGVuZChpbmZvRWxlbSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uUmVtb3ZlKCkge1xyXG4gICAgICAgIC8vIHRoaXMuc2VuZChcInJlbW92ZWRcIik7XHJcbiAgICAgICAgdGhpcy5lbGVtLnNsaWRlVXAoQU5JTUFUSU9OX0RFTEFZLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59O1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBTY2hlZHVsZSB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBfbmFtZTogXCJTY2hlZHVsZVwiO1xyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IHNlcXVlbmNlID0ge1xyXG4gICAgICAgIFwib1wiOiBcImNcIixcclxuICAgICAgICBcImNcIjogXCJwXCIsXHJcbiAgICAgICAgXCJwXCI6IFwib1wiXHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgdW5pdEVsZW1zIDogSlF1ZXJ5W11bXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihlbGVtIDogSlF1ZXJ5KSB7XHJcbiAgICAgICAgbGV0IGRpYWxvZyA9ICQoXCIjc2NoZWR1bGVEaWFsb2dcIik7XHJcblxyXG4gICAgICAgICQoXCIjc2NoZWR1bGVGb3JtXCIpLnN1Ym1pdCgoZSkgPT4ge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICAgICAgZGlhbG9nLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBkaWFsb2cub24oJ3Nob3duLmJzLm1vZGFsJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gU2V0IHVwIHRhYmxlIGluIHNjaGVkdWxlIHBpY2tlclxyXG4gICAgICAgIGxldCBzY2hlZHVsZVBpY2tlciA9ICQoXCIjc2NoZWR1bGVQaWNrZXJcIik7XHJcblxyXG4gICAgICAgIC8vIEZpcnN0IHJvdyBvZiB0YWJsZSB3aXRoIHRpbWUgaGVhZGVyc1xyXG4gICAgICAgIGxldCBmaXJzdFJvdyA9ICQoXCI8dHI+PC90cj5cIikuYXBwZW5kVG8oc2NoZWR1bGVQaWNrZXIpO1xyXG5cclxuICAgICAgICAvLyBFeHRyYSBibGFuayBpbiBmaXJzdCByb3cgdG8gY29ycmVzcG9uZCB0byByb3cgbGFiZWxzIGluIG90aGVyIHJvd3NcclxuICAgICAgICBmaXJzdFJvdy5hcHBlbmQoJzx0ZCBzdHlsZT1cIndpZHRoOjFlbTsgcGFkZGluZy1yaWdodDogM3B4O1wiPjwvdGQ+Jyk7XHJcblxyXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCAyNDsgKytpKSB7XHJcbiAgICAgICAgICAgIGZpcnN0Um93LmFwcGVuZCgnPHRkIGNvbHNwYW49XCIyXCI+JyArIChpID09PSAwIHx8IGkgPT09IDEyID8gMTIgOiBpICUgMTIpICsgJzwvdGQ+Jyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnVuaXRFbGVtcyA9IFtdO1xyXG4gICAgICAgIGxldCBkYXlMZXR0ZXJzID0gW1wiU1wiLFwiTVwiLFwiVFwiLFwiV1wiLFwiVFwiLFwiRlwiLFwiU1wiXTtcclxuICAgICAgICBmb3IodmFyIHIgPSAwOyByIDwgNzsgKytyKSB7XHJcbiAgICAgICAgICAgIHZhciBkYXkgOiBKUXVlcnlbXSA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgcm93RWxlbSA9ICQoJzx0cj48L3RyPicpO1xyXG4gICAgICAgICAgICByb3dFbGVtLmFwcGVuZCgnPHRkIHN0eWxlPVwid2lkdGg6MWVtOyB0ZXh0LWFsaWduOiByaWdodDsgcGFkZGluZy1yaWdodDogM3B4O1wiPicgKyBkYXlMZXR0ZXJzW3JdICsgJzwvdGQ+Jyk7XHJcbiAgICAgICAgICAgIGZvcih2YXIgYyA9IDA7IGMgPCA0ODsgKytjKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdW5pdEVsZW0gPSAkKCc8dGQ+PGRpdiBjbGFzcz1cInNjaGVkdWxlVW5pdFwiPjwvZGl2PjwvdGQ+JykuYXBwZW5kVG8ocm93RWxlbSkuZmluZChcIi5zY2hlZHVsZVVuaXRcIik7XHJcbiAgICAgICAgICAgICAgICBkYXkucHVzaCh1bml0RWxlbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy51bml0RWxlbXMucHVzaChkYXkpO1xyXG4gICAgICAgICAgICBzY2hlZHVsZVBpY2tlci5hcHBlbmQocm93RWxlbSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcHJlc3NlZCA9IGZhbHNlO1xyXG4gICAgICAgIHNjaGVkdWxlUGlja2VyLm9uKFwibW91c2Vkb3duXCIsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHByZXNzZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc2NoZWR1bGVQaWNrZXIub24oXCJtb3VzZXVwXCIsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHByZXNzZWQgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBzY2hlZHVsZVBpY2tlci5vbihcIm1vdXNlbGVhdmVcIiwgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgcHJlc3NlZCA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGRpYWxvZy5vbignaGlkZGVuLmJzLm1vZGFsJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBwcmVzc2VkID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxldCBjaGFuZ2VDb2xvciA9IChlbGVtOiBKUXVlcnkpID0+e1xyXG4gICAgICAgICAgICBpZiAocHJlc3NlZCl7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudFR5cGU6IFwib1wiIHwgXCJjXCIgfCBcInBcIiA9IGVsZW0uZGF0YShcInNjaGVkdWxlVHlwZVwiKTtcclxuICAgICAgICAgICAgICAgIGVsZW0ucmVtb3ZlQ2xhc3MoXCJzY2hlZHVsZVVuaXQtXCIgKyBjdXJyZW50VHlwZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIG5leHRUeXBlID0gU2NoZWR1bGUuc2VxdWVuY2VbY3VycmVudFR5cGVdO1xyXG4gICAgICAgICAgICAgICAgZWxlbS5kYXRhKFwic2NoZWR1bGVUeXBlXCIsIG5leHRUeXBlKTtcclxuICAgICAgICAgICAgICAgIGVsZW0uYWRkQ2xhc3MoXCJzY2hlZHVsZVVuaXQtXCIgKyBuZXh0VHlwZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHNjaGVkdWxlUGlja2VyLm9uKFwibW91c2VvdmVyXCIsIFwiLnNjaGVkdWxlVW5pdFwiLCBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBjaGFuZ2VDb2xvcigkKHRoaXMpKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNjaGVkdWxlUGlja2VyLm9uKFwibW91c2Vkb3duXCIsIFwiLnNjaGVkdWxlVW5pdFwiLCBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBwcmVzc2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgY2hhbmdlQ29sb3IoJCh0aGlzKSk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVmcmVzaCgpIHtcclxuICAgICAgICBsZXQgYXEgPSBRdWV1ZUFwcGxpY2F0aW9uLmluc3RhbmNlLmFjdGl2ZVF1ZXVlKCk7XHJcbiAgICAgICAgaWYgKGFxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJHRVRcIixcclxuICAgICAgICAgICAgICAgIHVybDogXCJhcGkvc2NoZWR1bGUvXCIgKyBhcS5xdWV1ZUlkLFxyXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2NoZWR1bGUgPSBkYXRhOyAvLyBhcnJheSBvZiA3IHN0cmluZ3NcclxuICAgICAgICAgICAgICAgICAgICBmb3IodmFyIHIgPSAwOyByIDwgNzsgKytyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgYyA9IDA7IGMgPCA0ODsgKytjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbSA9IHRoaXMudW5pdEVsZW1zW3JdW2NdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5yZW1vdmVDbGFzcygpOyAvLyByZW1vdmVzIGFsbCBjbGFzc2VzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtLmFkZENsYXNzKFwic2NoZWR1bGVVbml0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5hZGRDbGFzcyhcInNjaGVkdWxlVW5pdC1cIiArIHNjaGVkdWxlW3JdLmNoYXJBdChjKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtLmRhdGEoXCJzY2hlZHVsZVR5cGVcIiwgc2NoZWR1bGVbcl0uY2hhckF0KGMpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlcnJvcjogb29wc1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKCFRdWV1ZUFwcGxpY2F0aW9uLmluc3RhbmNlLmFjdGl2ZVF1ZXVlKCkpIHsgcmV0dXJuOyB9XHJcblxyXG4gICAgICAgIC8vIGxvbCBjYW4ndCBtYWtlIHVwIG15IG1pbmQgd2hldGhlciBJIGxpa2UgZnVuY3Rpb25hbCB2cy4gaXRlcmF0aXZlXHJcbiAgICAgICAgdmFyIHNjaGVkdWxlID0gW107XHJcbiAgICAgICAgZm9yKHZhciByID0gMDsgciA8IDc7ICsrcikge1xyXG4gICAgICAgICAgICBzY2hlZHVsZS5wdXNoKHRoaXMudW5pdEVsZW1zW3JdLm1hcChmdW5jdGlvbih1bml0RWxlbSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5pdEVsZW0uZGF0YShcInNjaGVkdWxlVHlwZVwiKTtcclxuICAgICAgICAgICAgfSkuam9pbihcIlwiKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgYXEgPSBRdWV1ZUFwcGxpY2F0aW9uLmluc3RhbmNlLmFjdGl2ZVF1ZXVlKCk7XHJcbiAgICAgICAgaWYgKGFxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgICAgICB1cmw6IFwiYXBpL3VwZGF0ZVNjaGVkdWxlXCIsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWR0b2tlbjogVXNlci5pZFRva2VuKCksXHJcbiAgICAgICAgICAgICAgICAgICAgcXVldWVJZDogYXEucXVldWVJZCxcclxuICAgICAgICAgICAgICAgICAgICBzY2hlZHVsZTogc2NoZWR1bGVcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInNjaGVkdWxlIHVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZXJyb3I6IG9vcHNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTWFuYWdlUXVldWVEaWFsb2cge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgX25hbWU6IFwiTWFuYWdlUXVldWVEaWFsb2dcIjtcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBQT0xJQ0lFU19VUF9UT19EQVRFID0gJzxzcGFuPjxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1mbG9wcHktc2F2ZWRcIj48L3NwYW4+IFNhdmVkPC9zcGFuPic7XHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBQT0xJQ0lFU19VTlNBVkVEID0gJzxzcGFuPjxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1mbG9wcHktb3BlblwiPjwvc3Bhbj4gVXBkYXRlIENvbmZpZ3VyYXRpb248L3NwYW4+JztcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgX2FjdCEgOiBNZXNzYWdlUmVzcG9uc2VzO1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgdXBkYXRlQ29uZmlndXJhdGlvbkJ1dHRvbiA6IEpRdWVyeTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBsZXQgZGlhbG9nID0gJChcIiNtYW5hZ2VRdWV1ZURpYWxvZ1wiKTtcclxuXHJcbiAgICAgICAgbGV0IGdyb3Vwc0Zvcm0gPSAkKFwiI2dyb3Vwc0Zvcm1cIik7XHJcbiAgICAgICAgZ3JvdXBzRm9ybS5zdWJtaXQoZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgbGV0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKDxIVE1MRm9ybUVsZW1lbnQ+Z3JvdXBzRm9ybVswXSk7XHJcbiAgICAgICAgICAgIGxldCBhcSA9IFF1ZXVlQXBwbGljYXRpb24uaW5zdGFuY2UuYWN0aXZlUXVldWUoKTtcclxuICAgICAgICAgICAgYXEgJiYgYXEudXBkYXRlR3JvdXBzKGZvcm1EYXRhKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsZXQgcG9saWNpZXNGb3JtID0gJChcIiNwb2xpY2llc0Zvcm1cIik7XHJcbiAgICAgICAgcG9saWNpZXNGb3JtLnN1Ym1pdCgoZSkgPT4ge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZUNvbmZpZ3VyYXRpb25CdXR0b24gPSAkKFwiI3VwZGF0ZUNvbmZpZ3VyYXRpb25CdXR0b25cIik7XHJcblxyXG4gICAgICAgICQoXCIjcHJldmVudFVucmVnaXN0ZXJlZENoZWNrYm94XCIpLmNoYW5nZSh0aGlzLnVuc2F2ZWRDaGFuZ2VzLmJpbmQodGhpcykpO1xyXG4gICAgICAgICQoXCIjcHJldmVudEdyb3Vwc0NoZWNrYm94XCIpLmNoYW5nZSh0aGlzLnVuc2F2ZWRDaGFuZ2VzLmJpbmQodGhpcykpO1xyXG4gICAgICAgICQoXCIjcHJpb3JpdGl6ZU5ld0NoZWNrYm94XCIpLmNoYW5nZSh0aGlzLnVuc2F2ZWRDaGFuZ2VzLmJpbmQodGhpcykpO1xyXG5cclxuICAgICAgICBRdWV1ZUFwcGxpY2F0aW9uLmluc3RhbmNlLm9ic2VydmFibGUuYWRkTGlzdGVuZXIodGhpcyk7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgQG1lc3NhZ2VSZXNwb25zZShcImFjdGl2ZVF1ZXVlU2V0XCIpXHJcbiAgICBwdWJsaWMgcmVmcmVzaCgpIHtcclxuICAgICAgICBsZXQgYXEgPSBRdWV1ZUFwcGxpY2F0aW9uLmluc3RhbmNlLmFjdGl2ZVF1ZXVlKCk7XHJcbiAgICAgICAgaWYgKCFhcSkgeyByZXR1cm47fVxyXG4gICAgICAgIGlmICghYXEuaXNBZG1pbikgeyByZXR1cm47IH1cclxuXHJcbiAgICAgICAgJChcIiNjaGVja1F1ZXVlUm9zdGVyTGlua1wiKS5hdHRyKFwiaHJlZlwiLCBcImFwaS9yb3N0ZXIvXCIgKyBhcS5xdWV1ZUlkKTtcclxuICAgICAgICAkKFwiI2NoZWNrUXVldWVHcm91cHNMaW5rXCIpLmF0dHIoXCJocmVmXCIsIFwiYXBpL2dyb3Vwcy9cIiArIGFxLnF1ZXVlSWQpO1xyXG5cclxuICAgICAgICByZXR1cm4gJC5hamF4KHtcclxuICAgICAgICAgICAgdHlwZTogXCJHRVRcIixcclxuICAgICAgICAgICAgdXJsOiBcImFwaS9xdWV1ZUNvbmZpZ3VyYXRpb24vXCIgKyBhcS5xdWV1ZUlkLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHRoaXMucmVmcmVzaFJlc3BvbnNlLmJpbmQodGhpcyksXHJcbiAgICAgICAgICAgIGVycm9yOiBvb3BzXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZWZyZXNoUmVzcG9uc2UoZGF0YSA6IHtbaW5kZXg6c3RyaW5nXTogc3RyaW5nfSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcclxuICAgICAgICAkKFwiI3ByZXZlbnRVbnJlZ2lzdGVyZWRDaGVja2JveFwiKS5wcm9wKFwiY2hlY2tlZFwiLCBkYXRhW1wicHJldmVudFVucmVnaXN0ZXJlZFwiXSA9PT0gXCJ5XCIpO1xyXG4gICAgICAgICQoXCIjcHJldmVudEdyb3Vwc0NoZWNrYm94XCIpLnByb3AoXCJjaGVja2VkXCIsIGRhdGFbXCJwcmV2ZW50R3JvdXBzXCJdID09PSBcInlcIik7XHJcbiAgICAgICAgJChcIiNwcmlvcml0aXplTmV3Q2hlY2tib3hcIikucHJvcChcImNoZWNrZWRcIiwgZGF0YVtcInByaW9yaXRpemVOZXdcIl0gPT09IFwieVwiKTtcclxuXHJcbiAgICAgICAgdGhpcy5jaGFuZ2VzVXBUb0RhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlKCkge1xyXG4gICAgICAgIGxldCBhcSA9IFF1ZXVlQXBwbGljYXRpb24uaW5zdGFuY2UuYWN0aXZlUXVldWUoKTtcclxuICAgICAgICBpZiAoIWFxKSB7IHJldHVybjt9XHJcbiAgICAgICAgYXEudXBkYXRlQ29uZmlndXJhdGlvbih7XHJcbiAgICAgICAgICAgIHByZXZlbnRVbnJlZ2lzdGVyZWQgOiAkKFwiI3ByZXZlbnRVbnJlZ2lzdGVyZWRDaGVja2JveFwiKS5pcyhcIjpjaGVja2VkXCIpID8gXCJ5XCIgOiBcIm5cIixcclxuICAgICAgICAgICAgcHJldmVudEdyb3VwcyA6ICQoXCIjcHJldmVudEdyb3Vwc0NoZWNrYm94XCIpLmlzKFwiOmNoZWNrZWRcIikgPyBcInlcIiA6IFwiblwiLFxyXG4gICAgICAgICAgICBwcmlvcml0aXplTmV3IDogJChcIiNwcmlvcml0aXplTmV3Q2hlY2tib3hcIikuaXMoXCI6Y2hlY2tlZFwiKSA/IFwieVwiIDogXCJuXCJcclxuICAgICAgICB9KS5kb25lKHRoaXMuY2hhbmdlc1VwVG9EYXRlLmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdW5zYXZlZENoYW5nZXMoKSB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVDb25maWd1cmF0aW9uQnV0dG9uLmh0bWwoTWFuYWdlUXVldWVEaWFsb2cuUE9MSUNJRVNfVU5TQVZFRClcclxuICAgICAgICAgICAgLnByb3AoXCJkaXNhYmxlZFwiLCBmYWxzZSlcclxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKFwiYnRuLXN1Y2Nlc3NcIilcclxuICAgICAgICAgICAgLmFkZENsYXNzKFwiYnRuLXdhcm5pbmdcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjaGFuZ2VzVXBUb0RhdGUoKSB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVDb25maWd1cmF0aW9uQnV0dG9uLmh0bWwoTWFuYWdlUXVldWVEaWFsb2cuUE9MSUNJRVNfVVBfVE9fREFURSlcclxuICAgICAgICAgICAgLnByb3AoXCJkaXNhYmxlZFwiLCB0cnVlKVxyXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3MoXCJidG4td2FybmluZ1wiKVxyXG4gICAgICAgICAgICAuYWRkQ2xhc3MoXCJidG4tc3VjY2Vzc1wiKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IG5hbWVzcGFjZSBVc2VyIHtcclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gc2lnbkluKGVtYWlsOiBzdHJpbmcsIGlkdG9rZW46IHN0cmluZykge1xyXG4gICAgICAgIGxldCBuZXdVc2VyID0gbmV3IEF1dGhlbnRpY2F0ZWRVc2VyKGVtYWlsLCBpZHRva2VuKTtcclxuXHJcbiAgICAgICAgdmFyIGFjY291bnRNZXNzYWdlRWxlbSA9ICQoXCIjYWNjb3VudE1lc3NhZ2VcIik7XHJcbiAgICAgICAgLy8gSWYgdGhleSdyZSBub3QgdW1pY2gsIHRoZXkgY2FuJ3Qgc2lnbiB1cCFcclxuICAgICAgICBpZiAoIW5ld1VzZXIuaXNVbWljaCgpKXtcclxuICAgICAgICAgICAgYWNjb3VudE1lc3NhZ2VFbGVtLnNob3coKTtcclxuICAgICAgICAgICAgYWNjb3VudE1lc3NhZ2VFbGVtLmh0bWwoXCJIaSBcIiArIG5ld1VzZXIuZW1haWwgKyBcIiEgUGxlYXNlIDxhPnNpZ24gb3V0PC9hPiBhbmQgc3dpdGNoIHRvIGFuIEB1bWljaC5lZHUgYWNjb3VudCB0byB1c2UgdGhlIHF1ZXVlLlwiKTtcclxuICAgICAgICAgICAgYWNjb3VudE1lc3NhZ2VFbGVtLmZpbmQoXCJhXCIpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXV0aDIgPSBnYXBpLmF1dGgyLmdldEF1dGhJbnN0YW5jZSgpO1xyXG4gICAgICAgICAgICAgICAgYXV0aDIuZGlzY29ubmVjdCgpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIFVzZXIuc2lnbk91dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFjY291bnRNZXNzYWdlRWxlbS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAkKFwiLm9wZW5TaWduVXBEaWFsb2dCdXR0b25cIikucHJvcChcImRpc2FibGVkXCIsIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgYWNjb3VudE1lc3NhZ2VFbGVtLmVtcHR5KCk7XHJcbiAgICAgICAgICAgIGFjY291bnRNZXNzYWdlRWxlbS5oaWRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBzaWduT3V0KCkge1xyXG4gICAgICAgIHZhciBhY2NvdW50TWVzc2FnZUVsZW0gPSAkKFwiI2FjY291bnRNZXNzYWdlXCIpO1xyXG4gICAgICAgIGFjY291bnRNZXNzYWdlRWxlbS5oaWRlKCk7XHJcblxyXG4gICAgICAgIHRoZVVzZXIgJiYgdGhlVXNlci5vblNpZ25PdXQoKTtcclxuXHJcbiAgICAgICAgbmV3IFVuYXV0aGVudGljYXRlZFVzZXIoKTsgLy8gd2lsbCBpbXBsaWNpdGx5IHNldCB0aGVVc2VyIHNpbmdsZXRvbiBpbnN0YW5jZVxyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBpZFRva2VuKCkge1xyXG4gICAgICAgIHJldHVybiB0aGVVc2VyLmlkVG9rZW4oKTtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gaXNVbWljaCgpIHtcclxuICAgICAgICByZXR1cm4gdGhlVXNlci5pc1VtaWNoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGlzQ291cnNlQWRtaW4oY291cnNlSWQ6IHN0cmluZykge1xyXG4gICAgICAgIHJldHVybiB0aGVVc2VyLmlzQ291cnNlQWRtaW4oY291cnNlSWQpO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBpc01lKGVtYWlsOiBzdHJpbmcpIHtcclxuICAgICAgICByZXR1cm4gdGhlVXNlci5pc01lKGVtYWlsKTtcclxuICAgIH1cclxuXHJcbiAgICBhYnN0cmFjdCBjbGFzcyBVc2VyQmFzZSB7XHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgX25hbWUgPSBcIlVzZXJCYXNlXCI7XHJcbiAgICBcclxuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgaXNVbWljaCgpIDogYm9vbGVhbjtcclxuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgaWRUb2tlbigpIDogc3RyaW5nO1xyXG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCBpc0NvdXJzZUFkbWluKGNvdXJzZUlkOiBzdHJpbmcpIDogYm9vbGVhbjtcclxuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgaXNNZShlbWFpbDogc3RyaW5nKSA6IGJvb2xlYW47XHJcbiAgICBcclxuICAgICAgICBwdWJsaWMgb25TaWduT3V0KCkge1xyXG4gICAgICAgICAgICAvLyBub3RoaW5nIHRvIGRvIGhlcmUgZm9yIG5vd1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIG9uRmluaXNoU2lnbmluZ0luKCkge1xyXG4gICAgICAgICAgICB0aGVVc2VyID0gdGhpcztcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBOb3RpZnkgdGhlIGFwcGxpY2F0aW9uIHRoZXJlJ3MgYSBuZXcgdXNlciBpbiB0b3duXHJcbiAgICAgICAgICAgIFF1ZXVlQXBwbGljYXRpb24uaW5zdGFuY2UgJiYgUXVldWVBcHBsaWNhdGlvbi5pbnN0YW5jZS51c2VyU2lnbmVkSW4oKTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgIH1cclxuXHJcbiAgICBjbGFzcyBBdXRoZW50aWNhdGVkVXNlciBleHRlbmRzIFVzZXJCYXNlIHtcclxuXHJcbiAgICAgICAgcHVibGljIHJlYWRvbmx5IGVtYWlsOiBzdHJpbmc7XHJcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBfaWRUb2tlbjogc3RyaW5nO1xyXG4gICAgICAgIHByaXZhdGUgYWRtaW5zOiB7W2luZGV4OiBzdHJpbmddOiBib29sZWFufSA9IHt9O1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcihlbWFpbDogc3RyaW5nLCBpZHRva2VuOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICAgICAgdGhpcy5lbWFpbCA9IGVtYWlsO1xyXG4gICAgICAgICAgICB0aGlzLl9pZFRva2VuID0gaWR0b2tlbjtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgIHVybDogXCJhcGkvbG9naW5cIixcclxuICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICBpZHRva2VuOiB0aGlzLmlkVG9rZW4oKVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tBZG1pbigpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVycm9yOiBvb3BzXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgXHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgcHVibGljIGlzVW1pY2goKSA6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICByZXR1cm4gZW5kc1dpdGgodGhpcy5lbWFpbCwgXCJAdW1pY2guZWR1XCIpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIHB1YmxpYyBpc01lKGVtYWlsOiBzdHJpbmcpIDogYm9vbGVhbiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVtYWlsID09PSBlbWFpbDtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBwdWJsaWMgaWRUb2tlbigpIDogc3RyaW5nIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lkVG9rZW47XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgcHJpdmF0ZSBjaGVja0FkbWluKCkgOiB2b2lkIHtcclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICAgICAgdXJsOiBcImFwaS9hZG1pbkNvdXJzZXNcIixcclxuICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICBpZHRva2VuOiB0aGlzLmlkVG9rZW4oKVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRtaW5zW2RhdGFbaV1bXCJjb3Vyc2VJZFwiXV0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyBIQUNLIElmIGFkbWluIGZvciBhbnl0aGluZywgZ2l2ZSB0aGVtIGZhc3QgcmVmcmVzaFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNob3VsZCBvbmx5IGJlIG9uIHRoZSBxdWV1ZXMgdGhleSBhZG1pbmlzdGVyXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWxzbyBpZiBhZG1pbiBwcm9tcHQgZm9yIG5vdGlmaWNhdGlvbnNcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFF1ZXVlQXBwbGljYXRpb24uaW5zdGFuY2UucmVmcmVzaEFjdGl2ZVF1ZXVlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDUwMDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE5vdGlmaWNhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLnJlcXVlc3RQZXJtaXNzaW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFF1ZXVlQXBwbGljYXRpb24uaW5zdGFuY2UucmVmcmVzaEFjdGl2ZVF1ZXVlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDYwMDAwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25GaW5pc2hTaWduaW5nSW4oKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlcnJvcjogb29wc1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBwdWJsaWMgaXNDb3Vyc2VBZG1pbihjb3Vyc2VJZDogc3RyaW5nKSA6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hZG1pbnNbY291cnNlSWRdO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgfVxyXG5cclxuICAgIGNsYXNzIFVuYXV0aGVudGljYXRlZFVzZXIgZXh0ZW5kcyBVc2VyQmFzZSB7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5vbkZpbmlzaFNpZ25pbmdJbigpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgUXVldWVBcHBsaWNhdGlvbi5pbnN0YW5jZS5yZWZyZXNoQWN0aXZlUXVldWUoKTtcclxuICAgICAgICAgICAgfSwgNjAwMDApO1xyXG5cclxuICAgICAgICAgICAgLy8gVE9ETzogY2xlYW4gdXAgd2hlcmUgdGhlIHJlZnJlc2ggaW50ZXJ2YWxzIGdldCBzZXRcclxuICAgICAgICAgICAgLy8gICAgICAgcmlnaHQgbm93IGl0IHNlZW1zIGxpa2UgbXVsdGlwbGUgY2FuIGdldCBzZXRcclxuICAgIFxyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIHB1YmxpYyBpc1VtaWNoKCkgOiBib29sZWFuIHsgcmV0dXJuIGZhbHNlOyB9XHJcbiAgICAgICAgcHVibGljIGlkVG9rZW4oKSA6IHN0cmluZyB7IHJldHVybiBcIlwiOyB9XHJcbiAgICAgICAgcHVibGljIGlzQ291cnNlQWRtaW4oY291cnNlSWQ6IHN0cmluZykgOiBib29sZWFuIHsgcmV0dXJuIGZhbHNlOyB9XHJcbiAgICAgICAgcHVibGljIGlzTWUoZW1haWw6IHN0cmluZykgOiBib29sZWFuIHsgcmV0dXJuIGZhbHNlOyB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGxldCB0aGVVc2VyOiBVc2VyQmFzZSA9IG5ldyBVbmF1dGhlbnRpY2F0ZWRVc2VyKCk7XHJcblxyXG59IC8vIGVuZCBVc2VyIG5hbWVzcGFjZVxyXG5cclxuXHJcbi8vIEdpdmUgd2FybmluZyB0byB1c2VycyBpbiBTYWZhcmkvaU9TIHByaXZhdGUgYnJvd3NpbmdcclxuLy8gbW9kZSB0aGF0IEdvb2dsZSBzaWduLWluIHdvbid0IHdvcmsuXHJcbi8vIFRPRE86IEknbSBub3QgY29udmluY2VkIHRoaXMgYWN0dWFsbHkgZG9lcyBhbnl0aGluZ1xyXG4vL2h0dHBzOi8vZ2lzdC5naXRodWIuY29tL3BoaWxmcmVvLzY4ZWEzY2Q5ODBkNzIzODNjOTUxXHJcbmlmICh0eXBlb2Ygc2Vzc2lvblN0b3JhZ2UgPT09ICdvYmplY3QnKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2xvY2FsU3RvcmFnZScsIFwiMVwiKTtcclxuICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCdsb2NhbFN0b3JhZ2UnKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBvb3BzKG51bGwsIFwiSXQgbG9va3MgbGlrZSBsb2NhbCBzdG9yYWdlIGlzIGRpc2FibGVkIGluIHlvdXIgYnJvd3Nlci4gVGhpcyBtYXkgYWdncmF2YXRlIGFuIGlzc3VlIHdpdGggR29vZ2xlIHNpZ24taW4gb24gU2FmYXJpIG9yIGlPUyB3aGlsZSB1c2luZyBwcml2YXRlIGJyb3dzaW5nIG1vZGUuXCIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBvb3BzKHhocjogYW55LCB0ZXh0U3RhdHVzOiBhbnkpe1xyXG4gICAgaWYgKHRleHRTdGF0dXMgPT09IFwiYWJvcnRcIikgeyByZXR1cm47IH1cclxuICAgIGNvbnNvbGUubG9nKFwiT29wcy4gQW4gZXJyb3Igb2NjdXJyZWQuIFRyeSByZWZyZXNoaW5nIHRoZSBwYWdlLlwiKTtcclxuICAgICQoXCIjb29wc0RpYWxvZ1wiKS5tb2RhbChcInNob3dcIik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3dFcnJvck1lc3NhZ2UobWVzc2FnZTogYW55KSB7XHJcbiAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTtcclxuICAgICQoXCIjZXJyb3JNZXNzYWdlXCIpLmh0bWwobWVzc2FnZSk7XHJcbiAgICAkKFwiI2Vycm9yRGlhbG9nXCIpLm1vZGFsKFwic2hvd1wiKTtcclxufVxyXG4iLCJcclxuaW1wb3J0IHB1bGwgZnJvbSBcImxvZGFzaC9wdWxsXCI7XHJcblxyXG5pbnRlcmZhY2UgTWVzc2FnZSB7XHJcbiAgICBjYXRlZ29yeTogc3RyaW5nO1xyXG4gICAgZGF0YToge307XHJcbiAgICBzb3VyY2U6IGFueTtcclxufVxyXG5cclxuXHJcbi8vIGludGVyZmFjZSBPYnNlcnZhYmxlVHlwZSB7XHJcbi8vICAgICBzZW5kKGNhdGVnb3J5OiBzdHJpbmcsIGRhdGE6IGFueSkgOiB2b2lkO1xyXG4vLyAgICAgYWRkTGlzdGVuZXIobGlzdGVuZXI6IE9ic2VydmVyVHlwZSwgY2F0ZWdvcnk/OiBzdHJpbmcgfCBzdHJpbmdbXSkgOiBPYnNlcnZhYmxlVHlwZTtcclxuLy8gICAgIHJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyOiBPYnNlcnZlclR5cGUsIGNhdGVnb3J5Pzogc3RyaW5nKSA6IE9ic2VydmFibGVUeXBlO1xyXG4vLyAgICAgaWRlbnRpZnkoY2F0ZWdvcnk6IHN0cmluZywgZnVuYzogKG86T2JzZXJ2ZXJUeXBlKSA9PiBhbnkpIDogT2JzZXJ2ZXJUeXBlO1xyXG4vLyB9XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWRkTGlzdGVuZXIob2JqV2l0aE9ic2VydmFibGU6IHtvYnNlcnZhYmxlOiBPYnNlcnZhYmxlfSwgbGlzdGVuZXI6IE9ic2VydmVyVHlwZSwgY2F0ZWdvcnk/OiBzdHJpbmcgfCBzdHJpbmdbXSkge1xyXG4gICAgb2JqV2l0aE9ic2VydmFibGUub2JzZXJ2YWJsZS5hZGRMaXN0ZW5lcihsaXN0ZW5lciwgY2F0ZWdvcnkpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWVzc2FnZVJlc3BvbnNlKG1lc3NhZ2VDYXRlZ29yeT86IHN0cmluZykge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQ6IGFueSwgcHJvcGVydHlLZXk6IHN0cmluZywgZGVzY3JpcHRvcjogUHJvcGVydHlEZXNjcmlwdG9yKSB7XHJcbiAgICAgICAgaWYgKCF0YXJnZXQuX2FjdCkgeyB0YXJnZXQuX2FjdCA9IHt9OyB9XHJcbiAgICAgICAgdGFyZ2V0Ll9hY3RbbWVzc2FnZUNhdGVnb3J5IHx8IHByb3BlcnR5S2V5XSA9IHRhcmdldFtwcm9wZXJ0eUtleV07XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2VSZXNwb25zZXMge1xyXG4gICAgW2luZGV4OiBzdHJpbmddOiAoKG1zZzogTWVzc2FnZSkgPT4gdm9pZCk7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgT2JzZXJ2ZXJUeXBlIHtcclxuICAgIF9hY3QgOiBNZXNzYWdlUmVzcG9uc2VzO1xyXG59XHJcblxyXG4vLyBleHBvcnQgY2xhc3MgT2JzZXJ2ZXIge1xyXG4vLyAgICAgcHJpdmF0ZSByZWFkb25seSBhY3RvcjogQWN0b3I7XHJcblxyXG4vLyAgICAgY29uc3RydWN0b3IoYWN0b3I6IEFjdG9yKSB7XHJcbi8vICAgICAgICAgdGhpcy5hY3RvciA9IGFjdG9yO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBfSURFTlRJRlkobXNnIDoge2RhdGE6KG86YW55KSA9PiB2b2lkfSkge1xyXG4vLyAgICAgICAgIG1zZy5kYXRhKHRoaXMpO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBsaXN0ZW5UbyhvdGhlcjogT2JzZXJ2YWJsZVR5cGUsIGNhdGVnb3J5OiBzdHJpbmcpIHtcclxuLy8gICAgICAgICBvdGhlci5hZGRMaXN0ZW5lcih0aGlzLCBjYXRlZ29yeSk7XHJcbi8vICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIHN0b3BMaXN0ZW5pbmdUbyhvdGhlcjogT2JzZXJ2YWJsZVR5cGUsIGNhdGVnb3J5OiBzdHJpbmcpIHtcclxuLy8gICAgICAgICBpZiAob3RoZXIpIHtcclxuLy8gICAgICAgICAgICAgb3RoZXIucmVtb3ZlTGlzdGVuZXIodGhpcywgY2F0ZWdvcnkpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICByZXR1cm4gdGhpcztcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgcmVjdiAobXNnIDogTWVzc2FnZSkge1xyXG5cclxuLy8gICAgICAgICAvLyBDYWxsIHRoZSBcIl9hY3RcIiBmdW5jdGlvbiBmb3IgdGhpc1xyXG4vLyAgICAgICAgIHZhciBjYXRBY3QgPSB0aGlzLmFjdG9yLl9hY3RbbXNnLmNhdGVnb3J5XTtcclxuLy8gICAgICAgICBpZiAoY2F0QWN0KXtcclxuLy8gICAgICAgICAgICAgY2F0QWN0LmNhbGwodGhpcy5hY3RvciwgbXNnKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZSBpZiAodGhpcy5hY3Rvci5fYWN0Ll9kZWZhdWx0KSB7XHJcbi8vICAgICAgICAgICAgIHRoaXMuYWN0b3IuX2FjdC5fZGVmYXVsdC5jYWxsKHRoaXMuYWN0b3IsIG1zZyk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2Uge1xyXG4vLyAgICAgICAgICAgICBhc3NlcnQoZmFsc2UpO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICB9XHJcbi8vIH1cclxuXHJcbmZ1bmN0aW9uIHJlY2VpdmVNZXNzYWdlKG9ic2VydmVyOiBPYnNlcnZlclR5cGUsIG1zZzogTWVzc2FnZSkge1xyXG4gICAgdmFyIGNhdEFjdCA9IG9ic2VydmVyLl9hY3RbbXNnLmNhdGVnb3J5XTtcclxuICAgIGlmIChjYXRBY3Qpe1xyXG4gICAgICAgIGNhdEFjdC5jYWxsKG9ic2VydmVyLCBtc2cpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAob2JzZXJ2ZXIuX2FjdC5fZGVmYXVsdCkge1xyXG4gICAgICAgIG9ic2VydmVyLl9hY3QuX2RlZmF1bHQuY2FsbChvYnNlcnZlciwgbXNnKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGFzc2VydChmYWxzZSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBPYnNlcnZhYmxlIHtcclxuICAgIHByaXZhdGUgc2lsZW50ID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIHVuaXZlcnNhbE9ic2VydmVyczogT2JzZXJ2ZXJUeXBlW10gPSBbXTtcclxuICAgIHByaXZhdGUgb2JzZXJ2ZXJzOiB7W2luZGV4OiBzdHJpbmddIDogT2JzZXJ2ZXJUeXBlW119ID0ge307XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBzb3VyY2U6IGFueTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2U6IGFueSkge1xyXG4gICAgICAgIHRoaXMuc291cmNlID0gc291cmNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZW5kKGNhdGVnb3J5OiBzdHJpbmcsIGRhdGE/OiBhbnkpIHtcclxuICAgICAgICBpZiAodGhpcy5zaWxlbnQpe1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBtc2c6IE1lc3NhZ2UgPSB7XHJcbiAgICAgICAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeSxcclxuICAgICAgICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgICAgICAgc291cmNlOiB0aGlzLnNvdXJjZVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGxldCBvYnNlcnZlcnMgPSB0aGlzLm9ic2VydmVyc1ttc2cuY2F0ZWdvcnldO1xyXG4gICAgICAgIGlmIChvYnNlcnZlcnMpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYnNlcnZlcnMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIHJlY2VpdmVNZXNzYWdlKG9ic2VydmVyc1tpXSwgbXNnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnVuaXZlcnNhbE9ic2VydmVycy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICByZWNlaXZlTWVzc2FnZSh0aGlzLnVuaXZlcnNhbE9ic2VydmVyc1tpXSwgbXNnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZExpc3RlbmVyKGxpc3RlbmVyOiBPYnNlcnZlclR5cGUsIGNhdGVnb3J5Pzogc3RyaW5nIHwgc3RyaW5nW10pIHtcclxuICAgICAgICBpZiAoY2F0ZWdvcnkpIHtcclxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2F0ZWdvcnkpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSdzIGFuIGFycmF5IG9mIGNhdGVnb3JpZXMsIGFkZCB0byBhbGwgaW5kaXZpZHVhbGx5XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhdGVnb3J5Lmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRMaXN0ZW5lcihsaXN0ZW5lciwgY2F0ZWdvcnlbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm9ic2VydmVyc1tjYXRlZ29yeV0pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9ic2VydmVyc1tjYXRlZ29yeV0gPSBbXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXJzW2NhdGVnb3J5XS5wdXNoKGxpc3RlbmVyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXJBZGRlZChsaXN0ZW5lciwgY2F0ZWdvcnkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIC8vIGlmIG5vIGNhdGVnb3J5LCBpbnRlbnQgaXMgdG8gbGlzdGVuIHRvIGV2ZXJ5dGhpbmdcclxuICAgICAgICAgICAgdGhpcy51bml2ZXJzYWxPYnNlcnZlcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJBZGRlZChsaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgTm90ZTogdG8gcmVtb3ZlIGEgdW5pdmVyc2FsIGxpc3RlbmVyLCB5b3UgbXVzdCBjYWxsIHRoaXMgd2l0aCBjYXRlZ29yeT09ZmFsc2UuXHJcbiAgICBJZiBhIGxpc3RlbmVyIGlzIHVuaXZlcnNhbCwgcmVtb3ZpbmcgaXQgZnJvbSBhIHBhcnRpY3VsYXIgY2F0ZWdvcnkgd29uJ3QgZG8gYW55dGhpbmcuXHJcbiAgICAqL1xyXG4gICAgcHVibGljIHJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyOiBPYnNlcnZlclR5cGUsIGNhdGVnb3J5Pzogc3RyaW5nKSB7XHJcbiAgICAgICAgaWYoY2F0ZWdvcnkpIHtcclxuICAgICAgICAgICAgLy8gUmVtb3ZlIGZyb20gdGhlIGxpc3QgZm9yIGEgc3BlY2lmaWMgY2F0ZWdvcnkgKGlmIGxpc3QgZXhpc3RzKVxyXG4gICAgICAgICAgICBsZXQgb2JzZXJ2ZXJzID0gdGhpcy5vYnNlcnZlcnNbY2F0ZWdvcnldO1xyXG4gICAgICAgICAgICBvYnNlcnZlcnMgJiYgcHVsbChvYnNlcnZlcnMsIGxpc3RlbmVyKTtcclxuICAgICAgICAgICAgdGhpcy5saXN0ZW5lclJlbW92ZWQobGlzdGVuZXIsIGNhdGVnb3J5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgLy8gUmVtb3ZlIGZyb20gYWxsIGNhdGVnb3JpZXNcclxuICAgICAgICAgICAgZm9yKHZhciBjYXQgaW4gdGhpcy5vYnNlcnZlcnMpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcihsaXN0ZW5lciwgY2F0KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQWxzbyByZW1vdmUgZnJvbSB1bml2ZXJzYWwgbGlzdGVuZXJzXHJcbiAgICAgICAgICAgIHB1bGwodGhpcy51bml2ZXJzYWxPYnNlcnZlcnMsIGxpc3RlbmVyKTtcclxuICAgICAgICAgICAgdGhpcy5saXN0ZW5lclJlbW92ZWQobGlzdGVuZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgbGlzdGVuZXJBZGRlZChsaXN0ZW5lcjogT2JzZXJ2ZXJUeXBlLCBjYXRlZ29yeT86IHN0cmluZykgOiB2b2lkIHsgfVxyXG4gICAgcHJvdGVjdGVkIGxpc3RlbmVyUmVtb3ZlZChsaXN0ZW5lcjogT2JzZXJ2ZXJUeXBlLCBjYXRlZ29yeT86IHN0cmluZykgOiB2b2lkIHsgfVxyXG5cclxuICAgIC8vIHB1YmxpYyBpZGVudGlmeShjYXRlZ29yeTogc3RyaW5nLCBmdW5jOiAobzpPYnNlcnZlclR5cGUpID0+IGFueSkge1xyXG4gICAgLy8gICAgIGxldCBvdGhlciEgOiBPYnNlcnZlclR5cGU7IC8vIFVzZXMgZGVmaW5pdGUgYXNzaWdubWVudCBhbm5vdGF0aW9uIHNpbmNlIHRoZSBmdW5jdGlvbiBpcyBhc3N1bWVkIHRvIGFzc2lnbiB0byBvdGhlclxyXG4gICAgLy8gICAgIHRoaXMuc2VuZChjYXRlZ29yeSwgZnVuYyB8fCBmdW5jdGlvbihvOk9ic2VydmVyVHlwZSkge290aGVyID0gbzt9KTtcclxuICAgIC8vICAgICByZXR1cm4gb3RoZXI7XHJcbiAgICAvLyB9XHJcblxyXG59XHJcbiIsInZhciBiYXNlUmVzdCA9IHJlcXVpcmUoJy4vX2Jhc2VSZXN0JyksXG4gICAgcHVsbEFsbCA9IHJlcXVpcmUoJy4vcHVsbEFsbCcpO1xuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGdpdmVuIHZhbHVlcyBmcm9tIGBhcnJheWAgdXNpbmdcbiAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gKlxuICogKipOb3RlOioqIFVubGlrZSBgXy53aXRob3V0YCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLiBVc2UgYF8ucmVtb3ZlYFxuICogdG8gcmVtb3ZlIGVsZW1lbnRzIGZyb20gYW4gYXJyYXkgYnkgcHJlZGljYXRlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMi4wLjBcbiAqIEBjYXRlZ29yeSBBcnJheVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdhJywgJ2InLCAnYyddO1xuICpcbiAqIF8ucHVsbChhcnJheSwgJ2EnLCAnYycpO1xuICogY29uc29sZS5sb2coYXJyYXkpO1xuICogLy8gPT4gWydiJywgJ2InXVxuICovXG52YXIgcHVsbCA9IGJhc2VSZXN0KHB1bGxBbGwpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHB1bGw7XG4iLCJ2YXIgaWRlbnRpdHkgPSByZXF1aXJlKCcuL2lkZW50aXR5JyksXG4gICAgb3ZlclJlc3QgPSByZXF1aXJlKCcuL19vdmVyUmVzdCcpLFxuICAgIHNldFRvU3RyaW5nID0gcmVxdWlyZSgnLi9fc2V0VG9TdHJpbmcnKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZXN0YCB3aGljaCBkb2Vzbid0IHZhbGlkYXRlIG9yIGNvZXJjZSBhcmd1bWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVJlc3QoZnVuYywgc3RhcnQpIHtcbiAgcmV0dXJuIHNldFRvU3RyaW5nKG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCBpZGVudGl0eSksIGZ1bmMgKyAnJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZVJlc3Q7XG4iLCJ2YXIgYXBwbHkgPSByZXF1aXJlKCcuL19hcHBseScpO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlTWF4ID0gTWF0aC5tYXg7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUmVzdGAgd2hpY2ggdHJhbnNmb3JtcyB0aGUgcmVzdCBhcnJheS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgcmVzdCBhcnJheSB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb3ZlclJlc3QoZnVuYywgc3RhcnQsIHRyYW5zZm9ybSkge1xuICBzdGFydCA9IG5hdGl2ZU1heChzdGFydCA9PT0gdW5kZWZpbmVkID8gKGZ1bmMubGVuZ3RoIC0gMSkgOiBzdGFydCwgMCk7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3MubGVuZ3RoIC0gc3RhcnQsIDApLFxuICAgICAgICBhcnJheSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYXJyYXlbaW5kZXhdID0gYXJnc1tzdGFydCArIGluZGV4XTtcbiAgICB9XG4gICAgaW5kZXggPSAtMTtcbiAgICB2YXIgb3RoZXJBcmdzID0gQXJyYXkoc3RhcnQgKyAxKTtcbiAgICB3aGlsZSAoKytpbmRleCA8IHN0YXJ0KSB7XG4gICAgICBvdGhlckFyZ3NbaW5kZXhdID0gYXJnc1tpbmRleF07XG4gICAgfVxuICAgIG90aGVyQXJnc1tzdGFydF0gPSB0cmFuc2Zvcm0oYXJyYXkpO1xuICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG92ZXJSZXN0O1xuIiwiLyoqXG4gKiBBIGZhc3RlciBhbHRlcm5hdGl2ZSB0byBgRnVuY3Rpb24jYXBwbHlgLCB0aGlzIGZ1bmN0aW9uIGludm9rZXMgYGZ1bmNgXG4gKiB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiBgdGhpc0FyZ2AgYW5kIHRoZSBhcmd1bWVudHMgb2YgYGFyZ3NgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gKiBAcGFyYW0geyp9IHRoaXNBcmcgVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIGBmdW5jYC5cbiAqL1xuZnVuY3Rpb24gYXBwbHkoZnVuYywgdGhpc0FyZywgYXJncykge1xuICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgY2FzZSAwOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcpO1xuICAgIGNhc2UgMTogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdKTtcbiAgICBjYXNlIDI6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgY2FzZSAzOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICB9XG4gIHJldHVybiBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFwcGx5O1xuIiwidmFyIGJhc2VTZXRUb1N0cmluZyA9IHJlcXVpcmUoJy4vX2Jhc2VTZXRUb1N0cmluZycpLFxuICAgIHNob3J0T3V0ID0gcmVxdWlyZSgnLi9fc2hvcnRPdXQnKTtcblxuLyoqXG4gKiBTZXRzIHRoZSBgdG9TdHJpbmdgIG1ldGhvZCBvZiBgZnVuY2AgdG8gcmV0dXJuIGBzdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAqL1xudmFyIHNldFRvU3RyaW5nID0gc2hvcnRPdXQoYmFzZVNldFRvU3RyaW5nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBzZXRUb1N0cmluZztcbiIsInZhciBjb25zdGFudCA9IHJlcXVpcmUoJy4vY29uc3RhbnQnKSxcbiAgICBkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX2RlZmluZVByb3BlcnR5JyksXG4gICAgaWRlbnRpdHkgPSByZXF1aXJlKCcuL2lkZW50aXR5Jyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldFRvU3RyaW5nYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAqL1xudmFyIGJhc2VTZXRUb1N0cmluZyA9ICFkZWZpbmVQcm9wZXJ0eSA/IGlkZW50aXR5IDogZnVuY3Rpb24oZnVuYywgc3RyaW5nKSB7XG4gIHJldHVybiBkZWZpbmVQcm9wZXJ0eShmdW5jLCAndG9TdHJpbmcnLCB7XG4gICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgJ2VudW1lcmFibGUnOiBmYWxzZSxcbiAgICAndmFsdWUnOiBjb25zdGFudChzdHJpbmcpLFxuICAgICd3cml0YWJsZSc6IHRydWVcbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VTZXRUb1N0cmluZztcbiIsIi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBgdmFsdWVgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMi40LjBcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZXR1cm4gZnJvbSB0aGUgbmV3IGZ1bmN0aW9uLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29uc3RhbnQgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3RzID0gXy50aW1lcygyLCBfLmNvbnN0YW50KHsgJ2EnOiAxIH0pKTtcbiAqXG4gKiBjb25zb2xlLmxvZyhvYmplY3RzKTtcbiAqIC8vID0+IFt7ICdhJzogMSB9LCB7ICdhJzogMSB9XVxuICpcbiAqIGNvbnNvbGUubG9nKG9iamVjdHNbMF0gPT09IG9iamVjdHNbMV0pO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBjb25zdGFudCh2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnN0YW50O1xuIiwidmFyIGdldE5hdGl2ZSA9IHJlcXVpcmUoJy4vX2dldE5hdGl2ZScpO1xuXG52YXIgZGVmaW5lUHJvcGVydHkgPSAoZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgdmFyIGZ1bmMgPSBnZXROYXRpdmUoT2JqZWN0LCAnZGVmaW5lUHJvcGVydHknKTtcbiAgICBmdW5jKHt9LCAnJywge30pO1xuICAgIHJldHVybiBmdW5jO1xuICB9IGNhdGNoIChlKSB7fVxufSgpKTtcblxubW9kdWxlLmV4cG9ydHMgPSBkZWZpbmVQcm9wZXJ0eTtcbiIsInZhciBiYXNlSXNOYXRpdmUgPSByZXF1aXJlKCcuL19iYXNlSXNOYXRpdmUnKSxcbiAgICBnZXRWYWx1ZSA9IHJlcXVpcmUoJy4vX2dldFZhbHVlJyk7XG5cbi8qKlxuICogR2V0cyB0aGUgbmF0aXZlIGZ1bmN0aW9uIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZCB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG4gKi9cbmZ1bmN0aW9uIGdldE5hdGl2ZShvYmplY3QsIGtleSkge1xuICB2YXIgdmFsdWUgPSBnZXRWYWx1ZShvYmplY3QsIGtleSk7XG4gIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0TmF0aXZlO1xuIiwidmFyIGlzRnVuY3Rpb24gPSByZXF1aXJlKCcuL2lzRnVuY3Rpb24nKSxcbiAgICBpc01hc2tlZCA9IHJlcXVpcmUoJy4vX2lzTWFza2VkJyksXG4gICAgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzT2JqZWN0JyksXG4gICAgdG9Tb3VyY2UgPSByZXF1aXJlKCcuL190b1NvdXJjZScpO1xuXG4vKipcbiAqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGBcbiAqIFtzeW50YXggY2hhcmFjdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcGF0dGVybnMpLlxuICovXG52YXIgcmVSZWdFeHBDaGFyID0gL1tcXFxcXiQuKis/KClbXFxde318XS9nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovXG52YXIgcmVJc0hvc3RDdG9yID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLztcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUuICovXG52YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICBmdW5jVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywgJyQxLio/JykgKyAnJCdcbik7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYXRpdmVgIHdpdGhvdXQgYmFkIHNoaW0gY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzTmF0aXZlKHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpIHx8IGlzTWFza2VkKHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcGF0dGVybiA9IGlzRnVuY3Rpb24odmFsdWUpID8gcmVJc05hdGl2ZSA6IHJlSXNIb3N0Q3RvcjtcbiAgcmV0dXJuIHBhdHRlcm4udGVzdCh0b1NvdXJjZSh2YWx1ZSkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VJc05hdGl2ZTtcbiIsInZhciBiYXNlR2V0VGFnID0gcmVxdWlyZSgnLi9fYmFzZUdldFRhZycpLFxuICAgIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgYXN5bmNUYWcgPSAnW29iamVjdCBBc3luY0Z1bmN0aW9uXScsXG4gICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxcbiAgICBwcm94eVRhZyA9ICdbb2JqZWN0IFByb3h5XSc7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBGdW5jdGlvbmAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0Z1bmN0aW9uKF8pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuICAvLyBpbiBTYWZhcmkgOSB3aGljaCByZXR1cm5zICdvYmplY3QnIGZvciB0eXBlZCBhcnJheXMgYW5kIG90aGVyIGNvbnN0cnVjdG9ycy5cbiAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICByZXR1cm4gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZyB8fCB0YWcgPT0gYXN5bmNUYWcgfHwgdGFnID09IHByb3h5VGFnO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzRnVuY3Rpb247XG4iLCIvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZyZWVHbG9iYWw7XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJ2YXIgU3ltYm9sID0gcmVxdWlyZSgnLi9fU3ltYm9sJyk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VHZXRUYWdgIHdoaWNoIGlnbm9yZXMgYFN5bWJvbC50b1N0cmluZ1RhZ2AgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBnZXRSYXdUYWcodmFsdWUpIHtcbiAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuICAgICAgdGFnID0gdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuXG4gIHRyeSB7XG4gICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgIHZhciB1bm1hc2tlZCA9IHRydWU7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdmFyIHJlc3VsdCA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICBpZiAodW5tYXNrZWQpIHtcbiAgICBpZiAoaXNPd24pIHtcbiAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHRhZztcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRSYXdUYWc7XG4iLCIvKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIHVzaW5nIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBvYmplY3RUb1N0cmluZztcbiIsInZhciBjb3JlSnNEYXRhID0gcmVxdWlyZSgnLi9fY29yZUpzRGF0YScpO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xudmFyIG1hc2tTcmNLZXkgPSAoZnVuY3Rpb24oKSB7XG4gIHZhciB1aWQgPSAvW14uXSskLy5leGVjKGNvcmVKc0RhdGEgJiYgY29yZUpzRGF0YS5rZXlzICYmIGNvcmVKc0RhdGEua2V5cy5JRV9QUk9UTyB8fCAnJyk7XG4gIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbn0oKSk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgaXRzIHNvdXJjZSBtYXNrZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNNYXNrZWQoZnVuYykge1xuICByZXR1cm4gISFtYXNrU3JjS2V5ICYmIChtYXNrU3JjS2V5IGluIGZ1bmMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzTWFza2VkO1xuIiwidmFyIHJvb3QgPSByZXF1aXJlKCcuL19yb290Jyk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbnZhciBjb3JlSnNEYXRhID0gcm9vdFsnX19jb3JlLWpzX3NoYXJlZF9fJ107XG5cbm1vZHVsZS5leHBvcnRzID0gY29yZUpzRGF0YTtcbiIsIi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbi8qKlxuICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNvdXJjZSBjb2RlLlxuICovXG5mdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiAnJztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0b1NvdXJjZTtcbiIsIi8qKlxuICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGdldFZhbHVlKG9iamVjdCwga2V5KSB7XG4gIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFZhbHVlO1xuIiwiLyoqIFVzZWQgdG8gZGV0ZWN0IGhvdCBmdW5jdGlvbnMgYnkgbnVtYmVyIG9mIGNhbGxzIHdpdGhpbiBhIHNwYW4gb2YgbWlsbGlzZWNvbmRzLiAqL1xudmFyIEhPVF9DT1VOVCA9IDgwMCxcbiAgICBIT1RfU1BBTiA9IDE2O1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlTm93ID0gRGF0ZS5ub3c7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQnbGwgc2hvcnQgb3V0IGFuZCBpbnZva2UgYGlkZW50aXR5YCBpbnN0ZWFkXG4gKiBvZiBgZnVuY2Agd2hlbiBpdCdzIGNhbGxlZCBgSE9UX0NPVU5UYCBvciBtb3JlIHRpbWVzIGluIGBIT1RfU1BBTmBcbiAqIG1pbGxpc2Vjb25kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzaG9ydGFibGUgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIHNob3J0T3V0KGZ1bmMpIHtcbiAgdmFyIGNvdW50ID0gMCxcbiAgICAgIGxhc3RDYWxsZWQgPSAwO1xuXG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RhbXAgPSBuYXRpdmVOb3coKSxcbiAgICAgICAgcmVtYWluaW5nID0gSE9UX1NQQU4gLSAoc3RhbXAgLSBsYXN0Q2FsbGVkKTtcblxuICAgIGxhc3RDYWxsZWQgPSBzdGFtcDtcbiAgICBpZiAocmVtYWluaW5nID4gMCkge1xuICAgICAgaWYgKCsrY291bnQgPj0gSE9UX0NPVU5UKSB7XG4gICAgICAgIHJldHVybiBhcmd1bWVudHNbMF07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvdW50ID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmMuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNob3J0T3V0O1xuIiwidmFyIGJhc2VQdWxsQWxsID0gcmVxdWlyZSgnLi9fYmFzZVB1bGxBbGwnKTtcblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnB1bGxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYW4gYXJyYXkgb2YgdmFsdWVzIHRvIHJlbW92ZS5cbiAqXG4gKiAqKk5vdGU6KiogVW5saWtlIGBfLmRpZmZlcmVuY2VgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IEFycmF5XG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnYScsICdiJywgJ2MnXTtcbiAqXG4gKiBfLnB1bGxBbGwoYXJyYXksIFsnYScsICdjJ10pO1xuICogY29uc29sZS5sb2coYXJyYXkpO1xuICogLy8gPT4gWydiJywgJ2InXVxuICovXG5mdW5jdGlvbiBwdWxsQWxsKGFycmF5LCB2YWx1ZXMpIHtcbiAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGggJiYgdmFsdWVzICYmIHZhbHVlcy5sZW5ndGgpXG4gICAgPyBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzKVxuICAgIDogYXJyYXk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcHVsbEFsbDtcbiIsInZhciBhcnJheU1hcCA9IHJlcXVpcmUoJy4vX2FycmF5TWFwJyksXG4gICAgYmFzZUluZGV4T2YgPSByZXF1aXJlKCcuL19iYXNlSW5kZXhPZicpLFxuICAgIGJhc2VJbmRleE9mV2l0aCA9IHJlcXVpcmUoJy4vX2Jhc2VJbmRleE9mV2l0aCcpLFxuICAgIGJhc2VVbmFyeSA9IHJlcXVpcmUoJy4vX2Jhc2VVbmFyeScpLFxuICAgIGNvcHlBcnJheSA9IHJlcXVpcmUoJy4vX2NvcHlBcnJheScpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgYXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgc3BsaWNlID0gYXJyYXlQcm90by5zcGxpY2U7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHVsbEFsbEJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gKiBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VQdWxsQWxsKGFycmF5LCB2YWx1ZXMsIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gIHZhciBpbmRleE9mID0gY29tcGFyYXRvciA/IGJhc2VJbmRleE9mV2l0aCA6IGJhc2VJbmRleE9mLFxuICAgICAgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICBzZWVuID0gYXJyYXk7XG5cbiAgaWYgKGFycmF5ID09PSB2YWx1ZXMpIHtcbiAgICB2YWx1ZXMgPSBjb3B5QXJyYXkodmFsdWVzKTtcbiAgfVxuICBpZiAoaXRlcmF0ZWUpIHtcbiAgICBzZWVuID0gYXJyYXlNYXAoYXJyYXksIGJhc2VVbmFyeShpdGVyYXRlZSkpO1xuICB9XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGZyb21JbmRleCA9IDAsXG4gICAgICAgIHZhbHVlID0gdmFsdWVzW2luZGV4XSxcbiAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgd2hpbGUgKChmcm9tSW5kZXggPSBpbmRleE9mKHNlZW4sIGNvbXB1dGVkLCBmcm9tSW5kZXgsIGNvbXBhcmF0b3IpKSA+IC0xKSB7XG4gICAgICBpZiAoc2VlbiAhPT0gYXJyYXkpIHtcbiAgICAgICAgc3BsaWNlLmNhbGwoc2VlbiwgZnJvbUluZGV4LCAxKTtcbiAgICAgIH1cbiAgICAgIHNwbGljZS5jYWxsKGFycmF5LCBmcm9tSW5kZXgsIDEpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZVB1bGxBbGw7XG4iLCJ2YXIgYmFzZUZpbmRJbmRleCA9IHJlcXVpcmUoJy4vX2Jhc2VGaW5kSW5kZXgnKSxcbiAgICBiYXNlSXNOYU4gPSByZXF1aXJlKCcuL19iYXNlSXNOYU4nKSxcbiAgICBzdHJpY3RJbmRleE9mID0gcmVxdWlyZSgnLi9fc3RyaWN0SW5kZXhPZicpO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmluZGV4T2ZgIHdpdGhvdXQgYGZyb21JbmRleGAgYm91bmRzIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICovXG5mdW5jdGlvbiBiYXNlSW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICByZXR1cm4gdmFsdWUgPT09IHZhbHVlXG4gICAgPyBzdHJpY3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KVxuICAgIDogYmFzZUZpbmRJbmRleChhcnJheSwgYmFzZUlzTmFOLCBmcm9tSW5kZXgpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VJbmRleE9mO1xuIiwiLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5maW5kSW5kZXhgIGFuZCBgXy5maW5kTGFzdEluZGV4YCB3aXRob3V0XG4gKiBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VGaW5kSW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4LCBmcm9tUmlnaHQpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgIGluZGV4ID0gZnJvbUluZGV4ICsgKGZyb21SaWdodCA/IDEgOiAtMSk7XG5cbiAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkpIHtcbiAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUZpbmRJbmRleDtcbiIsIi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYU5gIHdpdGhvdXQgc3VwcG9ydCBmb3IgbnVtYmVyIG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYE5hTmAsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzTmFOKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUlzTmFOO1xuIiwiLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uaW5kZXhPZmAgd2hpY2ggcGVyZm9ybXMgc3RyaWN0IGVxdWFsaXR5XG4gKiBjb21wYXJpc29ucyBvZiB2YWx1ZXMsIGkuZS4gYD09PWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAqL1xuZnVuY3Rpb24gc3RyaWN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICB2YXIgaW5kZXggPSBmcm9tSW5kZXggLSAxLFxuICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgaWYgKGFycmF5W2luZGV4XSA9PT0gdmFsdWUpIHtcbiAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0cmljdEluZGV4T2Y7XG4iLCIvKipcbiAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYmFzZUluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYSBjb21wYXJhdG9yLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmF0b3IgVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJbmRleE9mV2l0aChhcnJheSwgdmFsdWUsIGZyb21JbmRleCwgY29tcGFyYXRvcikge1xuICB2YXIgaW5kZXggPSBmcm9tSW5kZXggLSAxLFxuICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgaWYgKGNvbXBhcmF0b3IoYXJyYXlbaW5kZXhdLCB2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VJbmRleE9mV2l0aDtcbiIsIi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5hcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3Igc3RvcmluZyBtZXRhZGF0YS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VVbmFyeShmdW5jKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlVW5hcnk7XG4iLCIvKipcbiAqIENvcGllcyB0aGUgdmFsdWVzIG9mIGBzb3VyY2VgIHRvIGBhcnJheWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IHNvdXJjZSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgZnJvbS5cbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheT1bXV0gVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIHRvLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gKi9cbmZ1bmN0aW9uIGNvcHlBcnJheShzb3VyY2UsIGFycmF5KSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gc291cmNlLmxlbmd0aDtcblxuICBhcnJheSB8fCAoYXJyYXkgPSBBcnJheShsZW5ndGgpKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBhcnJheVtpbmRleF0gPSBzb3VyY2VbaW5kZXhdO1xuICB9XG4gIHJldHVybiBhcnJheTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjb3B5QXJyYXk7XG4iLCJ2YXIgZXNjYXBlSHRtbENoYXIgPSByZXF1aXJlKCcuL19lc2NhcGVIdG1sQ2hhcicpLFxuICAgIHRvU3RyaW5nID0gcmVxdWlyZSgnLi90b1N0cmluZycpO1xuXG4vKiogVXNlZCB0byBtYXRjaCBIVE1MIGVudGl0aWVzIGFuZCBIVE1MIGNoYXJhY3RlcnMuICovXG52YXIgcmVVbmVzY2FwZWRIdG1sID0gL1smPD5cIiddL2csXG4gICAgcmVIYXNVbmVzY2FwZWRIdG1sID0gUmVnRXhwKHJlVW5lc2NhcGVkSHRtbC5zb3VyY2UpO1xuXG4vKipcbiAqIENvbnZlcnRzIHRoZSBjaGFyYWN0ZXJzIFwiJlwiLCBcIjxcIiwgXCI+XCIsICdcIicsIGFuZCBcIidcIiBpbiBgc3RyaW5nYCB0byB0aGVpclxuICogY29ycmVzcG9uZGluZyBIVE1MIGVudGl0aWVzLlxuICpcbiAqICoqTm90ZToqKiBObyBvdGhlciBjaGFyYWN0ZXJzIGFyZSBlc2NhcGVkLiBUbyBlc2NhcGUgYWRkaXRpb25hbFxuICogY2hhcmFjdGVycyB1c2UgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5IGxpa2UgW19oZV9dKGh0dHBzOi8vbXRocy5iZS9oZSkuXG4gKlxuICogVGhvdWdoIHRoZSBcIj5cIiBjaGFyYWN0ZXIgaXMgZXNjYXBlZCBmb3Igc3ltbWV0cnksIGNoYXJhY3RlcnMgbGlrZVxuICogXCI+XCIgYW5kIFwiL1wiIGRvbid0IG5lZWQgZXNjYXBpbmcgaW4gSFRNTCBhbmQgaGF2ZSBubyBzcGVjaWFsIG1lYW5pbmdcbiAqIHVubGVzcyB0aGV5J3JlIHBhcnQgb2YgYSB0YWcgb3IgdW5xdW90ZWQgYXR0cmlidXRlIHZhbHVlLiBTZWVcbiAqIFtNYXRoaWFzIEJ5bmVucydzIGFydGljbGVdKGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9hbWJpZ3VvdXMtYW1wZXJzYW5kcylcbiAqICh1bmRlciBcInNlbWktcmVsYXRlZCBmdW4gZmFjdFwiKSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFdoZW4gd29ya2luZyB3aXRoIEhUTUwgeW91IHNob3VsZCBhbHdheXNcbiAqIFtxdW90ZSBhdHRyaWJ1dGUgdmFsdWVzXShodHRwOi8vd29ua28uY29tL3Bvc3QvaHRtbC1lc2NhcGluZykgdG8gcmVkdWNlXG4gKiBYU1MgdmVjdG9ycy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgU3RyaW5nXG4gKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBlc2NhcGUuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIHN0cmluZy5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5lc2NhcGUoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJyk7XG4gKiAvLyA9PiAnZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzJ1xuICovXG5mdW5jdGlvbiBlc2NhcGUoc3RyaW5nKSB7XG4gIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gIHJldHVybiAoc3RyaW5nICYmIHJlSGFzVW5lc2NhcGVkSHRtbC50ZXN0KHN0cmluZykpXG4gICAgPyBzdHJpbmcucmVwbGFjZShyZVVuZXNjYXBlZEh0bWwsIGVzY2FwZUh0bWxDaGFyKVxuICAgIDogc3RyaW5nO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGVzY2FwZTtcbiIsInZhciBiYXNlUHJvcGVydHlPZiA9IHJlcXVpcmUoJy4vX2Jhc2VQcm9wZXJ0eU9mJyk7XG5cbi8qKiBVc2VkIHRvIG1hcCBjaGFyYWN0ZXJzIHRvIEhUTUwgZW50aXRpZXMuICovXG52YXIgaHRtbEVzY2FwZXMgPSB7XG4gICcmJzogJyZhbXA7JyxcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnLFxuICAnXCInOiAnJnF1b3Q7JyxcbiAgXCInXCI6ICcmIzM5Oydcbn07XG5cbi8qKlxuICogVXNlZCBieSBgXy5lc2NhcGVgIHRvIGNvbnZlcnQgY2hhcmFjdGVycyB0byBIVE1MIGVudGl0aWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gY2hyIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byBlc2NhcGUuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIGNoYXJhY3Rlci5cbiAqL1xudmFyIGVzY2FwZUh0bWxDaGFyID0gYmFzZVByb3BlcnR5T2YoaHRtbEVzY2FwZXMpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVzY2FwZUh0bWxDaGFyO1xuIiwiLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wcm9wZXJ0eU9mYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlUHJvcGVydHlPZihvYmplY3QpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VQcm9wZXJ0eU9mO1xuIiwiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheWAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbm1vZHVsZS5leHBvcnRzID0gaXNBcnJheTtcbiIsIi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzT2JqZWN0TGlrZTtcbiIsInZhciBiYXNlQ2xhbXAgPSByZXF1aXJlKCcuL19iYXNlQ2xhbXAnKSxcbiAgICBiYXNlVG9TdHJpbmcgPSByZXF1aXJlKCcuL19iYXNlVG9TdHJpbmcnKSxcbiAgICB0b0ludGVnZXIgPSByZXF1aXJlKCcuL3RvSW50ZWdlcicpLFxuICAgIHRvU3RyaW5nID0gcmVxdWlyZSgnLi90b1N0cmluZycpO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgc3RyaW5nYCBlbmRzIHdpdGggdGhlIGdpdmVuIHRhcmdldCBzdHJpbmcuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjAuMFxuICogQGNhdGVnb3J5IFN0cmluZ1xuICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbdGFyZ2V0XSBUaGUgc3RyaW5nIHRvIHNlYXJjaCBmb3IuXG4gKiBAcGFyYW0ge251bWJlcn0gW3Bvc2l0aW9uPXN0cmluZy5sZW5ndGhdIFRoZSBwb3NpdGlvbiB0byBzZWFyY2ggdXAgdG8uXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHN0cmluZ2AgZW5kcyB3aXRoIGB0YXJnZXRgLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5lbmRzV2l0aCgnYWJjJywgJ2MnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVuZHNXaXRoKCdhYmMnLCAnYicpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVuZHNXaXRoKCdhYmMnLCAnYicsIDIpO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBlbmRzV2l0aChzdHJpbmcsIHRhcmdldCwgcG9zaXRpb24pIHtcbiAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgdGFyZ2V0ID0gYmFzZVRvU3RyaW5nKHRhcmdldCk7XG5cbiAgdmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG4gIHBvc2l0aW9uID0gcG9zaXRpb24gPT09IHVuZGVmaW5lZFxuICAgID8gbGVuZ3RoXG4gICAgOiBiYXNlQ2xhbXAodG9JbnRlZ2VyKHBvc2l0aW9uKSwgMCwgbGVuZ3RoKTtcblxuICB2YXIgZW5kID0gcG9zaXRpb247XG4gIHBvc2l0aW9uIC09IHRhcmdldC5sZW5ndGg7XG4gIHJldHVybiBwb3NpdGlvbiA+PSAwICYmIHN0cmluZy5zbGljZShwb3NpdGlvbiwgZW5kKSA9PSB0YXJnZXQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZW5kc1dpdGg7XG4iLCIvKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNsYW1wYCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byBjbGFtcC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbG93ZXJdIFRoZSBsb3dlciBib3VuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjbGFtcGVkIG51bWJlci5cbiAqL1xuZnVuY3Rpb24gYmFzZUNsYW1wKG51bWJlciwgbG93ZXIsIHVwcGVyKSB7XG4gIGlmIChudW1iZXIgPT09IG51bWJlcikge1xuICAgIGlmICh1cHBlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBudW1iZXIgPSBudW1iZXIgPD0gdXBwZXIgPyBudW1iZXIgOiB1cHBlcjtcbiAgICB9XG4gICAgaWYgKGxvd2VyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG51bWJlciA9IG51bWJlciA+PSBsb3dlciA/IG51bWJlciA6IGxvd2VyO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVtYmVyO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VDbGFtcDtcbiIsInZhciB0b0Zpbml0ZSA9IHJlcXVpcmUoJy4vdG9GaW5pdGUnKTtcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGludGVnZXIuXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAqIFtgVG9JbnRlZ2VyYF0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvaW50ZWdlcikuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b0ludGVnZXIoMy4yKTtcbiAqIC8vID0+IDNcbiAqXG4gKiBfLnRvSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IDBcbiAqXG4gKiBfLnRvSW50ZWdlcihJbmZpbml0eSk7XG4gKiAvLyA9PiAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOFxuICpcbiAqIF8udG9JbnRlZ2VyKCczLjInKTtcbiAqIC8vID0+IDNcbiAqL1xuZnVuY3Rpb24gdG9JbnRlZ2VyKHZhbHVlKSB7XG4gIHZhciByZXN1bHQgPSB0b0Zpbml0ZSh2YWx1ZSksXG4gICAgICByZW1haW5kZXIgPSByZXN1bHQgJSAxO1xuXG4gIHJldHVybiByZXN1bHQgPT09IHJlc3VsdCA/IChyZW1haW5kZXIgPyByZXN1bHQgLSByZW1haW5kZXIgOiByZXN1bHQpIDogMDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0b0ludGVnZXI7XG4iLCJ2YXIgdG9OdW1iZXIgPSByZXF1aXJlKCcuL3RvTnVtYmVyJyk7XG5cbi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIElORklOSVRZID0gMSAvIDAsXG4gICAgTUFYX0lOVEVHRVIgPSAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwODtcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgZmluaXRlIG51bWJlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMTIuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgbnVtYmVyLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRvRmluaXRlKDMuMik7XG4gKiAvLyA9PiAzLjJcbiAqXG4gKiBfLnRvRmluaXRlKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gNWUtMzI0XG4gKlxuICogXy50b0Zpbml0ZShJbmZpbml0eSk7XG4gKiAvLyA9PiAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOFxuICpcbiAqIF8udG9GaW5pdGUoJzMuMicpO1xuICogLy8gPT4gMy4yXG4gKi9cbmZ1bmN0aW9uIHRvRmluaXRlKHZhbHVlKSB7XG4gIGlmICghdmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6IDA7XG4gIH1cbiAgdmFsdWUgPSB0b051bWJlcih2YWx1ZSk7XG4gIGlmICh2YWx1ZSA9PT0gSU5GSU5JVFkgfHwgdmFsdWUgPT09IC1JTkZJTklUWSkge1xuICAgIHZhciBzaWduID0gKHZhbHVlIDwgMCA/IC0xIDogMSk7XG4gICAgcmV0dXJuIHNpZ24gKiBNQVhfSU5URUdFUjtcbiAgfVxuICByZXR1cm4gdmFsdWUgPT09IHZhbHVlID8gdmFsdWUgOiAwO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRvRmluaXRlO1xuIiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpLFxuICAgIGlzU3ltYm9sID0gcmVxdWlyZSgnLi9pc1N5bWJvbCcpO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBOQU4gPSAwIC8gMDtcblxuLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZS4gKi9cbnZhciByZVRyaW0gPSAvXlxccyt8XFxzKyQvZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiaW5hcnkgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb2N0YWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4vKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xudmFyIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBudW1iZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9OdW1iZXIoMy4yKTtcbiAqIC8vID0+IDMuMlxuICpcbiAqIF8udG9OdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiA1ZS0zMjRcbiAqXG4gKiBfLnRvTnVtYmVyKEluZmluaXR5KTtcbiAqIC8vID0+IEluZmluaXR5XG4gKlxuICogXy50b051bWJlcignMy4yJyk7XG4gKiAvLyA9PiAzLjJcbiAqL1xuZnVuY3Rpb24gdG9OdW1iZXIodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIE5BTjtcbiAgfVxuICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgIHZhbHVlID0gaXNPYmplY3Qob3RoZXIpID8gKG90aGVyICsgJycpIDogb3RoZXI7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogK3ZhbHVlO1xuICB9XG4gIHZhbHVlID0gdmFsdWUucmVwbGFjZShyZVRyaW0sICcnKTtcbiAgdmFyIGlzQmluYXJ5ID0gcmVJc0JpbmFyeS50ZXN0KHZhbHVlKTtcbiAgcmV0dXJuIChpc0JpbmFyeSB8fCByZUlzT2N0YWwudGVzdCh2YWx1ZSkpXG4gICAgPyBmcmVlUGFyc2VJbnQodmFsdWUuc2xpY2UoMiksIGlzQmluYXJ5ID8gMiA6IDgpXG4gICAgOiAocmVJc0JhZEhleC50ZXN0KHZhbHVlKSA/IE5BTiA6ICt2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdG9OdW1iZXI7XG4iXSwic291cmNlUm9vdCI6IiJ9